import{s as Ce,e as K,b as ve,t as re,d as x,f as O,O as An,j as me,h as oe,i as P,v,k as j,l as L,m as Se,n as pe,w as Ze,P as In,Q as Mt,R as On,S as Ee,T as ne,r as Nt,U,V,p as ae,x as Gt,F as Wt,W as Zt}from"../chunks/scheduler.Df9TYcxE.js";import{S as Le,i as Te,b as He,d as je,m as Ue,t as Pe,a as ke,e as Ve,c as Yt,g as Xt}from"../chunks/index.DN6lcf4c.js";function ee(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Qt(n){return n}function Jt(n){if(n==null)return Qt;var e,i,t=n.scale[0],l=n.scale[1],r=n.translate[0],o=n.translate[1];return function(a,c){c||(e=i=0);var h=2,s=a.length,u=new Array(s);for(u[0]=(e+=a[0])*t+r,u[1]=(i+=a[1])*l+o;h<s;)u[h]=a[h],++h;return u}}function Kt(n,e){for(var i,t=n.length,l=t-e;l<--t;)i=n[l],n[l++]=n[t],n[t]=i}function Ye(n,e){return typeof e=="string"&&(e=n.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(i){return $n(n,i)})}:$n(n,e)}function $n(n,e){var i=e.id,t=e.bbox,l=e.properties==null?{}:e.properties,r=xt(n,e);return i==null&&t==null?{type:"Feature",properties:l,geometry:r}:t==null?{type:"Feature",id:i,properties:l,geometry:r}:{type:"Feature",id:i,bbox:t,properties:l,geometry:r}}function xt(n,e){var i=Jt(n.transform),t=n.arcs;function l(s,u){u.length&&u.pop();for(var f=t[s<0?~s:s],g=0,p=f.length;g<p;++g)u.push(i(f[g],g));s<0&&Kt(u,p)}function r(s){return i(s)}function o(s){for(var u=[],f=0,g=s.length;f<g;++f)l(s[f],u);return u.length<2&&u.push(u[0]),u}function a(s){for(var u=o(s);u.length<4;)u.push(u[0]);return u}function c(s){return s.map(a)}function h(s){var u=s.type,f;switch(u){case"GeometryCollection":return{type:u,geometries:s.geometries.map(h)};case"Point":f=r(s.coordinates);break;case"MultiPoint":f=s.coordinates.map(r);break;case"LineString":f=o(s.arcs);break;case"MultiLineString":f=s.arcs.map(o);break;case"Polygon":f=c(s.arcs);break;case"MultiPolygon":f=s.arcs.map(c);break;default:return null}return{type:u,coordinates:f}}return h(e)}class Me{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let t=0;for(let l=0;l<this._n&&l<32;l++){const r=i[l],o=e+r,a=Math.abs(e)<Math.abs(r)?e-(o-r):r-(o-e);a&&(i[t++]=a),e=o}return i[t]=e,this._n=t+1,this}valueOf(){const e=this._partials;let i=this._n,t,l,r,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,l=e[--i],o=t+l,r=l-(o-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(l=r*2,t=o+l,l==t-o&&(o=t))}return o}}function*ei(n){for(const e of n)yield*e}function Rt(n){return Array.from(ei(n))}var G=1e-6,ni=1e-12,q=Math.PI,se=q/2,Bn=q/4,fe=q*2,de=180/q,te=q/180,Q=Math.abs,ti=Math.atan,Ie=Math.atan2,Y=Math.cos,W=Math.sin,ii=Math.sign||function(n){return n>0?1:n<0?-1:0},ye=Math.sqrt;function At(n){return n>1?0:n<-1?q:Math.acos(n)}function be(n){return n>1?se:n<-1?-se:Math.asin(n)}function ue(){}function en(n,e){n&&qn.hasOwnProperty(n.type)&&qn[n.type](n,e)}var Fn={Feature:function(n,e){en(n.geometry,e)},FeatureCollection:function(n,e){for(var i=n.features,t=-1,l=i.length;++t<l;)en(i[t].geometry,e)}},qn={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)n=i[t],e.point(n[0],n[1],n[2])},LineString:function(n,e){pn(n.coordinates,e,0)},MultiLineString:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)pn(i[t],e,0)},Polygon:function(n,e){Hn(n.coordinates,e)},MultiPolygon:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)Hn(i[t],e)},GeometryCollection:function(n,e){for(var i=n.geometries,t=-1,l=i.length;++t<l;)en(i[t],e)}};function pn(n,e,i){var t=-1,l=n.length-i,r;for(e.lineStart();++t<l;)r=n[t],e.point(r[0],r[1],r[2]);e.lineEnd()}function Hn(n,e){var i=-1,t=n.length;for(e.polygonStart();++i<t;)pn(n[i],e,1);e.polygonEnd()}function Re(n,e){n&&Fn.hasOwnProperty(n.type)?Fn[n.type](n,e):en(n,e)}function gn(n){return[Ie(n[1],n[0]),be(n[2])]}function ze(n){var e=n[0],i=n[1],t=Y(i);return[t*Y(e),t*W(e),W(i)]}function Xe(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function nn(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function un(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function Qe(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function dn(n){var e=ye(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function _n(n,e){function i(t,l){return t=n(t,l),e(t[0],t[1])}return n.invert&&e.invert&&(i.invert=function(t,l){return t=e.invert(t,l),t&&n.invert(t[0],t[1])}),i}function vn(n,e){return Q(n)>q&&(n-=Math.round(n/fe)*fe),[n,e]}vn.invert=vn;function li(n,e,i){return(n%=fe)?e||i?_n(Un(n),Vn(e,i)):Un(n):e||i?Vn(e,i):vn}function jn(n){return function(e,i){return e+=n,Q(e)>q&&(e-=Math.round(e/fe)*fe),[e,i]}}function Un(n){var e=jn(n);return e.invert=jn(-n),e}function Vn(n,e){var i=Y(n),t=W(n),l=Y(e),r=W(e);function o(a,c){var h=Y(c),s=Y(a)*h,u=W(a)*h,f=W(c),g=f*i+s*t;return[Ie(u*l-g*r,s*i-f*t),be(g*l+u*r)]}return o.invert=function(a,c){var h=Y(c),s=Y(a)*h,u=W(a)*h,f=W(c),g=f*l-u*r;return[Ie(u*l+f*r,s*i+g*t),be(g*i-s*t)]},o}function ri(n,e,i,t,l,r){if(i){var o=Y(e),a=W(e),c=t*i;l==null?(l=e+t*fe,r=e-c/2):(l=Gn(o,l),r=Gn(o,r),(t>0?l<r:l>r)&&(l+=t*fe));for(var h,s=l;t>0?s>r:s<r;s-=c)h=gn([o,-a*Y(s),-a*W(s)]),n.point(h[0],h[1])}}function Gn(n,e){e=ze(e),e[0]-=n,dn(e);var i=At(-e[1]);return((-e[2]<0?-i:i)+fe-G)%fe}function It(){var n=[],e;return{point:function(i,t,l){e.push([i,t,l])},lineStart:function(){n.push(e=[])},lineEnd:ue,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var i=n;return n=[],e=null,i}}}function xe(n,e){return Q(n[0]-e[0])<G&&Q(n[1]-e[1])<G}function Je(n,e,i,t){this.x=n,this.z=e,this.o=i,this.e=t,this.v=!1,this.n=this.p=null}function bt(n,e,i,t,l){var r=[],o=[],a,c;if(n.forEach(function(p){if(!((S=p.length-1)<=0)){var S,y=p[0],k=p[S],w;if(xe(y,k)){if(!y[2]&&!k[2]){for(l.lineStart(),a=0;a<S;++a)l.point((y=p[a])[0],y[1]);l.lineEnd();return}k[0]+=2*G}r.push(w=new Je(y,p,null,!0)),o.push(w.o=new Je(y,null,w,!1)),r.push(w=new Je(k,p,null,!1)),o.push(w.o=new Je(k,null,w,!0))}}),!!r.length){for(o.sort(e),Wn(r),Wn(o),a=0,c=o.length;a<c;++a)o[a].e=i=!i;for(var h=r[0],s,u;;){for(var f=h,g=!0;f.v;)if((f=f.n)===h)return;s=f.z,l.lineStart();do{if(f.v=f.o.v=!0,f.e){if(g)for(a=0,c=s.length;a<c;++a)l.point((u=s[a])[0],u[1]);else t(f.x,f.n.x,1,l);f=f.n}else{if(g)for(s=f.p.z,a=s.length-1;a>=0;--a)l.point((u=s[a])[0],u[1]);else t(f.x,f.p.x,-1,l);f=f.p}f=f.o,s=f.z,g=!g}while(!f.v);l.lineEnd()}}}function Wn(n){if(e=n.length){for(var e,i=0,t=n[0],l;++i<e;)t.n=l=n[i],l.p=t,t=l;t.n=l=n[0],l.p=t}}function fn(n){return Q(n[0])<=q?n[0]:ii(n[0])*((Q(n[0])+q)%fe-q)}function oi(n,e){var i=fn(e),t=e[1],l=W(t),r=[W(i),-Y(i),0],o=0,a=0,c=new Me;l===1?t=se+G:l===-1&&(t=-se-G);for(var h=0,s=n.length;h<s;++h)if(f=(u=n[h]).length)for(var u,f,g=u[f-1],p=fn(g),S=g[1]/2+Bn,y=W(S),k=Y(S),w=0;w<f;++w,p=E,y=R,k=B,g=A){var A=u[w],E=fn(A),b=A[1]/2+Bn,R=W(b),B=Y(b),z=E-p,I=z>=0?1:-1,D=I*z,M=D>q,Z=y*R;if(c.add(Ie(Z*I*W(D),k*B+Z*Y(D))),o+=M?z+I*fe:z,M^p>=i^E>=i){var N=nn(ze(g),ze(A));dn(N);var $=nn(r,N);dn($);var _=(M^z>=0?-1:1)*be($[2]);(t>_||t===_&&(N[0]||N[1]))&&(a+=M^z>=0?1:-1)}}return(o<-G||o<G&&c<-ni)^a&1}function zt(n,e,i,t){return function(l){var r=e(l),o=It(),a=e(o),c=!1,h,s,u,f={point:g,lineStart:S,lineEnd:y,polygonStart:function(){f.point=k,f.lineStart=w,f.lineEnd=A,s=[],h=[]},polygonEnd:function(){f.point=g,f.lineStart=S,f.lineEnd=y,s=Rt(s);var E=oi(h,t);s.length?(c||(l.polygonStart(),c=!0),bt(s,si,E,i,l)):E&&(c||(l.polygonStart(),c=!0),l.lineStart(),i(null,null,1,l),l.lineEnd()),c&&(l.polygonEnd(),c=!1),s=h=null},sphere:function(){l.polygonStart(),l.lineStart(),i(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function g(E,b){n(E,b)&&l.point(E,b)}function p(E,b){r.point(E,b)}function S(){f.point=p,r.lineStart()}function y(){f.point=g,r.lineEnd()}function k(E,b){u.push([E,b]),a.point(E,b)}function w(){a.lineStart(),u=[]}function A(){k(u[0][0],u[0][1]),a.lineEnd();var E=a.clean(),b=o.result(),R,B=b.length,z,I,D;if(u.pop(),h.push(u),u=null,!!B){if(E&1){if(I=b[0],(z=I.length-1)>0){for(c||(l.polygonStart(),c=!0),l.lineStart(),R=0;R<z;++R)l.point((D=I[R])[0],D[1]);l.lineEnd()}return}B>1&&E&2&&b.push(b.pop().concat(b.shift())),s.push(b.filter(ai))}}return f}}function ai(n){return n.length>1}function si(n,e){return((n=n.x)[0]<0?n[1]-se-G:se-n[1])-((e=e.x)[0]<0?e[1]-se-G:se-e[1])}const Zn=zt(function(){return!0},ui,ci,[-q,-se]);function ui(n){var e=NaN,i=NaN,t=NaN,l;return{lineStart:function(){n.lineStart(),l=1},point:function(r,o){var a=r>0?q:-q,c=Q(r-e);Q(c-q)<G?(n.point(e,i=(i+o)/2>0?se:-se),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(a,i),n.point(r,i),l=0):t!==a&&c>=q&&(Q(e-t)<G&&(e-=t*G),Q(r-a)<G&&(r-=a*G),i=fi(e,i,r,o),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(a,i),l=0),n.point(e=r,i=o),t=a},lineEnd:function(){n.lineEnd(),e=i=NaN},clean:function(){return 2-l}}}function fi(n,e,i,t){var l,r,o=W(n-i);return Q(o)>G?ti((W(e)*(r=Y(t))*W(i)-W(t)*(l=Y(e))*W(n))/(l*r*o)):(e+t)/2}function ci(n,e,i,t){var l;if(n==null)l=i*se,t.point(-q,l),t.point(0,l),t.point(q,l),t.point(q,0),t.point(q,-l),t.point(0,-l),t.point(-q,-l),t.point(-q,0),t.point(-q,l);else if(Q(n[0]-e[0])>G){var r=n[0]<e[0]?q:-q;l=i*r/2,t.point(-r,l),t.point(0,l),t.point(r,l)}else t.point(e[0],e[1])}function hi(n){var e=Y(n),i=2*te,t=e>0,l=Q(e)>G;function r(s,u,f,g){ri(g,n,i,f,s,u)}function o(s,u){return Y(s)*Y(u)>e}function a(s){var u,f,g,p,S;return{lineStart:function(){p=g=!1,S=1},point:function(y,k){var w=[y,k],A,E=o(y,k),b=t?E?0:h(y,k):E?h(y+(y<0?q:-q),k):0;if(!u&&(p=g=E)&&s.lineStart(),E!==g&&(A=c(u,w),(!A||xe(u,A)||xe(w,A))&&(w[2]=1)),E!==g)S=0,E?(s.lineStart(),A=c(w,u),s.point(A[0],A[1])):(A=c(u,w),s.point(A[0],A[1],2),s.lineEnd()),u=A;else if(l&&u&&t^E){var R;!(b&f)&&(R=c(w,u,!0))&&(S=0,t?(s.lineStart(),s.point(R[0][0],R[0][1]),s.point(R[1][0],R[1][1]),s.lineEnd()):(s.point(R[1][0],R[1][1]),s.lineEnd(),s.lineStart(),s.point(R[0][0],R[0][1],3)))}E&&(!u||!xe(u,w))&&s.point(w[0],w[1]),u=w,g=E,f=b},lineEnd:function(){g&&s.lineEnd(),u=null},clean:function(){return S|(p&&g)<<1}}}function c(s,u,f){var g=ze(s),p=ze(u),S=[1,0,0],y=nn(g,p),k=Xe(y,y),w=y[0],A=k-w*w;if(!A)return!f&&s;var E=e*k/A,b=-e*w/A,R=nn(S,y),B=Qe(S,E),z=Qe(y,b);un(B,z);var I=R,D=Xe(B,I),M=Xe(I,I),Z=D*D-M*(Xe(B,B)-1);if(!(Z<0)){var N=ye(Z),$=Qe(I,(-D-N)/M);if(un($,B),$=gn($),!f)return $;var _=s[0],C=u[0],F=s[1],m=u[1],T;C<_&&(T=_,_=C,C=T);var d=C-_,H=Q(d-q)<G,J=H||d<G;if(!H&&m<F&&(T=F,F=m,m=T),J?H?F+m>0^$[1]<(Q($[0]-_)<G?F:m):F<=$[1]&&$[1]<=m:d>q^(_<=$[0]&&$[0]<=C)){var ie=Qe(I,(-D+N)/M);return un(ie,B),[$,gn(ie)]}}}function h(s,u){var f=t?n:q-n,g=0;return s<-f?g|=1:s>f&&(g|=2),u<-f?g|=4:u>f&&(g|=8),g}return zt(o,a,r,t?[0,-n]:[-q,n-q])}function pi(n,e,i,t,l,r){var o=n[0],a=n[1],c=e[0],h=e[1],s=0,u=1,f=c-o,g=h-a,p;if(p=i-o,!(!f&&p>0)){if(p/=f,f<0){if(p<s)return;p<u&&(u=p)}else if(f>0){if(p>u)return;p>s&&(s=p)}if(p=l-o,!(!f&&p<0)){if(p/=f,f<0){if(p>u)return;p>s&&(s=p)}else if(f>0){if(p<s)return;p<u&&(u=p)}if(p=t-a,!(!g&&p>0)){if(p/=g,g<0){if(p<s)return;p<u&&(u=p)}else if(g>0){if(p>u)return;p>s&&(s=p)}if(p=r-a,!(!g&&p<0)){if(p/=g,g<0){if(p>u)return;p>s&&(s=p)}else if(g>0){if(p<s)return;p<u&&(u=p)}return s>0&&(n[0]=o+s*f,n[1]=a+s*g),u<1&&(e[0]=o+u*f,e[1]=a+u*g),!0}}}}}var Oe=1e9,Ke=-Oe;function gi(n,e,i,t){function l(h,s){return n<=h&&h<=i&&e<=s&&s<=t}function r(h,s,u,f){var g=0,p=0;if(h==null||(g=o(h,u))!==(p=o(s,u))||c(h,s)<0^u>0)do f.point(g===0||g===3?n:i,g>1?t:e);while((g=(g+u+4)%4)!==p);else f.point(s[0],s[1])}function o(h,s){return Q(h[0]-n)<G?s>0?0:3:Q(h[0]-i)<G?s>0?2:1:Q(h[1]-e)<G?s>0?1:0:s>0?3:2}function a(h,s){return c(h.x,s.x)}function c(h,s){var u=o(h,1),f=o(s,1);return u!==f?u-f:u===0?s[1]-h[1]:u===1?h[0]-s[0]:u===2?h[1]-s[1]:s[0]-h[0]}return function(h){var s=h,u=It(),f,g,p,S,y,k,w,A,E,b,R,B={point:z,lineStart:Z,lineEnd:N,polygonStart:D,polygonEnd:M};function z(_,C){l(_,C)&&s.point(_,C)}function I(){for(var _=0,C=0,F=g.length;C<F;++C)for(var m=g[C],T=1,d=m.length,H=m[0],J,ie,we=H[0],ge=H[1];T<d;++T)J=we,ie=ge,H=m[T],we=H[0],ge=H[1],ie<=t?ge>t&&(we-J)*(t-ie)>(ge-ie)*(n-J)&&++_:ge<=t&&(we-J)*(t-ie)<(ge-ie)*(n-J)&&--_;return _}function D(){s=u,f=[],g=[],R=!0}function M(){var _=I(),C=R&&_,F=(f=Rt(f)).length;(C||F)&&(h.polygonStart(),C&&(h.lineStart(),r(null,null,1,h),h.lineEnd()),F&&bt(f,a,_,r,h),h.polygonEnd()),s=h,f=g=p=null}function Z(){B.point=$,g&&g.push(p=[]),b=!0,E=!1,w=A=NaN}function N(){f&&($(S,y),k&&E&&u.rejoin(),f.push(u.result())),B.point=z,E&&s.lineEnd()}function $(_,C){var F=l(_,C);if(g&&p.push([_,C]),b)S=_,y=C,k=F,b=!1,F&&(s.lineStart(),s.point(_,C));else if(F&&E)s.point(_,C);else{var m=[w=Math.max(Ke,Math.min(Oe,w)),A=Math.max(Ke,Math.min(Oe,A))],T=[_=Math.max(Ke,Math.min(Oe,_)),C=Math.max(Ke,Math.min(Oe,C))];pi(m,T,n,e,i,t)?(E||(s.lineStart(),s.point(m[0],m[1])),s.point(T[0],T[1]),F||s.lineEnd(),R=!1):F&&(s.lineStart(),s.point(_,C),R=!1)}w=_,A=C,E=F}return B}}const mn=n=>n;var cn=new Me,En=new Me,Dt,Ct,Sn,yn,_e={point:ue,lineStart:ue,lineEnd:ue,polygonStart:function(){_e.lineStart=di,_e.lineEnd=vi},polygonEnd:function(){_e.lineStart=_e.lineEnd=_e.point=ue,cn.add(Q(En)),En=new Me},result:function(){var n=cn/2;return cn=new Me,n}};function di(){_e.point=_i}function _i(n,e){_e.point=Lt,Dt=Sn=n,Ct=yn=e}function Lt(n,e){En.add(yn*n-Sn*e),Sn=n,yn=e}function vi(){Lt(Dt,Ct)}var De=1/0,tn=De,Ge=-De,ln=Ge,rn={point:mi,lineStart:ue,lineEnd:ue,polygonStart:ue,polygonEnd:ue,result:function(){var n=[[De,tn],[Ge,ln]];return Ge=ln=-(tn=De=1/0),n}};function mi(n,e){n<De&&(De=n),n>Ge&&(Ge=n),e<tn&&(tn=e),e>ln&&(ln=e)}var wn=0,Pn=0,$e=0,on=0,an=0,Ae=0,kn=0,Mn=0,Be=0,Tt,Ot,ce,he,le={point:Ne,lineStart:Yn,lineEnd:Xn,polygonStart:function(){le.lineStart=yi,le.lineEnd=wi},polygonEnd:function(){le.point=Ne,le.lineStart=Yn,le.lineEnd=Xn},result:function(){var n=Be?[kn/Be,Mn/Be]:Ae?[on/Ae,an/Ae]:$e?[wn/$e,Pn/$e]:[NaN,NaN];return wn=Pn=$e=on=an=Ae=kn=Mn=Be=0,n}};function Ne(n,e){wn+=n,Pn+=e,++$e}function Yn(){le.point=Ei}function Ei(n,e){le.point=Si,Ne(ce=n,he=e)}function Si(n,e){var i=n-ce,t=e-he,l=ye(i*i+t*t);on+=l*(ce+n)/2,an+=l*(he+e)/2,Ae+=l,Ne(ce=n,he=e)}function Xn(){le.point=Ne}function yi(){le.point=Pi}function wi(){$t(Tt,Ot)}function Pi(n,e){le.point=$t,Ne(Tt=ce=n,Ot=he=e)}function $t(n,e){var i=n-ce,t=e-he,l=ye(i*i+t*t);on+=l*(ce+n)/2,an+=l*(he+e)/2,Ae+=l,l=he*n-ce*e,kn+=l*(ce+n),Mn+=l*(he+e),Be+=l*3,Ne(ce=n,he=e)}function Bt(n){this._context=n}Bt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,fe);break}}},result:ue};var Nn=new Me,hn,Ft,qt,Fe,qe,We={point:ue,lineStart:function(){We.point=ki},lineEnd:function(){hn&&Ht(Ft,qt),We.point=ue},polygonStart:function(){hn=!0},polygonEnd:function(){hn=null},result:function(){var n=+Nn;return Nn=new Me,n}};function ki(n,e){We.point=Ht,Ft=Fe=n,qt=qe=e}function Ht(n,e){Fe-=n,qe-=e,Nn.add(ye(Fe*Fe+qe*qe)),Fe=n,qe=e}let Qn,sn,Jn,Kn;class xn{constructor(e){this._append=e==null?jt:Mi(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,i){switch(this._point){case 0:{this._append`M${e},${i}`,this._point=1;break}case 1:{this._append`L${e},${i}`;break}default:{if(this._append`M${e},${i}`,this._radius!==Jn||this._append!==sn){const t=this._radius,l=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Jn=t,sn=this._append,Kn=this._,this._=l}this._+=Kn;break}}}result(){const e=this._;return this._="",e.length?e:null}}function jt(n){let e=1;this._+=n[0];for(const i=n.length;e<i;++e)this._+=arguments[e]+n[e]}function Mi(n){const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);if(e>15)return jt;if(e!==Qn){const i=10**e;Qn=e,sn=function(l){let r=1;this._+=l[0];for(const o=l.length;r<o;++r)this._+=Math.round(arguments[r]*i)/i+l[r]}}return sn}function Ni(n,e){let i=3,t=4.5,l,r;function o(a){return a&&(typeof t=="function"&&r.pointRadius(+t.apply(this,arguments)),Re(a,l(r))),r.result()}return o.area=function(a){return Re(a,l(_e)),_e.result()},o.measure=function(a){return Re(a,l(We)),We.result()},o.bounds=function(a){return Re(a,l(rn)),rn.result()},o.centroid=function(a){return Re(a,l(le)),le.result()},o.projection=function(a){return arguments.length?(l=a==null?(n=null,mn):(n=a).stream,o):n},o.context=function(a){return arguments.length?(r=a==null?(e=null,new xn(i)):new Bt(e=a),typeof t!="function"&&r.pointRadius(t),o):e},o.pointRadius=function(a){return arguments.length?(t=typeof a=="function"?a:(r.pointRadius(+a),+a),o):t},o.digits=function(a){if(!arguments.length)return i;if(a==null)i=null;else{const c=Math.floor(a);if(!(c>=0))throw new RangeError(`invalid digits: ${a}`);i=c}return e===null&&(r=new xn(i)),o},o.projection(n).digits(i).context(e)}function bn(n){return function(e){var i=new Rn;for(var t in n)i[t]=n[t];return i.stream=e,i}}function Rn(){}Rn.prototype={constructor:Rn,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function zn(n,e,i){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),Re(i,n.stream(rn)),e(rn.result()),t!=null&&n.clipExtent(t),n}function Ut(n,e,i){return zn(n,function(t){var l=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(l/(t[1][0]-t[0][0]),r/(t[1][1]-t[0][1])),a=+e[0][0]+(l-o*(t[1][0]+t[0][0]))/2,c=+e[0][1]+(r-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([a,c])},i)}function Ri(n,e,i){return Ut(n,[[0,0],e],i)}function Ai(n,e,i){return zn(n,function(t){var l=+e,r=l/(t[1][0]-t[0][0]),o=(l-r*(t[1][0]+t[0][0]))/2,a=-r*t[0][1];n.scale(150*r).translate([o,a])},i)}function Ii(n,e,i){return zn(n,function(t){var l=+e,r=l/(t[1][1]-t[0][1]),o=-r*t[0][0],a=(l-r*(t[1][1]+t[0][1]))/2;n.scale(150*r).translate([o,a])},i)}var et=16,bi=Y(30*te);function nt(n,e){return+e?Di(n,e):zi(n)}function zi(n){return bn({point:function(e,i){e=n(e,i),this.stream.point(e[0],e[1])}})}function Di(n,e){function i(t,l,r,o,a,c,h,s,u,f,g,p,S,y){var k=h-t,w=s-l,A=k*k+w*w;if(A>4*e&&S--){var E=o+f,b=a+g,R=c+p,B=ye(E*E+b*b+R*R),z=be(R/=B),I=Q(Q(R)-1)<G||Q(r-u)<G?(r+u)/2:Ie(b,E),D=n(I,z),M=D[0],Z=D[1],N=M-t,$=Z-l,_=w*N-k*$;(_*_/A>e||Q((k*N+w*$)/A-.5)>.3||o*f+a*g+c*p<bi)&&(i(t,l,r,o,a,c,M,Z,I,E/=B,b/=B,R,S,y),y.point(M,Z),i(M,Z,I,E,b,R,h,s,u,f,g,p,S,y))}}return function(t){var l,r,o,a,c,h,s,u,f,g,p,S,y={point:k,lineStart:w,lineEnd:E,polygonStart:function(){t.polygonStart(),y.lineStart=b},polygonEnd:function(){t.polygonEnd(),y.lineStart=w}};function k(z,I){z=n(z,I),t.point(z[0],z[1])}function w(){u=NaN,y.point=A,t.lineStart()}function A(z,I){var D=ze([z,I]),M=n(z,I);i(u,f,s,g,p,S,u=M[0],f=M[1],s=z,g=D[0],p=D[1],S=D[2],et,t),t.point(u,f)}function E(){y.point=k,t.lineEnd()}function b(){w(),y.point=R,y.lineEnd=B}function R(z,I){A(l=z,I),r=u,o=f,a=g,c=p,h=S,y.point=A}function B(){i(u,f,s,g,p,S,r,o,l,a,c,h,et,t),y.lineEnd=E,E()}return y}}var Ci=bn({point:function(n,e){this.stream.point(n*te,e*te)}});function Li(n){return bn({point:function(e,i){var t=n(e,i);return this.stream.point(t[0],t[1])}})}function Ti(n,e,i,t,l){function r(o,a){return o*=t,a*=l,[e+n*o,i-n*a]}return r.invert=function(o,a){return[(o-e)/n*t,(i-a)/n*l]},r}function tt(n,e,i,t,l,r){if(!r)return Ti(n,e,i,t,l);var o=Y(r),a=W(r),c=o*n,h=a*n,s=o/n,u=a/n,f=(a*i-o*e)/n,g=(a*e+o*i)/n;function p(S,y){return S*=t,y*=l,[c*S-h*y+e,i-h*S-c*y]}return p.invert=function(S,y){return[t*(s*S-u*y+f),l*(g-u*S-s*y)]},p}function Oi(n){return $i(function(){return n})()}function $i(n){var e,i=150,t=480,l=250,r=0,o=0,a=0,c=0,h=0,s,u=0,f=1,g=1,p=null,S=Zn,y=null,k,w,A,E=mn,b=.5,R,B,z,I,D;function M(_){return z(_[0]*te,_[1]*te)}function Z(_){return _=z.invert(_[0],_[1]),_&&[_[0]*de,_[1]*de]}M.stream=function(_){return I&&D===_?I:I=Ci(Li(s)(S(R(E(D=_)))))},M.preclip=function(_){return arguments.length?(S=_,p=void 0,$()):S},M.postclip=function(_){return arguments.length?(E=_,y=k=w=A=null,$()):E},M.clipAngle=function(_){return arguments.length?(S=+_?hi(p=_*te):(p=null,Zn),$()):p*de},M.clipExtent=function(_){return arguments.length?(E=_==null?(y=k=w=A=null,mn):gi(y=+_[0][0],k=+_[0][1],w=+_[1][0],A=+_[1][1]),$()):y==null?null:[[y,k],[w,A]]},M.scale=function(_){return arguments.length?(i=+_,N()):i},M.translate=function(_){return arguments.length?(t=+_[0],l=+_[1],N()):[t,l]},M.center=function(_){return arguments.length?(r=_[0]%360*te,o=_[1]%360*te,N()):[r*de,o*de]},M.rotate=function(_){return arguments.length?(a=_[0]%360*te,c=_[1]%360*te,h=_.length>2?_[2]%360*te:0,N()):[a*de,c*de,h*de]},M.angle=function(_){return arguments.length?(u=_%360*te,N()):u*de},M.reflectX=function(_){return arguments.length?(f=_?-1:1,N()):f<0},M.reflectY=function(_){return arguments.length?(g=_?-1:1,N()):g<0},M.precision=function(_){return arguments.length?(R=nt(B,b=_*_),$()):ye(b)},M.fitExtent=function(_,C){return Ut(M,_,C)},M.fitSize=function(_,C){return Ri(M,_,C)},M.fitWidth=function(_,C){return Ai(M,_,C)},M.fitHeight=function(_,C){return Ii(M,_,C)};function N(){var _=tt(i,0,0,f,g,u).apply(null,e(r,o)),C=tt(i,t-_[0],l-_[1],f,g,u);return s=li(a,c,h),B=_n(e,C),z=_n(s,B),R=nt(B,b),$()}function $(){return I=D=null,M}return function(){return e=n.apply(this,arguments),M.invert=e.invert&&Z,N()}}function Bi(n){return function(e,i){var t=Y(e),l=Y(i),r=n(t*l);return r===1/0?[2,0]:[r*l*W(e),r*W(i)]}}function Fi(n){return function(e,i){var t=ye(e*e+i*i),l=n(t),r=W(l),o=Y(l);return[Ie(e*r,t*o),be(t&&i*r/t)]}}var Vt=Bi(function(n){return(n=At(n))&&n/W(n)});Vt.invert=Fi(function(n){return n});function qi(){return Oi(Vt).scale(79.4188).clipAngle(180-.001)}function Hi(n){var S,y;let e,i,t=`<p class="svelte-wlznm4">An interactive visualization of all the space debris that reenters
            the atmosphere in the South Pacific Ocean. From 1960 until today.</p>`,l,r,o,a,c=((S=n[0])==null?void 0:S.name)+"",h,s,u,f,g=((y=n[0])==null?void 0:y.year)+"",p;return{c(){e=K("div"),i=K("div"),i.innerHTML=t,l=ve(),r=K("div"),o=K("span"),a=re("Satellite: "),h=re(c),s=ve(),u=K("span"),f=re("Year: "),p=re(g),this.h()},l(k){e=x(k,"DIV",{class:!0});var w=O(e);i=x(w,"DIV",{class:!0,"data-svelte-h":!0}),An(i)!=="svelte-9fj3n4"&&(i.innerHTML=t),l=me(w),r=x(w,"DIV",{class:!0});var A=O(r);o=x(A,"SPAN",{class:!0});var E=O(o);a=oe(E,"Satellite: "),h=oe(E,c),E.forEach(P),s=me(A),u=x(A,"SPAN",{class:!0});var b=O(u);f=oe(b,"Year: "),p=oe(b,g),b.forEach(P),A.forEach(P),w.forEach(P),this.h()},h(){v(i,"class","description svelte-wlznm4"),v(o,"class","svelte-wlznm4"),v(u,"class","svelte-wlznm4"),v(r,"class","satellite-info svelte-wlznm4"),v(e,"class","top-bar svelte-wlznm4")},m(k,w){j(k,e,w),L(e,i),L(e,l),L(e,r),L(r,o),L(o,a),L(o,h),L(r,s),L(r,u),L(u,f),L(u,p)},p(k,[w]){var A,E;w&1&&c!==(c=((A=k[0])==null?void 0:A.name)+"")&&Se(h,c),w&1&&g!==(g=((E=k[0])==null?void 0:E.year)+"")&&Se(p,g)},i:pe,o:pe,d(k){k&&P(e)}}}function ji(n,e,i){let{currentPoint:t}=e;return n.$$set=l=>{"currentPoint"in l&&i(0,t=l.currentPoint)},[t]}class Ui extends Le{constructor(e){super(),Te(this,e,ji,Hi,Ce,{currentPoint:0})}}function Vi(n){let e,i,t,l,r,o;return{c(){e=K("div"),i=K("div"),t=ve(),l=K("div"),this.h()},l(a){e=x(a,"DIV",{class:!0});var c=O(e);i=x(c,"DIV",{class:!0,style:!0}),O(i).forEach(P),t=me(c),l=x(c,"DIV",{class:!0,style:!0}),O(l).forEach(P),c.forEach(P),this.h()},h(){v(i,"class","progress svelte-1aifhpe"),Ze(i,"width",(n[0]+1)/n[1].length*100+"%"),v(l,"class","draggable svelte-1aifhpe"),Ze(l,"left",(n[0]+1)/n[1].length*100+"%"),v(e,"class","progress-bar svelte-1aifhpe")},m(a,c){j(a,e,c),L(e,i),L(e,t),L(e,l),r||(o=In(e,"mousedown",n[2]),r=!0)},p(a,[c]){c&3&&Ze(i,"width",(a[0]+1)/a[1].length*100+"%"),c&3&&Ze(l,"left",(a[0]+1)/a[1].length*100+"%")},i:pe,o:pe,d(a){a&&P(e),r=!1,o()}}}function Gi(n,e,i){const t=Mt();let{index:l}=e,{points:r}=e;function o(a){const c=a.currentTarget.getBoundingClientRect();let h=a.clientX-c.left;const s=c.width;h<0?h=0:h>s&&(h=s);const u=h/s*100,f=Math.floor(u/100*r.length);t("updateIndex",f)}return n.$$set=a=>{"index"in a&&i(0,l=a.index),"points"in a&&i(1,r=a.points)},[l,r,o]}class Wi extends Le{constructor(e){super(),Te(this,e,Gi,Vi,Ce,{index:0,points:1})}}function Zi(n){let e,i=`<h2 class="svelte-1vdl53p">Colophon</h2> <p class="svelte-1vdl53p">Since space exploration began in the 1950s, the various technologies
        used for launching and carrying out missions have left their mark,
        gradually creating vast fields and layers of debris both in orbit and in
        the Earth&#39;s marine environment.</p> <p class="svelte-1vdl53p">While space debris is mainly associated with the countless pieces
        scattered around the Earth, its re-entry into the atmosphere and its
        possible re-entry into the sometimes deliberately controlled marine
        environment often goes unnoticed. Media portraits deal with the
        phenomenon of falling debris mainly in the context of the mysterious <em>Point Nemo</em>, also known as the <em>spaceship graveyard</em>. However, the romantic
        and antropomorphic concept of technology finding its final resting place
        is misleading and ignores the reality of a chaotic waste dump 4 embedded
        in a complex legal dilemma around environmental damage.</p> <h2 class="svelte-1vdl53p">Map</h2> <p class="svelte-1vdl53p">A timeline visualising all the artificial space objects that fell within
        the South Pacific Ocean Uninhabited Area (SPOUA) from 1959 until now -
        reflecting on the past, present and future presence of space objects in
        marine environments.</p> <p class="svelte-1vdl53p">By geolocating their predicted reentry, the resulting coordinates are
        juxtaposed with the legal limits of coastal states‘ sovereign rights,
        spanning from Exclusive Economic Zones to Navigational Areas.</p> <p class="svelte-1vdl53p">While the first shows the conflicting intersection with the UN Law of
        the Sea and a possible breach thereof, the latter emphasises the
        constant risk of impact that re-entering spacecraft pose to shipping
        routes within the South Pacific Ocean.</p> <h2 class="svelte-1vdl53p">Data</h2> <ol class="svelte-1vdl53p"><li>ESA (European Space Agency)</li> <li>GEBCO (General bathymetric chart of the oceans)</li> <li>Marineregions.org</li> <li>NASA ODPO (Orbital Debris Programme Office)</li> <li>NASA Distance to the Nearest Coast</li> <li>NOAA (National Oceanic and Atmospheric Administration)</li> <li>NORAD (National Oceanic and Atmospheric Administration)</li> <li>CelesTrak</li> <li>USSTRATCOM (United States Strategic Command)</li></ol>`;return{c(){e=K("article"),e.innerHTML=i,this.h()},l(t){e=x(t,"ARTICLE",{class:!0,"data-svelte-h":!0}),An(e)!=="svelte-1bcz6ln"&&(e.innerHTML=i),this.h()},h(){v(e,"class","svelte-1vdl53p")},m(t,l){j(t,e,l)},p:pe,i:pe,o:pe,d(t){t&&P(e)}}}class Yi extends Le{constructor(e){super(),Te(this,e,null,Zi,Ce,{})}}function it(n,e,i){const t=n.slice();return t[9]=e[i],t[11]=i,t}function lt(n){let e,i=n[9].name+"",t,l,r=n[9].year+"",o,a,c,h;function s(){return n[7](n[11])}return{c(){e=K("p"),t=re(i),l=re(", "),o=re(r),a=ve(),this.h()},l(u){e=x(u,"P",{class:!0});var f=O(e);t=oe(f,i),l=oe(f,", "),o=oe(f,r),a=me(f),f.forEach(P),this.h()},h(){v(e,"class","svelte-1hvvvdt"),ne(e,"gray-background",n[11]%2===1),ne(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},m(u,f){j(u,e,f),L(e,t),L(e,l),L(e,o),L(e,a),c||(h=In(e,"click",s),c=!0)},p(u,f){n=u,f&4&&i!==(i=n[9].name+"")&&Se(t,i),f&4&&r!==(r=n[9].year+"")&&Se(o,r),f&5&&ne(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},d(u){u&&P(e),c=!1,h()}}}function Xi(n){let e,i,t,l,r,o,a,c,h,s=ee(n[2]),u=[];for(let f=0;f<s.length;f+=1)u[f]=lt(it(n,s,f));return o=new Yi({}),{c(){e=K("article"),i=K("input"),t=ve(),l=K("div");for(let f=0;f<u.length;f+=1)u[f].c();r=ve(),He(o.$$.fragment),this.h()},l(f){e=x(f,"ARTICLE",{class:!0});var g=O(e);i=x(g,"INPUT",{type:!0,placeholder:!0,class:!0}),t=me(g),l=x(g,"DIV",{class:!0});var p=O(l);for(let S=0;S<u.length;S+=1)u[S].l(p);p.forEach(P),g.forEach(P),r=me(f),je(o.$$.fragment,f),this.h()},h(){v(i,"type","text"),v(i,"placeholder","Search..."),v(i,"class","svelte-1hvvvdt"),v(l,"class","svelte-1hvvvdt"),v(e,"class","svelte-1hvvvdt")},m(f,g){j(f,e,g),L(e,i),On(i,n[1]),L(e,t),L(e,l);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(l,null);j(f,r,g),Ue(o,f,g),a=!0,c||(h=In(i,"input",n[6]),c=!0)},p(f,[g]){if(g&2&&i.value!==f[1]&&On(i,f[1]),g&13){s=ee(f[2]);let p;for(p=0;p<s.length;p+=1){const S=it(f,s,p);u[p]?u[p].p(S,g):(u[p]=lt(S),u[p].c(),u[p].m(l,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=s.length}},i(f){a||(Pe(o.$$.fragment,f),a=!0)},o(f){ke(o.$$.fragment,f),a=!1},d(f){f&&(P(e),P(r)),Ee(u,f),Ve(o,f),c=!1,h()}}}function Qi(n,e,i){let t,l,{points:r}=e,{highlighted:o}=e;const a=Mt();let c="";function h(f){a("updateId",t[f])}function s(){c=this.value,i(1,c)}const u=f=>h(f);return n.$$set=f=>{"points"in f&&i(4,r=f.points),"highlighted"in f&&i(0,o=f.highlighted)},n.$$.update=()=>{n.$$.dirty&16&&i(5,l=r.reduce((f,g)=>f.find(S=>S.name===g.name&&S.year===g.year)?f:f.concat([g]),[])),n.$$.dirty&34&&i(2,t=l.filter(f=>f.name.toLowerCase().includes(c.toLowerCase())))},[o,c,t,h,r,l,s,u]}class Ji extends Le{constructor(e){super(),Te(this,e,Qi,Xi,Ce,{points:4,highlighted:0})}}function rt(n,e,i){const t=n.slice();return t[22]=e[i].cx,t[23]=e[i].cy,t[24]=e[i].name,t}function ot(n,e,i){const t=n.slice();return t[27]=e[i],t[29]=i,t}function at(n,e,i){const t=n.slice();return t[22]=e[i].cx,t[23]=e[i].cy,t[24]=e[i].name,t[30]=e[i].r,t[29]=i,t}function st(n,e,i){const t=n.slice();return t[32]=e[i],t[29]=i,t}function ut(n,e,i){const t=n.slice();return t[27]=e[i],t[29]=i,t}function ft(n,e,i){const t=n.slice();return t[27]=e[i],t[29]=i,t}function ct(n,e,i){const t=n.slice();return t[27]=e[i],t[29]=i,t}function ht(n){let e,i,t,l,r,o,a,c,h,s,u,f,g,p,S,y,k,w,A,E=n[0].length>0&&pt(n),b=ee(n[6]),R=[];for(let m=0;m<b.length;m+=1)R[m]=gt(ct(n,b,m));let B=ee(n[5]),z=[];for(let m=0;m<B.length;m+=1)z[m]=dt(ft(n,B,m));let I=ee(n[7]),D=[];for(let m=0;m<I.length;m+=1)D[m]=_t(ut(n,I,m));let M=n[0].length>0&&vt(n),Z=ee(n[0]),N=[];for(let m=0;m<Z.length;m+=1)N[m]=yt(at(n,Z,m));let $=ee(n[8]),_=[];for(let m=0;m<$.length;m+=1)_[m]=wt(ot(n,$,m));let C=ee(n[4]),F=[];for(let m=0;m<C.length;m+=1)F[m]=kt(rt(n,C,m));return{c(){e=U("svg"),i=U("defs"),t=U("path"),r=U("clipPath"),o=U("use"),E&&E.c(),a=U("g"),c=U("circle"),f=U("g");for(let m=0;m<R.length;m+=1)R[m].c();g=U("g");for(let m=0;m<z.length;m+=1)z[m].c();p=U("g");for(let m=0;m<D.length;m+=1)D[m].c();S=U("g"),M&&M.c(),y=U("g");for(let m=0;m<N.length;m+=1)N[m].c();k=U("g");for(let m=0;m<_.length;m+=1)_[m].c();w=U("g");for(let m=0;m<F.length;m+=1)F[m].c();this.h()},l(m){e=V(m,"svg",{viewBox:!0});var T=O(e);i=V(T,"defs",{});var d=O(i);t=V(d,"path",{id:!0,d:!0}),O(t).forEach(P),r=V(d,"clipPath",{class:!0,id:!0});var H=O(r);o=V(H,"use",{href:!0}),O(o).forEach(P),H.forEach(P),d.forEach(P),E&&E.l(T),a=V(T,"g",{"clip-path":!0,class:!0});var J=O(a);c=V(J,"circle",{cx:!0,cy:!0,r:!0,class:!0}),O(c).forEach(P),f=V(J,"g",{class:!0,fill:!0,stroke:!0});var ie=O(f);for(let X=0;X<R.length;X+=1)R[X].l(ie);ie.forEach(P),g=V(J,"g",{class:!0,stroke:!0});var we=O(g);for(let X=0;X<z.length;X+=1)z[X].l(we);we.forEach(P),p=V(J,"g",{class:!0,fill:!0,stroke:!0});var ge=O(p);for(let X=0;X<D.length;X+=1)D[X].l(ge);ge.forEach(P),S=V(J,"g",{class:!0});var Dn=O(S);M&&M.l(Dn),Dn.forEach(P),y=V(J,"g",{class:!0});var Cn=O(y);for(let X=0;X<N.length;X+=1)N[X].l(Cn);Cn.forEach(P),k=V(J,"g",{class:!0});var Ln=O(k);for(let X=0;X<_.length;X+=1)_[X].l(Ln);Ln.forEach(P),w=V(J,"g",{class:!0});var Tn=O(w);for(let X=0;X<F.length;X+=1)F[X].l(Tn);Tn.forEach(P),J.forEach(P),T.forEach(P),this.h()},h(){v(t,"id","sphere"),v(t,"d",l=n[12]({type:"Sphere"})),v(o,"href","#sphere"),v(r,"class","clip"),v(r,"id","clip"),v(c,"cx",h=n[2]/2),v(c,"cy",s=n[3]/2),v(c,"r",u=n[2]*2),v(c,"class","bg svelte-ki8ph5"),v(f,"class","marine svelte-ki8ph5"),v(f,"fill","#e9f4ff"),v(f,"stroke","blue"),v(g,"class","world svelte-ki8ph5"),v(g,"stroke","none"),v(p,"class","contour svelte-ki8ph5"),v(p,"fill","none"),v(p,"stroke","none"),v(S,"class","svelte-ki8ph5"),v(y,"class","svelte-ki8ph5"),v(k,"class","spoua svelte-ki8ph5"),v(w,"class","nemo svelte-ki8ph5"),v(a,"clip-path","url(#clip)"),v(a,"class","svelte-ki8ph5"),v(e,"viewBox",A="0 0 "+n[2]+" "+n[3])},m(m,T){j(m,e,T),L(e,i),L(i,t),L(i,r),L(r,o),E&&E.m(e,null),L(e,a),L(a,c),L(a,f);for(let d=0;d<R.length;d+=1)R[d]&&R[d].m(f,null);L(a,g);for(let d=0;d<z.length;d+=1)z[d]&&z[d].m(g,null);L(a,p);for(let d=0;d<D.length;d+=1)D[d]&&D[d].m(p,null);L(a,S),M&&M.m(S,null),L(a,y);for(let d=0;d<N.length;d+=1)N[d]&&N[d].m(y,null);L(a,k);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(k,null);L(a,w);for(let d=0;d<F.length;d+=1)F[d]&&F[d].m(w,null)},p(m,T){if(T[0]&4096&&l!==(l=m[12]({type:"Sphere"}))&&v(t,"d",l),m[0].length>0?E?E.p(m,T):(E=pt(m),E.c(),E.m(e,a)):E&&(E.d(1),E=null),T[0]&4&&h!==(h=m[2]/2)&&v(c,"cx",h),T[0]&8&&s!==(s=m[3]/2)&&v(c,"cy",s),T[0]&4&&u!==(u=m[2]*2)&&v(c,"r",u),T[0]&4160){b=ee(m[6]);let d;for(d=0;d<b.length;d+=1){const H=ct(m,b,d);R[d]?R[d].p(H,T):(R[d]=gt(H),R[d].c(),R[d].m(f,null))}for(;d<R.length;d+=1)R[d].d(1);R.length=b.length}if(T[0]&4128){B=ee(m[5]);let d;for(d=0;d<B.length;d+=1){const H=ft(m,B,d);z[d]?z[d].p(H,T):(z[d]=dt(H),z[d].c(),z[d].m(g,null))}for(;d<z.length;d+=1)z[d].d(1);z.length=B.length}if(T[0]&4224){I=ee(m[7]);let d;for(d=0;d<I.length;d+=1){const H=ut(m,I,d);D[d]?D[d].p(H,T):(D[d]=_t(H),D[d].c(),D[d].m(p,null))}for(;d<D.length;d+=1)D[d].d(1);D.length=I.length}if(m[0].length>0?M?M.p(m,T):(M=vt(m),M.c(),M.m(S,null)):M&&(M.d(1),M=null),T[0]&1){Z=ee(m[0]);let d;for(d=0;d<Z.length;d+=1){const H=at(m,Z,d);N[d]?N[d].p(H,T):(N[d]=yt(H),N[d].c(),N[d].m(y,null))}for(;d<N.length;d+=1)N[d].d(1);N.length=Z.length}if(T[0]&4352){$=ee(m[8]);let d;for(d=0;d<$.length;d+=1){const H=ot(m,$,d);_[d]?_[d].p(H,T):(_[d]=wt(H),_[d].c(),_[d].m(k,null))}for(;d<_.length;d+=1)_[d].d(1);_.length=$.length}if(T[0]&16){C=ee(m[4]);let d;for(d=0;d<C.length;d+=1){const H=rt(m,C,d);F[d]?F[d].p(H,T):(F[d]=kt(H),F[d].c(),F[d].m(w,null))}for(;d<F.length;d+=1)F[d].d(1);F.length=C.length}T[0]&12&&A!==(A="0 0 "+m[2]+" "+m[3])&&v(e,"viewBox",A)},d(m){m&&P(e),E&&E.d(),Ee(R,m),Ee(z,m),Ee(D,m),M&&M.d(),Ee(N,m),Ee(_,m),Ee(F,m)}}}function pt(n){var c,h;let e,i,t=((c=n[0][n[0].length-1])==null?void 0:c.name)+"",l,r,o=((h=n[0][n[0].length-1])==null?void 0:h.year)+"",a;return{c(){e=U("text"),i=U("textPath"),l=re(t),r=re(" — "),a=re(o),this.h()},l(s){e=V(s,"text",{"text-anchor":!0,dy:!0,"font-size":!0,fill:!0});var u=O(e);i=V(u,"textPath",{href:!0,startOffset:!0});var f=O(i);l=oe(f,t),r=oe(f," — "),a=oe(f,o),f.forEach(P),u.forEach(P),this.h()},h(){v(i,"href","#sphere"),v(i,"startOffset","15%"),v(e,"text-anchor","left"),v(e,"dy","-5"),v(e,"font-size","36"),v(e,"fill","blue")},m(s,u){j(s,e,u),L(e,i),L(i,l),L(i,r),L(i,a)},p(s,u){var f,g;u[0]&1&&t!==(t=((f=s[0][s[0].length-1])==null?void 0:f.name)+"")&&Se(l,t),u[0]&1&&o!==(o=((g=s[0][s[0].length-1])==null?void 0:g.year)+"")&&Se(a,o)},d(s){s&&P(e)}}}function gt(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),O(e).forEach(P),this.h()},h(){v(e,"d",i=n[12](n[27])),v(e,"class","marineBorders")},m(t,l){j(t,e,l)},p(t,l){l[0]&4160&&i!==(i=t[12](t[27]))&&v(e,"d",i)},d(t){t&&P(e)}}}function dt(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),O(e).forEach(P),this.h()},h(){v(e,"d",i=n[12](n[27])),v(e,"class","country")},m(t,l){j(t,e,l)},p(t,l){l[0]&4128&&i!==(i=t[12](t[27]))&&v(e,"d",i)},d(t){t&&P(e)}}}function _t(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),O(e).forEach(P),this.h()},h(){v(e,"d",i=n[12](n[27])),v(e,"class","contour svelte-ki8ph5")},m(t,l){j(t,e,l)},p(t,l){l[0]&4224&&i!==(i=t[12](t[27]))&&v(e,"d",i)},d(t){t&&P(e)}}}function vt(n){let e,i=ee(n[0]),t=[];for(let l=0;l<i.length;l+=1)t[l]=Et(st(n,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=ae()},l(l){for(let r=0;r<t.length;r+=1)t[r].l(l);e=ae()},m(l,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(l,r);j(l,e,r)},p(l,r){if(r[0]&1){i=ee(l[0]);let o;for(o=0;o<i.length;o+=1){const a=st(l,i,o);t[o]?t[o].p(a,r):(t[o]=Et(a),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=i.length}},d(l){l&&P(e),Ee(t,l)}}}function mt(n){let e,i,t,l,r;return{c(){e=U("line"),this.h()},l(o){e=V(o,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),O(e).forEach(P),this.h()},h(){v(e,"x1",i=n[0][n[29]-1].cx),v(e,"y1",t=n[0][n[29]-1].cy),v(e,"x2",l=n[32].cx),v(e,"y2",r=n[32].cy),v(e,"class","svelte-ki8ph5"),ne(e,"highlite",n[29]===n[0].length-1),ne(e,"old",n[29]!==n[0].length-1)},m(o,a){j(o,e,a)},p(o,a){a[0]&1&&i!==(i=o[0][o[29]-1].cx)&&v(e,"x1",i),a[0]&1&&t!==(t=o[0][o[29]-1].cy)&&v(e,"y1",t),a[0]&1&&l!==(l=o[32].cx)&&v(e,"x2",l),a[0]&1&&r!==(r=o[32].cy)&&v(e,"y2",r),a[0]&1&&ne(e,"highlite",o[29]===o[0].length-1),a[0]&1&&ne(e,"old",o[29]!==o[0].length-1)},d(o){o&&P(e)}}}function Et(n){let e,i=n[29]>0&&n[0][n[29]].name===n[0][n[29]-1].name&&mt(n);return{c(){i&&i.c(),e=ae()},l(t){i&&i.l(t),e=ae()},m(t,l){i&&i.m(t,l),j(t,e,l)},p(t,l){t[29]>0&&t[0][t[29]].name===t[0][t[29]-1].name?i?i.p(t,l):(i=mt(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&P(e),i&&i.d(t)}}}function Ki(n){let e,i,t,l;return{c(){e=U("circle"),this.h()},l(r){e=V(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),O(e).forEach(P),this.h()},h(){v(e,"cx",i=n[22]),v(e,"cy",t=n[23]),v(e,"r",l=n[30]),v(e,"fill","blue"),v(e,"class","svelte-ki8ph5"),ne(e,"highlite",n[29]===n[0].length-1),ne(e,"old",n[29]!==n[0].length-1),ne(e,"debris",n[24].includes("DEB"))},m(r,o){j(r,e,o)},p(r,o){o[0]&1&&i!==(i=r[22])&&v(e,"cx",i),o[0]&1&&t!==(t=r[23])&&v(e,"cy",t),o[0]&1&&l!==(l=r[30])&&v(e,"r",l),o[0]&1&&ne(e,"highlite",r[29]===r[0].length-1),o[0]&1&&ne(e,"old",r[29]!==r[0].length-1),o[0]&1&&ne(e,"debris",r[24].includes("DEB"))},d(r){r&&P(e)}}}function xi(n){let e,i,t,l;return{c(){e=U("circle"),this.h()},l(r){e=V(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),O(e).forEach(P),this.h()},h(){v(e,"cx",i=n[22]),v(e,"cy",t=n[23]),v(e,"r",l=n[30]),v(e,"fill","blue"),v(e,"class","highlite svelte-ki8ph5"),ne(e,"debris",n[24].includes("DEB"))},m(r,o){j(r,e,o)},p(r,o){o[0]&1&&i!==(i=r[22])&&v(e,"cx",i),o[0]&1&&t!==(t=r[23])&&v(e,"cy",t),o[0]&1&&l!==(l=r[30])&&v(e,"r",l),o[0]&1&&ne(e,"debris",r[24].includes("DEB"))},d(r){r&&P(e)}}}function St(n){let e,i=n[24]+"",t,l,r;return{c(){e=U("text"),t=re(i),this.h()},l(o){e=V(o,"text",{x:!0,y:!0,class:!0,"font-size":!0});var a=O(e);t=oe(a,i),a.forEach(P),this.h()},h(){v(e,"x",l=n[30]+n[22]+8),v(e,"y",r=n[23]+2),v(e,"class","satellite-name svelte-ki8ph5"),v(e,"font-size","8")},m(o,a){j(o,e,a),L(e,t)},p(o,a){a[0]&1&&i!==(i=o[24]+"")&&Se(t,i),a[0]&1&&l!==(l=o[30]+o[22]+8)&&v(e,"x",l),a[0]&1&&r!==(r=o[23]+2)&&v(e,"y",r)},d(o){o&&P(e)}}}function yt(n){let e,i;function t(a,c){if(a[29]===a[0].length-1)return xi;if(a[29]>0&&a[0][a[29]].name===a[0][a[29]-1].name)return Ki}let l=t(n),r=l&&l(n),o=n[29]===n[0].length-1&&St(n);return{c(){r&&r.c(),e=ae(),o&&o.c(),i=ae()},l(a){r&&r.l(a),e=ae(),o&&o.l(a),i=ae()},m(a,c){r&&r.m(a,c),j(a,e,c),o&&o.m(a,c),j(a,i,c)},p(a,c){l===(l=t(a))&&r?r.p(a,c):(r&&r.d(1),r=l&&l(a),r&&(r.c(),r.m(e.parentNode,e))),a[29]===a[0].length-1?o?o.p(a,c):(o=St(a),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(a){a&&(P(e),P(i)),r&&r.d(a),o&&o.d(a)}}}function wt(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),O(e).forEach(P),this.h()},h(){v(e,"d",i=n[12](n[27])),v(e,"class","spoua svelte-ki8ph5")},m(t,l){j(t,e,l)},p(t,l){l[0]&4352&&i!==(i=t[12](t[27]))&&v(e,"d",i)},d(t){t&&P(e)}}}function Pt(n){let e,i,t,l,r=n[24]+"",o,a,c;return{c(){e=U("circle"),l=U("text"),o=re(r),this.h()},l(h){e=V(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),O(e).forEach(P),l=V(h,"text",{x:!0,y:!0,"font-size":!0,class:!0});var s=O(l);o=oe(s,r),s.forEach(P),this.h()},h(){v(e,"cx",i=n[22]),v(e,"cy",t=n[23]),v(e,"r",1),v(e,"fill","black"),v(e,"class","svelte-ki8ph5"),v(l,"x",a=n[22]+4),v(l,"y",c=n[23]+2),v(l,"font-size","8"),v(l,"class","svelte-ki8ph5")},m(h,s){j(h,e,s),j(h,l,s),L(l,o)},p(h,s){s[0]&16&&i!==(i=h[22])&&v(e,"cx",i),s[0]&16&&t!==(t=h[23])&&v(e,"cy",t),s[0]&16&&r!==(r=h[24]+"")&&Se(o,r),s[0]&16&&a!==(a=h[22]+4)&&v(l,"x",a),s[0]&16&&c!==(c=h[23]+2)&&v(l,"y",c)},d(h){h&&(P(e),P(l))}}}function kt(n){let e,i=n[22]&&n[23]&&Pt(n);return{c(){i&&i.c(),e=ae()},l(t){i&&i.l(t),e=ae()},m(t,l){i&&i.m(t,l),j(t,e,l)},p(t,l){t[22]&&t[23]?i?i.p(t,l):(i=Pt(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&P(e),i&&i.d(t)}}}function el(n){let e,i,t,l,r,o,a,c,h;e=new Ui({props:{currentPoint:n[10]}}),t=new Wi({props:{index:n[11],points:n[9]}}),t.$on("updateIndex",n[14]);let s=n[0].length>0&&ht(n);return c=new Ji({props:{points:n[9],highlighted:n[13]}}),c.$on("updateId",n[15]),{c(){He(e.$$.fragment),i=ve(),He(t.$$.fragment),l=ve(),r=K("article"),o=K("div"),s&&s.c(),a=ve(),He(c.$$.fragment),this.h()},l(u){je(e.$$.fragment,u),i=me(u),je(t.$$.fragment,u),l=me(u),r=x(u,"ARTICLE",{class:!0});var f=O(r);o=x(f,"DIV",{class:!0});var g=O(o);s&&s.l(g),g.forEach(P),a=me(f),je(c.$$.fragment,f),f.forEach(P),this.h()},h(){v(o,"class","svelte-ki8ph5"),v(r,"class","svelte-ki8ph5")},m(u,f){Ue(e,u,f),j(u,i,f),Ue(t,u,f),j(u,l,f),j(u,r,f),L(r,o),s&&s.m(o,null),n[17](o),L(r,a),Ue(c,r,null),h=!0},p(u,f){const g={};f[0]&1024&&(g.currentPoint=u[10]),e.$set(g);const p={};f[0]&2048&&(p.index=u[11]),f[0]&512&&(p.points=u[9]),t.$set(p),u[0].length>0?s?s.p(u,f):(s=ht(u),s.c(),s.m(o,null)):s&&(s.d(1),s=null);const S={};f[0]&512&&(S.points=u[9]),f[0]&8192&&(S.highlighted=u[13]),c.$set(S)},i(u){h||(Pe(e.$$.fragment,u),Pe(t.$$.fragment,u),Pe(c.$$.fragment,u),h=!0)},o(u){ke(e.$$.fragment,u),ke(t.$$.fragment,u),ke(c.$$.fragment,u),h=!1},d(u){u&&(P(i),P(l),P(r)),Ve(e,u),Ve(t,u),s&&s.d(),n[17](null),Ve(c)}}}function nl(n,e,i){let t,{data:l}=e,r,o=0,a=0,c,h=[{lon:-126.3622344,lat:-72.9741938,name:"Maher Island"},{lon:-109.452777777778,lat:-27.2013888888889,name:"Easter Island"},{lon:-124.787888,lat:-24.6807263,name:"Ducie Island"},{lon:-123.3933333,lat:-48.8766667,name:"Point Nemo"}],s=[],u=[],f=[],g=[],p=[],S=[],y=null,k=0,w,A;Nt(async()=>{E();try{const I=await fetch("world.json").then(N=>N.json()),D=await fetch("EEZ_land_v2_201410.json").then(N=>N.json()),M=await fetch("contour.json").then(N=>N.json()),Z=await fetch("spoua.json").then(N=>N.json());i(5,s=Ye(I,I.objects.land).features),i(6,u=Ye(D,D.objects.EEZ_land_v2_201410).features),i(7,f=Ye(M,M.objects.collection).features),i(8,g=Ye(Z,Z.objects.spoua).features),i(9,p=l.map(N=>{const[$,_]=c([N.lon,N.lat]);return{cx:$,cy:_,name:N.satellite_name,year:N.satellite_decay,r:N.rcs}}).filter(N=>!isNaN(N.cx)&&!isNaN(N.cy))),i(4,h=h.map(N=>{const[$,_]=c([N.lon,N.lat]);return{cx:$,cy:_,name:N.name}})),b()}catch(I){console.error("Error loading or processing data:",I)}window.addEventListener("resize",E)});function E(){r&&(i(2,o=r.clientWidth),i(3,a=r.clientHeight),c=qi().rotate([123,48]).scale(260).precision(1).clipAngle(100).translate([o/2,a/2]),i(12,A=Ni().projection(c)))}const b=()=>{w&&clearInterval(w),i(11,k=0),i(0,S=[]),w=setInterval(()=>{k<p.length?(i(0,S=[...S,p[k]]),i(10,y=p[k]),i(11,k=(k+1)%p.length)):clearInterval(w)},500)},R=I=>{i(11,k=I.detail),i(0,S=p.slice(0,k+1)),i(10,y=S[S.length-1]),i(13,t=p[k+1])},B=I=>{i(11,k=p.findIndex(D=>D.name==I.detail.name&&D.year==I.detail.year)),i(0,S=p.slice(0,k+1))};function z(I){Gt[I?"unshift":"push"](()=>{r=I,i(1,r)})}return n.$$set=I=>{"data"in I&&i(16,l=I.data)},n.$$.update=()=>{n.$$.dirty[0]&1&&i(13,t=S.slice(-1)[0])},[S,r,o,a,h,s,u,f,g,p,y,k,A,t,R,B,l,z]}let tl=class extends Le{constructor(e){super(),Te(this,e,nl,el,Ce,{data:16},null,[-1,-1])}};function il(n){let e,i,t,l;return i=new tl({props:{data:n[0]}}),{c(){e=K("article"),He(i.$$.fragment),this.h()},l(r){e=x(r,"ARTICLE",{class:!0});var o=O(e);je(i.$$.fragment,o),o.forEach(P),this.h()},h(){v(e,"class","svelte-3qdlah"),Wt(()=>n[3].call(e))},m(r,o){j(r,e,o),Ue(i,e,null),t=Zt(e,n[3].bind(e)),l=!0},p(r,o){const a={};o&1&&(a.data=r[0]),i.$set(a)},i(r){l||(Pe(i.$$.fragment,r),l=!0)},o(r){ke(i.$$.fragment,r),l=!1},d(r){r&&P(e),Ve(i),t()}}}function ll(n){let e,i="Loading...";return{c(){e=K("p"),e.textContent=i,this.h()},l(t){e=x(t,"P",{class:!0,"data-svelte-h":!0}),An(e)!=="svelte-qdsr2u"&&(e.textContent=i),this.h()},h(){v(e,"class","svelte-3qdlah")},m(t,l){j(t,e,l)},p:pe,i:pe,o:pe,d(t){t&&P(e)}}}function rl(n){let e,i,t,l;const r=[ll,il],o=[];function a(c,h){return c[0].length===0?0:1}return e=a(n),i=o[e]=r[e](n),{c(){i.c(),t=ae()},l(c){i.l(c),t=ae()},m(c,h){o[e].m(c,h),j(c,t,h),l=!0},p(c,[h]){let s=e;e=a(c),e===s?o[e].p(c,h):(Xt(),ke(o[s],1,1,()=>{o[s]=null}),Yt(),i=o[e],i?i.p(c,h):(i=o[e]=r[e](c),i.c()),Pe(i,1),i.m(t.parentNode,t))},i(c){l||(Pe(i),l=!0)},o(c){ke(i),l=!1},d(c){c&&P(t),o[e].d(c)}}}function ol(n,e,i){let t=[],l,r;Nt(async()=>{const c=await(await fetch("data.json")).json(),h=Math.min(...c.map(u=>u.rcs)),s=Math.max(...c.map(u=>u.rcs));i(0,t=c.sort((u,f)=>new Date(u.satellite_decay)-new Date(f.satellite_decay)).map(u=>({...u,rcs:1+(u.rcs-h)*9/(s-h)})))});function o(){l=this.clientWidth,r=this.clientHeight,i(1,l),i(2,r)}return[t,l,r,o]}class fl extends Le{constructor(e){super(),Te(this,e,ol,rl,Ce,{})}}export{fl as component};
