import{s as be,e as K,b as de,t as le,d as x,f as q,O as Rt,j as ve,h as re,i as P,v as d,k as H,l as D,m as ye,n as he,w as We,P as At,Q as jn,R as Tt,S as me,T as st,F as Nn,U as Rn,r as An,V as U,W as V,p as oe,X as xe}from"../chunks/scheduler.BOPF9aT2.js";import{S as ze,i as Le,b as Be,d as Fe,m as He,t as we,a as Pe,e as Ue,c as Xn,g as Yn}from"../chunks/index.-bqUeIaq.js";function ee(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Qn(t){return t}function Jn(t){if(t==null)return Qn;var e,i,n=t.scale[0],l=t.scale[1],r=t.translate[0],o=t.translate[1];return function(a,c){c||(e=i=0);var p=2,u=a.length,f=new Array(u);for(f[0]=(e+=a[0])*n+r,f[1]=(i+=a[1])*l+o;p<u;)f[p]=a[p],++p;return f}}function Kn(t,e){for(var i,n=t.length,l=n-e;l<--n;)i=t[l],t[l++]=t[n],t[n]=i}function Ze(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(i){return qt(t,i)})}:qt(t,e)}function qt(t,e){var i=e.id,n=e.bbox,l=e.properties==null?{}:e.properties,r=xn(t,e);return i==null&&n==null?{type:"Feature",properties:l,geometry:r}:n==null?{type:"Feature",id:i,properties:l,geometry:r}:{type:"Feature",id:i,bbox:n,properties:l,geometry:r}}function xn(t,e){var i=Jn(t.transform),n=t.arcs;function l(u,f){f.length&&f.pop();for(var s=n[u<0?~u:u],h=0,g=s.length;h<g;++h)f.push(i(s[h],h));u<0&&Kn(f,g)}function r(u){return i(u)}function o(u){for(var f=[],s=0,h=u.length;s<h;++s)l(u[s],f);return f.length<2&&f.push(f[0]),f}function a(u){for(var f=o(u);f.length<4;)f.push(f[0]);return f}function c(u){return u.map(a)}function p(u){var f=u.type,s;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(p)};case"Point":s=r(u.coordinates);break;case"MultiPoint":s=u.coordinates.map(r);break;case"LineString":s=o(u.arcs);break;case"MultiLineString":s=u.arcs.map(o);break;case"Polygon":s=c(u.arcs);break;case"MultiPolygon":s=u.arcs.map(c);break;default:return null}return{type:f,coordinates:s}}return p(e)}class ke{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let n=0;for(let l=0;l<this._n&&l<32;l++){const r=i[l],o=e+r,a=Math.abs(e)<Math.abs(r)?e-(o-r):r-(o-e);a&&(i[n++]=a),e=o}return i[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let i=this._n,n,l,r,o=0;if(i>0){for(o=e[--i];i>0&&(n=o,l=e[--i],o=n+l,r=l-(o-n),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(l=r*2,n=o+l,l==n-o&&(o=n))}return o}}function*ei(t){for(const e of t)yield*e}function In(t){return Array.from(ei(t))}var G=1e-6,ti=1e-12,B=Math.PI,ae=B/2,$t=B/4,ue=B*2,ge=180/B,te=B/180,Q=Math.abs,ni=Math.atan,Re=Math.atan2,X=Math.cos,Z=Math.sin,ii=Math.sign||function(t){return t>0?1:t<0?-1:0},Ee=Math.sqrt;function Cn(t){return t>1?0:t<-1?B:Math.acos(t)}function Ae(t){return t>1?ae:t<-1?-ae:Math.asin(t)}function se(){}function et(t,e){t&&Bt.hasOwnProperty(t.type)&&Bt[t.type](t,e)}var Ot={Feature:function(t,e){et(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,l=i.length;++n<l;)et(i[n].geometry,e)}},Bt={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,l=i.length;++n<l;)t=i[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){pt(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,l=i.length;++n<l;)pt(i[n],e,0)},Polygon:function(t,e){Ft(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,l=i.length;++n<l;)Ft(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,l=i.length;++n<l;)et(i[n],e)}};function pt(t,e,i){var n=-1,l=t.length-i,r;for(e.lineStart();++n<l;)r=t[n],e.point(r[0],r[1],r[2]);e.lineEnd()}function Ft(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)pt(t[i],e,1);e.polygonEnd()}function je(t,e){t&&Ot.hasOwnProperty(t.type)?Ot[t.type](t,e):et(t,e)}function gt(t){return[Re(t[1],t[0]),Ae(t[2])]}function Ie(t){var e=t[0],i=t[1],n=X(i);return[n*X(e),n*Z(e),Z(i)]}function Xe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function tt(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ut(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ye(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function _t(t){var e=Ee(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function dt(t,e){function i(n,l){return n=t(n,l),e(n[0],n[1])}return t.invert&&e.invert&&(i.invert=function(n,l){return n=e.invert(n,l),n&&t.invert(n[0],n[1])}),i}function vt(t,e){return Q(t)>B&&(t-=Math.round(t/ue)*ue),[t,e]}vt.invert=vt;function li(t,e,i){return(t%=ue)?e||i?dt(Ut(t),Vt(e,i)):Ut(t):e||i?Vt(e,i):vt}function Ht(t){return function(e,i){return e+=t,Q(e)>B&&(e-=Math.round(e/ue)*ue),[e,i]}}function Ut(t){var e=Ht(t);return e.invert=Ht(-t),e}function Vt(t,e){var i=X(t),n=Z(t),l=X(e),r=Z(e);function o(a,c){var p=X(c),u=X(a)*p,f=Z(a)*p,s=Z(c),h=s*i+u*n;return[Re(f*l-h*r,u*i-s*n),Ae(h*l+f*r)]}return o.invert=function(a,c){var p=X(c),u=X(a)*p,f=Z(a)*p,s=Z(c),h=s*l-f*r;return[Re(f*l+s*r,u*i+h*n),Ae(h*i-u*n)]},o}function ri(t,e,i,n,l,r){if(i){var o=X(e),a=Z(e),c=n*i;l==null?(l=e+n*ue,r=e-c/2):(l=Gt(o,l),r=Gt(o,r),(n>0?l<r:l>r)&&(l+=n*ue));for(var p,u=l;n>0?u>r:u<r;u-=c)p=gt([o,-a*X(u),-a*Z(u)]),t.point(p[0],p[1])}}function Gt(t,e){e=Ie(e),e[0]-=t,_t(e);var i=Cn(-e[1]);return((-e[2]<0?-i:i)+ue-G)%ue}function bn(){var t=[],e;return{point:function(i,n,l){e.push([i,n,l])},lineStart:function(){t.push(e=[])},lineEnd:se,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],e=null,i}}}function Ke(t,e){return Q(t[0]-e[0])<G&&Q(t[1]-e[1])<G}function Qe(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function zn(t,e,i,n,l){var r=[],o=[],a,c;if(t.forEach(function(g){if(!((E=g.length-1)<=0)){var E,w=g[0],j=g[E],M;if(Ke(w,j)){if(!w[2]&&!j[2]){for(l.lineStart(),a=0;a<E;++a)l.point((w=g[a])[0],w[1]);l.lineEnd();return}j[0]+=2*G}r.push(M=new Qe(w,g,null,!0)),o.push(M.o=new Qe(w,null,M,!1)),r.push(M=new Qe(j,g,null,!1)),o.push(M.o=new Qe(j,null,M,!0))}}),!!r.length){for(o.sort(e),Wt(r),Wt(o),a=0,c=o.length;a<c;++a)o[a].e=i=!i;for(var p=r[0],u,f;;){for(var s=p,h=!0;s.v;)if((s=s.n)===p)return;u=s.z,l.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(a=0,c=u.length;a<c;++a)l.point((f=u[a])[0],f[1]);else n(s.x,s.n.x,1,l);s=s.n}else{if(h)for(u=s.p.z,a=u.length-1;a>=0;--a)l.point((f=u[a])[0],f[1]);else n(s.x,s.p.x,-1,l);s=s.p}s=s.o,u=s.z,h=!h}while(!s.v);l.lineEnd()}}}function Wt(t){if(e=t.length){for(var e,i=0,n=t[0],l;++i<e;)n.n=l=t[i],l.p=n,n=l;n.n=l=t[0],l.p=n}}function ft(t){return Q(t[0])<=B?t[0]:ii(t[0])*((Q(t[0])+B)%ue-B)}function oi(t,e){var i=ft(e),n=e[1],l=Z(n),r=[Z(i),-X(i),0],o=0,a=0,c=new ke;l===1?n=ae+G:l===-1&&(n=-ae-G);for(var p=0,u=t.length;p<u;++p)if(s=(f=t[p]).length)for(var f,s,h=f[s-1],g=ft(h),E=h[1]/2+$t,w=Z(E),j=X(E),M=0;M<s;++M,g=S,w=k,j=b,h=N){var N=f[M],S=ft(N),A=N[1]/2+$t,k=Z(A),b=X(A),R=S-g,L=R>=0?1:-1,I=L*R,y=I>B,W=w*k;if(c.add(Re(W*L*Z(I),j*b+W*X(I))),o+=y?R+L*ue:R,y^g>=i^S>=i){var C=tt(Ie(h),Ie(N));_t(C);var O=tt(r,C);_t(O);var v=(y^R>=0?-1:1)*Ae(O[2]);(n>v||n===v&&(C[0]||C[1]))&&(a+=y^R>=0?1:-1)}}return(o<-G||o<G&&c<-ti)^a&1}function Ln(t,e,i,n){return function(l){var r=e(l),o=bn(),a=e(o),c=!1,p,u,f,s={point:h,lineStart:E,lineEnd:w,polygonStart:function(){s.point=j,s.lineStart=M,s.lineEnd=N,u=[],p=[]},polygonEnd:function(){s.point=h,s.lineStart=E,s.lineEnd=w,u=In(u);var S=oi(p,n);u.length?(c||(l.polygonStart(),c=!0),zn(u,si,S,i,l)):S&&(c||(l.polygonStart(),c=!0),l.lineStart(),i(null,null,1,l),l.lineEnd()),c&&(l.polygonEnd(),c=!1),u=p=null},sphere:function(){l.polygonStart(),l.lineStart(),i(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function h(S,A){t(S,A)&&l.point(S,A)}function g(S,A){r.point(S,A)}function E(){s.point=g,r.lineStart()}function w(){s.point=h,r.lineEnd()}function j(S,A){f.push([S,A]),a.point(S,A)}function M(){a.lineStart(),f=[]}function N(){j(f[0][0],f[0][1]),a.lineEnd();var S=a.clean(),A=o.result(),k,b=A.length,R,L,I;if(f.pop(),p.push(f),f=null,!!b){if(S&1){if(L=A[0],(R=L.length-1)>0){for(c||(l.polygonStart(),c=!0),l.lineStart(),k=0;k<R;++k)l.point((I=L[k])[0],I[1]);l.lineEnd()}return}b>1&&S&2&&A.push(A.pop().concat(A.shift())),u.push(A.filter(ai))}}return s}}function ai(t){return t.length>1}function si(t,e){return((t=t.x)[0]<0?t[1]-ae-G:ae-t[1])-((e=e.x)[0]<0?e[1]-ae-G:ae-e[1])}const Zt=Ln(function(){return!0},ui,ci,[-B,-ae]);function ui(t){var e=NaN,i=NaN,n=NaN,l;return{lineStart:function(){t.lineStart(),l=1},point:function(r,o){var a=r>0?B:-B,c=Q(r-e);Q(c-B)<G?(t.point(e,i=(i+o)/2>0?ae:-ae),t.point(n,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(r,i),l=0):n!==a&&c>=B&&(Q(e-n)<G&&(e-=n*G),Q(r-a)<G&&(r-=a*G),i=fi(e,i,r,o),t.point(n,i),t.lineEnd(),t.lineStart(),t.point(a,i),l=0),t.point(e=r,i=o),n=a},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-l}}}function fi(t,e,i,n){var l,r,o=Z(t-i);return Q(o)>G?ni((Z(e)*(r=X(n))*Z(i)-Z(n)*(l=X(e))*Z(t))/(l*r*o)):(e+n)/2}function ci(t,e,i,n){var l;if(t==null)l=i*ae,n.point(-B,l),n.point(0,l),n.point(B,l),n.point(B,0),n.point(B,-l),n.point(0,-l),n.point(-B,-l),n.point(-B,0),n.point(-B,l);else if(Q(t[0]-e[0])>G){var r=t[0]<e[0]?B:-B;l=i*r/2,n.point(-r,l),n.point(0,l),n.point(r,l)}else n.point(e[0],e[1])}function hi(t){var e=X(t),i=2*te,n=e>0,l=Q(e)>G;function r(u,f,s,h){ri(h,t,i,s,u,f)}function o(u,f){return X(u)*X(f)>e}function a(u){var f,s,h,g,E;return{lineStart:function(){g=h=!1,E=1},point:function(w,j){var M=[w,j],N,S=o(w,j),A=n?S?0:p(w,j):S?p(w+(w<0?B:-B),j):0;if(!f&&(g=h=S)&&u.lineStart(),S!==h&&(N=c(f,M),(!N||Ke(f,N)||Ke(M,N))&&(M[2]=1)),S!==h)E=0,S?(u.lineStart(),N=c(M,f),u.point(N[0],N[1])):(N=c(f,M),u.point(N[0],N[1],2),u.lineEnd()),f=N;else if(l&&f&&n^S){var k;!(A&s)&&(k=c(M,f,!0))&&(E=0,n?(u.lineStart(),u.point(k[0][0],k[0][1]),u.point(k[1][0],k[1][1]),u.lineEnd()):(u.point(k[1][0],k[1][1]),u.lineEnd(),u.lineStart(),u.point(k[0][0],k[0][1],3)))}S&&(!f||!Ke(f,M))&&u.point(M[0],M[1]),f=M,h=S,s=A},lineEnd:function(){h&&u.lineEnd(),f=null},clean:function(){return E|(g&&h)<<1}}}function c(u,f,s){var h=Ie(u),g=Ie(f),E=[1,0,0],w=tt(h,g),j=Xe(w,w),M=w[0],N=j-M*M;if(!N)return!s&&u;var S=e*j/N,A=-e*M/N,k=tt(E,w),b=Ye(E,S),R=Ye(w,A);ut(b,R);var L=k,I=Xe(b,L),y=Xe(L,L),W=I*I-y*(Xe(b,b)-1);if(!(W<0)){var C=Ee(W),O=Ye(L,(-I-C)/y);if(ut(O,b),O=gt(O),!s)return O;var v=u[0],z=f[0],$=u[1],m=f[1],T;z<v&&(T=v,v=z,z=T);var _=z-v,F=Q(_-B)<G,J=F||_<G;if(!F&&m<$&&(T=$,$=m,m=T),J?F?$+m>0^O[1]<(Q(O[0]-v)<G?$:m):$<=O[1]&&O[1]<=m:_>B^(v<=O[0]&&O[0]<=z)){var ne=Ye(L,(-I+C)/y);return ut(ne,b),[O,gt(ne)]}}}function p(u,f){var s=n?t:B-t,h=0;return u<-s?h|=1:u>s&&(h|=2),f<-s?h|=4:f>s&&(h|=8),h}return Ln(o,a,r,n?[0,-t]:[-B,t-B])}function pi(t,e,i,n,l,r){var o=t[0],a=t[1],c=e[0],p=e[1],u=0,f=1,s=c-o,h=p-a,g;if(g=i-o,!(!s&&g>0)){if(g/=s,s<0){if(g<u)return;g<f&&(f=g)}else if(s>0){if(g>f)return;g>u&&(u=g)}if(g=l-o,!(!s&&g<0)){if(g/=s,s<0){if(g>f)return;g>u&&(u=g)}else if(s>0){if(g<u)return;g<f&&(f=g)}if(g=n-a,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<f&&(f=g)}else if(h>0){if(g>f)return;g>u&&(u=g)}if(g=r-a,!(!h&&g<0)){if(g/=h,h<0){if(g>f)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<f&&(f=g)}return u>0&&(t[0]=o+u*s,t[1]=a+u*h),f<1&&(e[0]=o+f*s,e[1]=a+f*h),!0}}}}}var De=1e9,Je=-De;function gi(t,e,i,n){function l(p,u){return t<=p&&p<=i&&e<=u&&u<=n}function r(p,u,f,s){var h=0,g=0;if(p==null||(h=o(p,f))!==(g=o(u,f))||c(p,u)<0^f>0)do s.point(h===0||h===3?t:i,h>1?n:e);while((h=(h+f+4)%4)!==g);else s.point(u[0],u[1])}function o(p,u){return Q(p[0]-t)<G?u>0?0:3:Q(p[0]-i)<G?u>0?2:1:Q(p[1]-e)<G?u>0?1:0:u>0?3:2}function a(p,u){return c(p.x,u.x)}function c(p,u){var f=o(p,1),s=o(u,1);return f!==s?f-s:f===0?u[1]-p[1]:f===1?p[0]-u[0]:f===2?p[1]-u[1]:u[0]-p[0]}return function(p){var u=p,f=bn(),s,h,g,E,w,j,M,N,S,A,k,b={point:R,lineStart:W,lineEnd:C,polygonStart:I,polygonEnd:y};function R(v,z){l(v,z)&&u.point(v,z)}function L(){for(var v=0,z=0,$=h.length;z<$;++z)for(var m=h[z],T=1,_=m.length,F=m[0],J,ne,Se=F[0],pe=F[1];T<_;++T)J=Se,ne=pe,F=m[T],Se=F[0],pe=F[1],ne<=n?pe>n&&(Se-J)*(n-ne)>(pe-ne)*(t-J)&&++v:pe<=n&&(Se-J)*(n-ne)<(pe-ne)*(t-J)&&--v;return v}function I(){u=f,s=[],h=[],k=!0}function y(){var v=L(),z=k&&v,$=(s=In(s)).length;(z||$)&&(p.polygonStart(),z&&(p.lineStart(),r(null,null,1,p),p.lineEnd()),$&&zn(s,a,v,r,p),p.polygonEnd()),u=p,s=h=g=null}function W(){b.point=O,h&&h.push(g=[]),A=!0,S=!1,M=N=NaN}function C(){s&&(O(E,w),j&&S&&f.rejoin(),s.push(f.result())),b.point=R,S&&u.lineEnd()}function O(v,z){var $=l(v,z);if(h&&g.push([v,z]),A)E=v,w=z,j=$,A=!1,$&&(u.lineStart(),u.point(v,z));else if($&&S)u.point(v,z);else{var m=[M=Math.max(Je,Math.min(De,M)),N=Math.max(Je,Math.min(De,N))],T=[v=Math.max(Je,Math.min(De,v)),z=Math.max(Je,Math.min(De,z))];pi(m,T,t,e,i,n)?(S||(u.lineStart(),u.point(m[0],m[1])),u.point(T[0],T[1]),$||u.lineEnd(),k=!1):$&&(u.lineStart(),u.point(v,z),k=!1)}M=v,N=z,S=$}return b}}const mt=t=>t;var ct=new ke,yt=new ke,Dn,Tn,Et,St,_e={point:se,lineStart:se,lineEnd:se,polygonStart:function(){_e.lineStart=_i,_e.lineEnd=vi},polygonEnd:function(){_e.lineStart=_e.lineEnd=_e.point=se,ct.add(Q(yt)),yt=new ke},result:function(){var t=ct/2;return ct=new ke,t}};function _i(){_e.point=di}function di(t,e){_e.point=qn,Dn=Et=t,Tn=St=e}function qn(t,e){yt.add(St*t-Et*e),Et=t,St=e}function vi(){qn(Dn,Tn)}var Ce=1/0,nt=Ce,Ve=-Ce,it=Ve,lt={point:mi,lineStart:se,lineEnd:se,polygonStart:se,polygonEnd:se,result:function(){var t=[[Ce,nt],[Ve,it]];return Ve=it=-(nt=Ce=1/0),t}};function mi(t,e){t<Ce&&(Ce=t),t>Ve&&(Ve=t),e<nt&&(nt=e),e>it&&(it=e)}var wt=0,Pt=0,Te=0,rt=0,ot=0,Ne=0,kt=0,Mt=0,qe=0,$n,On,fe,ce,ie={point:Me,lineStart:Xt,lineEnd:Yt,polygonStart:function(){ie.lineStart=Si,ie.lineEnd=wi},polygonEnd:function(){ie.point=Me,ie.lineStart=Xt,ie.lineEnd=Yt},result:function(){var t=qe?[kt/qe,Mt/qe]:Ne?[rt/Ne,ot/Ne]:Te?[wt/Te,Pt/Te]:[NaN,NaN];return wt=Pt=Te=rt=ot=Ne=kt=Mt=qe=0,t}};function Me(t,e){wt+=t,Pt+=e,++Te}function Xt(){ie.point=yi}function yi(t,e){ie.point=Ei,Me(fe=t,ce=e)}function Ei(t,e){var i=t-fe,n=e-ce,l=Ee(i*i+n*n);rt+=l*(fe+t)/2,ot+=l*(ce+e)/2,Ne+=l,Me(fe=t,ce=e)}function Yt(){ie.point=Me}function Si(){ie.point=Pi}function wi(){Bn($n,On)}function Pi(t,e){ie.point=Bn,Me($n=fe=t,On=ce=e)}function Bn(t,e){var i=t-fe,n=e-ce,l=Ee(i*i+n*n);rt+=l*(fe+t)/2,ot+=l*(ce+e)/2,Ne+=l,l=ce*t-fe*e,kt+=l*(fe+t),Mt+=l*(ce+e),qe+=l*3,Me(fe=t,ce=e)}function Fn(t){this._context=t}Fn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ue);break}}},result:se};var jt=new ke,ht,Hn,Un,$e,Oe,Ge={point:se,lineStart:function(){Ge.point=ki},lineEnd:function(){ht&&Vn(Hn,Un),Ge.point=se},polygonStart:function(){ht=!0},polygonEnd:function(){ht=null},result:function(){var t=+jt;return jt=new ke,t}};function ki(t,e){Ge.point=Vn,Hn=$e=t,Un=Oe=e}function Vn(t,e){$e-=t,Oe-=e,jt.add(Ee($e*$e+Oe*Oe)),$e=t,Oe=e}let Qt,at,Jt,Kt;class xt{constructor(e){this._append=e==null?Gn:Mi(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,i){switch(this._point){case 0:{this._append`M${e},${i}`,this._point=1;break}case 1:{this._append`L${e},${i}`;break}default:{if(this._append`M${e},${i}`,this._radius!==Jt||this._append!==at){const n=this._radius,l=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,Jt=n,at=this._append,Kt=this._,this._=l}this._+=Kt;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Gn(t){let e=1;this._+=t[0];for(const i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function Mi(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Gn;if(e!==Qt){const i=10**e;Qt=e,at=function(l){let r=1;this._+=l[0];for(const o=l.length;r<o;++r)this._+=Math.round(arguments[r]*i)/i+l[r]}}return at}function ji(t,e){let i=3,n=4.5,l,r;function o(a){return a&&(typeof n=="function"&&r.pointRadius(+n.apply(this,arguments)),je(a,l(r))),r.result()}return o.area=function(a){return je(a,l(_e)),_e.result()},o.measure=function(a){return je(a,l(Ge)),Ge.result()},o.bounds=function(a){return je(a,l(lt)),lt.result()},o.centroid=function(a){return je(a,l(ie)),ie.result()},o.projection=function(a){return arguments.length?(l=a==null?(t=null,mt):(t=a).stream,o):t},o.context=function(a){return arguments.length?(r=a==null?(e=null,new xt(i)):new Fn(e=a),typeof n!="function"&&r.pointRadius(n),o):e},o.pointRadius=function(a){return arguments.length?(n=typeof a=="function"?a:(r.pointRadius(+a),+a),o):n},o.digits=function(a){if(!arguments.length)return i;if(a==null)i=null;else{const c=Math.floor(a);if(!(c>=0))throw new RangeError(`invalid digits: ${a}`);i=c}return e===null&&(r=new xt(i)),o},o.projection(t).digits(i).context(e)}function It(t){return function(e){var i=new Nt;for(var n in t)i[n]=t[n];return i.stream=e,i}}function Nt(){}Nt.prototype={constructor:Nt,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ct(t,e,i){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),je(i,t.stream(lt)),e(lt.result()),n!=null&&t.clipExtent(n),t}function Wn(t,e,i){return Ct(t,function(n){var l=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(l/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),a=+e[0][0]+(l-o*(n[1][0]+n[0][0]))/2,c=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,c])},i)}function Ni(t,e,i){return Wn(t,[[0,0],e],i)}function Ri(t,e,i){return Ct(t,function(n){var l=+e,r=l/(n[1][0]-n[0][0]),o=(l-r*(n[1][0]+n[0][0]))/2,a=-r*n[0][1];t.scale(150*r).translate([o,a])},i)}function Ai(t,e,i){return Ct(t,function(n){var l=+e,r=l/(n[1][1]-n[0][1]),o=-r*n[0][0],a=(l-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,a])},i)}var en=16,Ii=X(30*te);function tn(t,e){return+e?bi(t,e):Ci(t)}function Ci(t){return It({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}function bi(t,e){function i(n,l,r,o,a,c,p,u,f,s,h,g,E,w){var j=p-n,M=u-l,N=j*j+M*M;if(N>4*e&&E--){var S=o+s,A=a+h,k=c+g,b=Ee(S*S+A*A+k*k),R=Ae(k/=b),L=Q(Q(k)-1)<G||Q(r-f)<G?(r+f)/2:Re(A,S),I=t(L,R),y=I[0],W=I[1],C=y-n,O=W-l,v=M*C-j*O;(v*v/N>e||Q((j*C+M*O)/N-.5)>.3||o*s+a*h+c*g<Ii)&&(i(n,l,r,o,a,c,y,W,L,S/=b,A/=b,k,E,w),w.point(y,W),i(y,W,L,S,A,k,p,u,f,s,h,g,E,w))}}return function(n){var l,r,o,a,c,p,u,f,s,h,g,E,w={point:j,lineStart:M,lineEnd:S,polygonStart:function(){n.polygonStart(),w.lineStart=A},polygonEnd:function(){n.polygonEnd(),w.lineStart=M}};function j(R,L){R=t(R,L),n.point(R[0],R[1])}function M(){f=NaN,w.point=N,n.lineStart()}function N(R,L){var I=Ie([R,L]),y=t(R,L);i(f,s,u,h,g,E,f=y[0],s=y[1],u=R,h=I[0],g=I[1],E=I[2],en,n),n.point(f,s)}function S(){w.point=j,n.lineEnd()}function A(){M(),w.point=k,w.lineEnd=b}function k(R,L){N(l=R,L),r=f,o=s,a=h,c=g,p=E,w.point=N}function b(){i(f,s,u,h,g,E,r,o,l,a,c,p,en,n),w.lineEnd=S,S()}return w}}var zi=It({point:function(t,e){this.stream.point(t*te,e*te)}});function Li(t){return It({point:function(e,i){var n=t(e,i);return this.stream.point(n[0],n[1])}})}function Di(t,e,i,n,l){function r(o,a){return o*=n,a*=l,[e+t*o,i-t*a]}return r.invert=function(o,a){return[(o-e)/t*n,(i-a)/t*l]},r}function nn(t,e,i,n,l,r){if(!r)return Di(t,e,i,n,l);var o=X(r),a=Z(r),c=o*t,p=a*t,u=o/t,f=a/t,s=(a*i-o*e)/t,h=(a*e+o*i)/t;function g(E,w){return E*=n,w*=l,[c*E-p*w+e,i-p*E-c*w]}return g.invert=function(E,w){return[n*(u*E-f*w+s),l*(h-f*E-u*w)]},g}function Ti(t){return qi(function(){return t})()}function qi(t){var e,i=150,n=480,l=250,r=0,o=0,a=0,c=0,p=0,u,f=0,s=1,h=1,g=null,E=Zt,w=null,j,M,N,S=mt,A=.5,k,b,R,L,I;function y(v){return R(v[0]*te,v[1]*te)}function W(v){return v=R.invert(v[0],v[1]),v&&[v[0]*ge,v[1]*ge]}y.stream=function(v){return L&&I===v?L:L=zi(Li(u)(E(k(S(I=v)))))},y.preclip=function(v){return arguments.length?(E=v,g=void 0,O()):E},y.postclip=function(v){return arguments.length?(S=v,w=j=M=N=null,O()):S},y.clipAngle=function(v){return arguments.length?(E=+v?hi(g=v*te):(g=null,Zt),O()):g*ge},y.clipExtent=function(v){return arguments.length?(S=v==null?(w=j=M=N=null,mt):gi(w=+v[0][0],j=+v[0][1],M=+v[1][0],N=+v[1][1]),O()):w==null?null:[[w,j],[M,N]]},y.scale=function(v){return arguments.length?(i=+v,C()):i},y.translate=function(v){return arguments.length?(n=+v[0],l=+v[1],C()):[n,l]},y.center=function(v){return arguments.length?(r=v[0]%360*te,o=v[1]%360*te,C()):[r*ge,o*ge]},y.rotate=function(v){return arguments.length?(a=v[0]%360*te,c=v[1]%360*te,p=v.length>2?v[2]%360*te:0,C()):[a*ge,c*ge,p*ge]},y.angle=function(v){return arguments.length?(f=v%360*te,C()):f*ge},y.reflectX=function(v){return arguments.length?(s=v?-1:1,C()):s<0},y.reflectY=function(v){return arguments.length?(h=v?-1:1,C()):h<0},y.precision=function(v){return arguments.length?(k=tn(b,A=v*v),O()):Ee(A)},y.fitExtent=function(v,z){return Wn(y,v,z)},y.fitSize=function(v,z){return Ni(y,v,z)},y.fitWidth=function(v,z){return Ri(y,v,z)},y.fitHeight=function(v,z){return Ai(y,v,z)};function C(){var v=nn(i,0,0,s,h,f).apply(null,e(r,o)),z=nn(i,n-v[0],l-v[1],s,h,f);return u=li(a,c,p),b=dt(e,z),R=dt(u,b),k=tn(b,A),O()}function O(){return L=I=null,y}return function(){return e=t.apply(this,arguments),y.invert=e.invert&&W,C()}}function $i(t){return function(e,i){var n=X(e),l=X(i),r=t(n*l);return r===1/0?[2,0]:[r*l*Z(e),r*Z(i)]}}function Oi(t){return function(e,i){var n=Ee(e*e+i*i),l=t(n),r=Z(l),o=X(l);return[Re(e*r,n*o),Ae(n&&i*r/n)]}}var Zn=$i(function(t){return(t=Cn(t))&&t/Z(t)});Zn.invert=Oi(function(t){return t});function Bi(){return Ti(Zn).scale(79.4188).clipAngle(180-.001)}function Fi(t){var E,w;let e,i,n=`<p class="svelte-qr3jjm">An interactive visualization of all the space debris that reenters
            the atmosphere in the South Pacific Ocean. From 1960 until today.</p>`,l,r,o,a,c=((E=t[0])==null?void 0:E.name)+"",p,u,f,s,h=((w=t[0])==null?void 0:w.year)+"",g;return{c(){e=K("div"),i=K("div"),i.innerHTML=n,l=de(),r=K("div"),o=K("span"),a=le("Satellite: "),p=le(c),u=de(),f=K("span"),s=le("Year: "),g=le(h),this.h()},l(j){e=x(j,"DIV",{class:!0});var M=q(e);i=x(M,"DIV",{class:!0,"data-svelte-h":!0}),Rt(i)!=="svelte-9fj3n4"&&(i.innerHTML=n),l=ve(M),r=x(M,"DIV",{class:!0});var N=q(r);o=x(N,"SPAN",{class:!0});var S=q(o);a=re(S,"Satellite: "),p=re(S,c),S.forEach(P),u=ve(N),f=x(N,"SPAN",{class:!0});var A=q(f);s=re(A,"Year: "),g=re(A,h),A.forEach(P),N.forEach(P),M.forEach(P),this.h()},h(){d(i,"class","description svelte-qr3jjm"),d(o,"class","svelte-qr3jjm"),d(f,"class","svelte-qr3jjm"),d(r,"class","satellite-info svelte-qr3jjm"),d(e,"class","top-bar svelte-qr3jjm")},m(j,M){H(j,e,M),D(e,i),D(e,l),D(e,r),D(r,o),D(o,a),D(o,p),D(r,u),D(r,f),D(f,s),D(f,g)},p(j,[M]){var N,S;M&1&&c!==(c=((N=j[0])==null?void 0:N.name)+"")&&ye(p,c),M&1&&h!==(h=((S=j[0])==null?void 0:S.year)+"")&&ye(g,h)},i:he,o:he,d(j){j&&P(e)}}}function Hi(t,e,i){let{currentPoint:n}=e;return t.$$set=l=>{"currentPoint"in l&&i(0,n=l.currentPoint)},[n]}class Ui extends ze{constructor(e){super(),Le(this,e,Hi,Fi,be,{currentPoint:0})}}function Vi(t){let e,i,n,l,r,o;return{c(){e=K("div"),i=K("div"),n=de(),l=K("div"),this.h()},l(a){e=x(a,"DIV",{class:!0});var c=q(e);i=x(c,"DIV",{class:!0,style:!0}),q(i).forEach(P),n=ve(c),l=x(c,"DIV",{class:!0,style:!0}),q(l).forEach(P),c.forEach(P),this.h()},h(){d(i,"class","progress svelte-1aifhpe"),We(i,"width",(t[0]+1)/t[1].length*100+"%"),d(l,"class","draggable svelte-1aifhpe"),We(l,"left",(t[0]+1)/t[1].length*100+"%"),d(e,"class","progress-bar svelte-1aifhpe")},m(a,c){H(a,e,c),D(e,i),D(e,n),D(e,l),r||(o=At(e,"mousedown",t[2]),r=!0)},p(a,[c]){c&3&&We(i,"width",(a[0]+1)/a[1].length*100+"%"),c&3&&We(l,"left",(a[0]+1)/a[1].length*100+"%")},i:he,o:he,d(a){a&&P(e),r=!1,o()}}}function Gi(t,e,i){const n=jn();let{index:l}=e,{points:r}=e;function o(a){const c=a.currentTarget.getBoundingClientRect();let p=a.clientX-c.left;const u=c.width;p<0?p=0:p>u&&(p=u);const f=p/u*100,s=Math.floor(f/100*r.length);n("updateIndex",s)}return t.$$set=a=>{"index"in a&&i(0,l=a.index),"points"in a&&i(1,r=a.points)},[l,r,o]}class Wi extends ze{constructor(e){super(),Le(this,e,Gi,Vi,be,{index:0,points:1})}}function Zi(t){let e,i=`<h2 class="svelte-ktp9qj">Colophon</h2> <p class="svelte-ktp9qj">Since space exploration began in the 1950s, the various technologies
        used for launching and carrying out missions have left their mark,
        gradually creating vast fields and layers of debris both in orbit and in
        the Earth&#39;s marine environment.</p> <p class="svelte-ktp9qj">While space debris is mainly associated with the countless pieces
        scattered around the Earth, its re-entry into the atmosphere and its
        possible re-entry into the sometimes deliberately controlled marine
        environment often goes unnoticed. Media portraits deal with the
        phenomenon of falling debris mainly in the context of the mysterious <em>Point Nemo</em>, also known as the <em>spaceship graveyard</em>. However, the romantic
        and antropomorphic concept of technology finding its final resting place
        is misleading and ignores the reality of a chaotic waste dump 4 embedded
        in a complex legal dilemma around environmental damage.</p> <h2 class="svelte-ktp9qj">Map</h2> <p class="svelte-ktp9qj">A timeline visualising all the artificial space objects that fell within
        the South Pacific Ocean Uninhabited Area (SPOUA) from 1959 until now -
        reflecting on the past, present and future presence of space objects in
        marine environments.</p> <p class="svelte-ktp9qj">By geolocating their predicted reentry, the resulting coordinates are
        juxtaposed with the legal limits of coastal states‘ sovereign rights,
        spanning from Exclusive Economic Zones to Navigational Areas.</p> <p class="svelte-ktp9qj">While the first shows the conflicting intersection with the UN Law of
        the Sea and a possible breach thereof, the latter emphasises the
        constant risk of impact that re-entering spacecraft pose to shipping
        routes within the South Pacific Ocean.</p> <h2 class="svelte-ktp9qj">Data</h2> <ol class="svelte-ktp9qj"><li>ESA (European Space Agency)</li> <li>GEBCO (General bathymetric chart of the oceans)</li> <li>Marineregions.org</li> <li>NASA ODPO (Orbital Debris Programme Office)</li> <li>NASA Distance to the Nearest Coast</li> <li>NOAA (National Oceanic and Atmospheric Administration)</li> <li>NORAD (National Oceanic and Atmospheric Administration)</li> <li>CelesTrak</li> <li>USSTRATCOM (United States Strategic Command)</li></ol>`;return{c(){e=K("article"),e.innerHTML=i,this.h()},l(n){e=x(n,"ARTICLE",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-1bcz6ln"&&(e.innerHTML=i),this.h()},h(){d(e,"class","svelte-ktp9qj")},m(n,l){H(n,e,l)},p:he,i:he,o:he,d(n){n&&P(e)}}}class Xi extends ze{constructor(e){super(),Le(this,e,null,Zi,be,{})}}function ln(t,e,i){const n=t.slice();return n[9]=e[i],n[11]=i,n}function rn(t){let e,i=t[9].name+"",n,l,r=t[9].year+"",o,a,c,p;function u(){return t[7](t[11])}return{c(){e=K("p"),n=le(i),l=le(", "),o=le(r),a=de(),this.h()},l(f){e=x(f,"P",{class:!0});var s=q(e);n=re(s,i),l=re(s,", "),o=re(s,r),a=ve(s),s.forEach(P),this.h()},h(){d(e,"class","svelte-ry3c62"),st(e,"gray-background",t[11]%2===1),st(e,"highlight",t[0]&&t[0].name===t[9].name&&t[0].year==t[9].year)},m(f,s){H(f,e,s),D(e,n),D(e,l),D(e,o),D(e,a),c||(p=At(e,"click",u),c=!0)},p(f,s){t=f,s&4&&i!==(i=t[9].name+"")&&ye(n,i),s&4&&r!==(r=t[9].year+"")&&ye(o,r),s&5&&st(e,"highlight",t[0]&&t[0].name===t[9].name&&t[0].year==t[9].year)},d(f){f&&P(e),c=!1,p()}}}function Yi(t){let e,i,n,l,r,o,a,c,p,u=ee(t[2]),f=[];for(let s=0;s<u.length;s+=1)f[s]=rn(ln(t,u,s));return o=new Xi({}),{c(){e=K("article"),i=K("input"),n=de(),l=K("div");for(let s=0;s<f.length;s+=1)f[s].c();r=de(),Be(o.$$.fragment),this.h()},l(s){e=x(s,"ARTICLE",{class:!0});var h=q(e);i=x(h,"INPUT",{type:!0,placeholder:!0,class:!0}),n=ve(h),l=x(h,"DIV",{class:!0});var g=q(l);for(let E=0;E<f.length;E+=1)f[E].l(g);g.forEach(P),h.forEach(P),r=ve(s),Fe(o.$$.fragment,s),this.h()},h(){d(i,"type","text"),d(i,"placeholder","Search..."),d(i,"class","svelte-ry3c62"),d(l,"class","svelte-ry3c62"),d(e,"class","svelte-ry3c62")},m(s,h){H(s,e,h),D(e,i),Tt(i,t[1]),D(e,n),D(e,l);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(l,null);H(s,r,h),He(o,s,h),a=!0,c||(p=At(i,"input",t[6]),c=!0)},p(s,[h]){if(h&2&&i.value!==s[1]&&Tt(i,s[1]),h&13){u=ee(s[2]);let g;for(g=0;g<u.length;g+=1){const E=ln(s,u,g);f[g]?f[g].p(E,h):(f[g]=rn(E),f[g].c(),f[g].m(l,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=u.length}},i(s){a||(we(o.$$.fragment,s),a=!0)},o(s){Pe(o.$$.fragment,s),a=!1},d(s){s&&(P(e),P(r)),me(f,s),Ue(o,s),c=!1,p()}}}function Qi(t,e,i){let n,l,{points:r}=e,{highlighted:o}=e;const a=jn();let c="";function p(s){a("updateId",n[s])}function u(){c=this.value,i(1,c)}const f=s=>p(s);return t.$$set=s=>{"points"in s&&i(4,r=s.points),"highlighted"in s&&i(0,o=s.highlighted)},t.$$.update=()=>{t.$$.dirty&16&&i(5,l=r.reduce((s,h)=>s.find(E=>E.name===h.name&&E.year===h.year)?s:s.concat([h]),[])),t.$$.dirty&34&&i(2,n=l.filter(s=>s.name.toLowerCase().includes(c.toLowerCase())))},[o,c,n,p,r,l,u,f]}class Ji extends ze{constructor(e){super(),Le(this,e,Qi,Yi,be,{points:4,highlighted:0})}}function on(t,e,i){const n=t.slice();return n[19]=e[i].cx,n[20]=e[i].cy,n[21]=e[i].name,n}function an(t,e,i){const n=t.slice();return n[24]=e[i],n[26]=i,n}function sn(t,e,i){const n=t.slice();return n[19]=e[i].cx,n[20]=e[i].cy,n[21]=e[i].name,n[27]=e[i].r,n[26]=i,n}function un(t,e,i){const n=t.slice();return n[29]=e[i],n[26]=i,n}function fn(t,e,i){const n=t.slice();return n[24]=e[i],n[26]=i,n}function cn(t,e,i){const n=t.slice();return n[24]=e[i],n[26]=i,n}function hn(t,e,i){const n=t.slice();return n[24]=e[i],n[26]=i,n}function pn(t){let e,i,n,l,r,o,a,c,p,u,f,s,h,g,E,w,j,M,N,S=t[0].length>0&&gn(t),A=ee(t[5]),k=[];for(let m=0;m<A.length;m+=1)k[m]=_n(hn(t,A,m));let b=ee(t[4]),R=[];for(let m=0;m<b.length;m+=1)R[m]=dn(cn(t,b,m));let L=ee(t[6]),I=[];for(let m=0;m<L.length;m+=1)I[m]=vn(fn(t,L,m));let y=t[0].length>0&&mn(t),W=ee(t[0]),C=[];for(let m=0;m<W.length;m+=1)C[m]=wn(sn(t,W,m));let O=ee(t[7]),v=[];for(let m=0;m<O.length;m+=1)v[m]=Pn(an(t,O,m));let z=ee(t[3]),$=[];for(let m=0;m<z.length;m+=1)$[m]=Mn(on(t,z,m));return{c(){e=U("svg"),i=U("defs"),n=U("path"),r=U("clipPath"),o=U("use"),S&&S.c(),a=U("g"),c=U("circle"),s=U("g");for(let m=0;m<k.length;m+=1)k[m].c();h=U("g");for(let m=0;m<R.length;m+=1)R[m].c();g=U("g");for(let m=0;m<I.length;m+=1)I[m].c();E=U("g"),y&&y.c(),w=U("g");for(let m=0;m<C.length;m+=1)C[m].c();j=U("g");for(let m=0;m<v.length;m+=1)v[m].c();M=U("g");for(let m=0;m<$.length;m+=1)$[m].c();this.h()},l(m){e=V(m,"svg",{viewBox:!0});var T=q(e);i=V(T,"defs",{});var _=q(i);n=V(_,"path",{id:!0,d:!0}),q(n).forEach(P),r=V(_,"clipPath",{class:!0,id:!0});var F=q(r);o=V(F,"use",{href:!0}),q(o).forEach(P),F.forEach(P),_.forEach(P),S&&S.l(T),a=V(T,"g",{"clip-path":!0,class:!0});var J=q(a);c=V(J,"circle",{cx:!0,cy:!0,r:!0,class:!0}),q(c).forEach(P),s=V(J,"g",{class:!0,fill:!0,stroke:!0});var ne=q(s);for(let Y=0;Y<k.length;Y+=1)k[Y].l(ne);ne.forEach(P),h=V(J,"g",{class:!0,stroke:!0});var Se=q(h);for(let Y=0;Y<R.length;Y+=1)R[Y].l(Se);Se.forEach(P),g=V(J,"g",{class:!0,fill:!0,stroke:!0});var pe=q(g);for(let Y=0;Y<I.length;Y+=1)I[Y].l(pe);pe.forEach(P),E=V(J,"g",{class:!0});var bt=q(E);y&&y.l(bt),bt.forEach(P),w=V(J,"g",{class:!0});var zt=q(w);for(let Y=0;Y<C.length;Y+=1)C[Y].l(zt);zt.forEach(P),j=V(J,"g",{class:!0});var Lt=q(j);for(let Y=0;Y<v.length;Y+=1)v[Y].l(Lt);Lt.forEach(P),M=V(J,"g",{class:!0});var Dt=q(M);for(let Y=0;Y<$.length;Y+=1)$[Y].l(Dt);Dt.forEach(P),J.forEach(P),T.forEach(P),this.h()},h(){d(n,"id","sphere"),d(n,"d",l=t[11]({type:"Sphere"})),d(o,"href","#sphere"),d(r,"class","clip"),d(r,"id","clip"),d(c,"cx",p=t[1]/2),d(c,"cy",u=t[2]/2),d(c,"r",f=t[1]*2),d(c,"class","bg svelte-1yjfvy6"),d(s,"class","marine svelte-1yjfvy6"),d(s,"fill","#e9f4ff"),d(s,"stroke","blue"),d(h,"class","world svelte-1yjfvy6"),d(h,"stroke","none"),d(g,"class","contour svelte-1yjfvy6"),d(g,"fill","none"),d(g,"stroke","none"),d(E,"class","svelte-1yjfvy6"),d(w,"class","svelte-1yjfvy6"),d(j,"class","spoua svelte-1yjfvy6"),d(M,"class","nemo svelte-1yjfvy6"),d(a,"clip-path","url(#clip)"),d(a,"class","svelte-1yjfvy6"),d(e,"viewBox",N="0 0 "+t[1]+" "+t[2])},m(m,T){H(m,e,T),D(e,i),D(i,n),D(i,r),D(r,o),S&&S.m(e,null),D(e,a),D(a,c),D(a,s);for(let _=0;_<k.length;_+=1)k[_]&&k[_].m(s,null);D(a,h);for(let _=0;_<R.length;_+=1)R[_]&&R[_].m(h,null);D(a,g);for(let _=0;_<I.length;_+=1)I[_]&&I[_].m(g,null);D(a,E),y&&y.m(E,null),D(a,w);for(let _=0;_<C.length;_+=1)C[_]&&C[_].m(w,null);D(a,j);for(let _=0;_<v.length;_+=1)v[_]&&v[_].m(j,null);D(a,M);for(let _=0;_<$.length;_+=1)$[_]&&$[_].m(M,null)},p(m,T){if(T[0]&2048&&l!==(l=m[11]({type:"Sphere"}))&&d(n,"d",l),m[0].length>0?S?S.p(m,T):(S=gn(m),S.c(),S.m(e,a)):S&&(S.d(1),S=null),T[0]&2&&p!==(p=m[1]/2)&&d(c,"cx",p),T[0]&4&&u!==(u=m[2]/2)&&d(c,"cy",u),T[0]&2&&f!==(f=m[1]*2)&&d(c,"r",f),T[0]&2080){A=ee(m[5]);let _;for(_=0;_<A.length;_+=1){const F=hn(m,A,_);k[_]?k[_].p(F,T):(k[_]=_n(F),k[_].c(),k[_].m(s,null))}for(;_<k.length;_+=1)k[_].d(1);k.length=A.length}if(T[0]&2064){b=ee(m[4]);let _;for(_=0;_<b.length;_+=1){const F=cn(m,b,_);R[_]?R[_].p(F,T):(R[_]=dn(F),R[_].c(),R[_].m(h,null))}for(;_<R.length;_+=1)R[_].d(1);R.length=b.length}if(T[0]&2112){L=ee(m[6]);let _;for(_=0;_<L.length;_+=1){const F=fn(m,L,_);I[_]?I[_].p(F,T):(I[_]=vn(F),I[_].c(),I[_].m(g,null))}for(;_<I.length;_+=1)I[_].d(1);I.length=L.length}if(m[0].length>0?y?y.p(m,T):(y=mn(m),y.c(),y.m(E,null)):y&&(y.d(1),y=null),T[0]&1){W=ee(m[0]);let _;for(_=0;_<W.length;_+=1){const F=sn(m,W,_);C[_]?C[_].p(F,T):(C[_]=wn(F),C[_].c(),C[_].m(w,null))}for(;_<C.length;_+=1)C[_].d(1);C.length=W.length}if(T[0]&2176){O=ee(m[7]);let _;for(_=0;_<O.length;_+=1){const F=an(m,O,_);v[_]?v[_].p(F,T):(v[_]=Pn(F),v[_].c(),v[_].m(j,null))}for(;_<v.length;_+=1)v[_].d(1);v.length=O.length}if(T[0]&8){z=ee(m[3]);let _;for(_=0;_<z.length;_+=1){const F=on(m,z,_);$[_]?$[_].p(F,T):($[_]=Mn(F),$[_].c(),$[_].m(M,null))}for(;_<$.length;_+=1)$[_].d(1);$.length=z.length}T[0]&6&&N!==(N="0 0 "+m[1]+" "+m[2])&&d(e,"viewBox",N)},d(m){m&&P(e),S&&S.d(),me(k,m),me(R,m),me(I,m),y&&y.d(),me(C,m),me(v,m),me($,m)}}}function gn(t){var c,p;let e,i,n=((c=t[0][t[0].length-1])==null?void 0:c.name)+"",l,r,o=((p=t[0][t[0].length-1])==null?void 0:p.year)+"",a;return{c(){e=U("text"),i=U("textPath"),l=le(n),r=le(" — "),a=le(o),this.h()},l(u){e=V(u,"text",{"text-anchor":!0,dy:!0,"font-size":!0,fill:!0});var f=q(e);i=V(f,"textPath",{href:!0,startOffset:!0});var s=q(i);l=re(s,n),r=re(s," — "),a=re(s,o),s.forEach(P),f.forEach(P),this.h()},h(){d(i,"href","#sphere"),d(i,"startOffset","15%"),d(e,"text-anchor","left"),d(e,"dy","-5"),d(e,"font-size","36"),d(e,"fill","blue")},m(u,f){H(u,e,f),D(e,i),D(i,l),D(i,r),D(i,a)},p(u,f){var s,h;f[0]&1&&n!==(n=((s=u[0][u[0].length-1])==null?void 0:s.name)+"")&&ye(l,n),f[0]&1&&o!==(o=((h=u[0][u[0].length-1])==null?void 0:h.year)+"")&&ye(a,o)},d(u){u&&P(e)}}}function _n(t){let e,i;return{c(){e=U("path"),this.h()},l(n){e=V(n,"path",{d:!0,class:!0}),q(e).forEach(P),this.h()},h(){d(e,"d",i=t[11](t[24])),d(e,"class","marineBorders")},m(n,l){H(n,e,l)},p(n,l){l[0]&2080&&i!==(i=n[11](n[24]))&&d(e,"d",i)},d(n){n&&P(e)}}}function dn(t){let e,i;return{c(){e=U("path"),this.h()},l(n){e=V(n,"path",{d:!0,class:!0}),q(e).forEach(P),this.h()},h(){d(e,"d",i=t[11](t[24])),d(e,"class","country")},m(n,l){H(n,e,l)},p(n,l){l[0]&2064&&i!==(i=n[11](n[24]))&&d(e,"d",i)},d(n){n&&P(e)}}}function vn(t){let e,i;return{c(){e=U("path"),this.h()},l(n){e=V(n,"path",{d:!0,class:!0}),q(e).forEach(P),this.h()},h(){d(e,"d",i=t[11](t[24])),d(e,"class","contour svelte-1yjfvy6")},m(n,l){H(n,e,l)},p(n,l){l[0]&2112&&i!==(i=n[11](n[24]))&&d(e,"d",i)},d(n){n&&P(e)}}}function mn(t){let e,i=ee(t[0]),n=[];for(let l=0;l<i.length;l+=1)n[l]=En(un(t,i,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=oe()},l(l){for(let r=0;r<n.length;r+=1)n[r].l(l);e=oe()},m(l,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(l,r);H(l,e,r)},p(l,r){if(r[0]&1){i=ee(l[0]);let o;for(o=0;o<i.length;o+=1){const a=un(l,i,o);n[o]?n[o].p(a,r):(n[o]=En(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=i.length}},d(l){l&&P(e),me(n,l)}}}function yn(t){let e,i,n,l,r,o;return{c(){e=U("line"),this.h()},l(a){e=V(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),q(e).forEach(P),this.h()},h(){d(e,"x1",i=t[0][t[26]-1].cx),d(e,"y1",n=t[0][t[26]-1].cy),d(e,"x2",l=t[29].cx),d(e,"y2",r=t[29].cy),d(e,"class",o=xe(t[26]===t[0].length-1?"line highlite":"line old")+" svelte-1yjfvy6")},m(a,c){H(a,e,c)},p(a,c){c[0]&1&&i!==(i=a[0][a[26]-1].cx)&&d(e,"x1",i),c[0]&1&&n!==(n=a[0][a[26]-1].cy)&&d(e,"y1",n),c[0]&1&&l!==(l=a[29].cx)&&d(e,"x2",l),c[0]&1&&r!==(r=a[29].cy)&&d(e,"y2",r),c[0]&1&&o!==(o=xe(a[26]===a[0].length-1?"line highlite":"line old")+" svelte-1yjfvy6")&&d(e,"class",o)},d(a){a&&P(e)}}}function En(t){let e,i=t[26]>0&&t[0][t[26]].name===t[0][t[26]-1].name&&yn(t);return{c(){i&&i.c(),e=oe()},l(n){i&&i.l(n),e=oe()},m(n,l){i&&i.m(n,l),H(n,e,l)},p(n,l){n[26]>0&&n[0][n[26]].name===n[0][n[26]-1].name?i?i.p(n,l):(i=yn(n),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(n){n&&P(e),i&&i.d(n)}}}function Ki(t){let e,i,n,l;return{c(){e=U("circle"),this.h()},l(r){e=V(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),q(e).forEach(P),this.h()},h(){d(e,"cx",i=t[19]),d(e,"cy",n=t[20]),d(e,"r",l=t[27]),d(e,"fill","blue"),d(e,"class","highlite svelte-1yjfvy6")},m(r,o){H(r,e,o)},p(r,o){o[0]&1&&i!==(i=r[19])&&d(e,"cx",i),o[0]&1&&n!==(n=r[20])&&d(e,"cy",n),o[0]&1&&l!==(l=r[27])&&d(e,"r",l)},d(r){r&&P(e)}}}function xi(t){let e,i,n,l,r;return{c(){e=U("circle"),this.h()},l(o){e=V(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),q(e).forEach(P),this.h()},h(){d(e,"cx",i=t[19]),d(e,"cy",n=t[20]),d(e,"r",l=t[27]),d(e,"fill","blue"),d(e,"class",r=xe(t[26]===t[0].length-1?"dot highlite":"dot old")+" svelte-1yjfvy6")},m(o,a){H(o,e,a)},p(o,a){a[0]&1&&i!==(i=o[19])&&d(e,"cx",i),a[0]&1&&n!==(n=o[20])&&d(e,"cy",n),a[0]&1&&l!==(l=o[27])&&d(e,"r",l),a[0]&1&&r!==(r=xe(o[26]===o[0].length-1?"dot highlite":"dot old")+" svelte-1yjfvy6")&&d(e,"class",r)},d(o){o&&P(e)}}}function Sn(t){let e,i=t[21]+"",n,l,r;return{c(){e=U("text"),n=le(i),this.h()},l(o){e=V(o,"text",{x:!0,y:!0,class:!0,"font-size":!0});var a=q(e);n=re(a,i),a.forEach(P),this.h()},h(){d(e,"x",l=t[27]+t[19]+8),d(e,"y",r=t[20]+2),d(e,"class","satellite-name svelte-1yjfvy6"),d(e,"font-size","8")},m(o,a){H(o,e,a),D(e,n)},p(o,a){a[0]&1&&i!==(i=o[21]+"")&&ye(n,i),a[0]&1&&l!==(l=o[27]+o[19]+8)&&d(e,"x",l),a[0]&1&&r!==(r=o[20]+2)&&d(e,"y",r)},d(o){o&&P(e)}}}function wn(t){let e,i;function n(a,c){if(a[26]>0&&a[0][a[26]].name===a[0][a[26]-1].name)return xi;if(a[26]===a[0].length-1)return Ki}let l=n(t),r=l&&l(t),o=t[26]===t[0].length-1&&Sn(t);return{c(){r&&r.c(),e=oe(),o&&o.c(),i=oe()},l(a){r&&r.l(a),e=oe(),o&&o.l(a),i=oe()},m(a,c){r&&r.m(a,c),H(a,e,c),o&&o.m(a,c),H(a,i,c)},p(a,c){l===(l=n(a))&&r?r.p(a,c):(r&&r.d(1),r=l&&l(a),r&&(r.c(),r.m(e.parentNode,e))),a[26]===a[0].length-1?o?o.p(a,c):(o=Sn(a),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(a){a&&(P(e),P(i)),r&&r.d(a),o&&o.d(a)}}}function Pn(t){let e,i;return{c(){e=U("path"),this.h()},l(n){e=V(n,"path",{d:!0,class:!0}),q(e).forEach(P),this.h()},h(){d(e,"d",i=t[11](t[24])),d(e,"class","spoua svelte-1yjfvy6")},m(n,l){H(n,e,l)},p(n,l){l[0]&2176&&i!==(i=n[11](n[24]))&&d(e,"d",i)},d(n){n&&P(e)}}}function kn(t){let e,i,n,l,r=t[21]+"",o,a,c;return{c(){e=U("circle"),l=U("text"),o=le(r),this.h()},l(p){e=V(p,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),q(e).forEach(P),l=V(p,"text",{x:!0,y:!0,"font-size":!0,class:!0});var u=q(l);o=re(u,r),u.forEach(P),this.h()},h(){d(e,"cx",i=t[19]),d(e,"cy",n=t[20]),d(e,"r",1),d(e,"fill","black"),d(e,"class","svelte-1yjfvy6"),d(l,"x",a=t[19]+4),d(l,"y",c=t[20]+2),d(l,"font-size","8"),d(l,"class","svelte-1yjfvy6")},m(p,u){H(p,e,u),H(p,l,u),D(l,o)},p(p,u){u[0]&8&&i!==(i=p[19])&&d(e,"cx",i),u[0]&8&&n!==(n=p[20])&&d(e,"cy",n),u[0]&8&&r!==(r=p[21]+"")&&ye(o,r),u[0]&8&&a!==(a=p[19]+4)&&d(l,"x",a),u[0]&8&&c!==(c=p[20]+2)&&d(l,"y",c)},d(p){p&&(P(e),P(l))}}}function Mn(t){let e,i=t[19]&&t[20]&&kn(t);return{c(){i&&i.c(),e=oe()},l(n){i&&i.l(n),e=oe()},m(n,l){i&&i.m(n,l),H(n,e,l)},p(n,l){n[19]&&n[20]?i?i.p(n,l):(i=kn(n),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(n){n&&P(e),i&&i.d(n)}}}function el(t){let e,i,n,l,r,o,a,c,p,u;e=new Ui({props:{currentPoint:t[9]}}),n=new Wi({props:{index:t[10],points:t[8]}}),n.$on("updateIndex",t[13]);let f=t[0].length>0&&pn(t);return p=new Ji({props:{points:t[8],highlighted:t[12]}}),p.$on("updateId",t[14]),{c(){Be(e.$$.fragment),i=de(),Be(n.$$.fragment),l=de(),r=K("article"),o=K("div"),f&&f.c(),c=de(),Be(p.$$.fragment),this.h()},l(s){Fe(e.$$.fragment,s),i=ve(s),Fe(n.$$.fragment,s),l=ve(s),r=x(s,"ARTICLE",{class:!0});var h=q(r);o=x(h,"DIV",{class:!0});var g=q(o);f&&f.l(g),g.forEach(P),c=ve(h),Fe(p.$$.fragment,h),h.forEach(P),this.h()},h(){d(o,"class","svelte-1yjfvy6"),Nn(()=>t[16].call(o)),d(r,"class","svelte-1yjfvy6")},m(s,h){He(e,s,h),H(s,i,h),He(n,s,h),H(s,l,h),H(s,r,h),D(r,o),f&&f.m(o,null),a=Rn(o,t[16].bind(o)),D(r,c),He(p,r,null),u=!0},p(s,h){const g={};h[0]&512&&(g.currentPoint=s[9]),e.$set(g);const E={};h[0]&1024&&(E.index=s[10]),h[0]&256&&(E.points=s[8]),n.$set(E),s[0].length>0?f?f.p(s,h):(f=pn(s),f.c(),f.m(o,null)):f&&(f.d(1),f=null);const w={};h[0]&256&&(w.points=s[8]),h[0]&4096&&(w.highlighted=s[12]),p.$set(w)},i(s){u||(we(e.$$.fragment,s),we(n.$$.fragment,s),we(p.$$.fragment,s),u=!0)},o(s){Pe(e.$$.fragment,s),Pe(n.$$.fragment,s),Pe(p.$$.fragment,s),u=!1},d(s){s&&(P(i),P(l),P(r)),Ue(e,s),Ue(n,s),f&&f.d(),a(),Ue(p)}}}function tl(t,e,i){let n,l,r,{data:o}=e,a=[{lon:-126.3622344,lat:-72.9741938,name:"Maher Island"},{lon:-109.452777777778,lat:-27.2013888888889,name:"Easter Island"},{lon:-124.787888,lat:-24.6807263,name:"Ducie Island"},{lon:-123.3933333,lat:-48.8766667,name:"Point Nemo"}],c=[],p=[],u=[],f=[],s=[],h=[],g=null,E=0,w,j;An(async()=>{const k=Bi().rotate([123,48]).scale(260).precision(1).clipAngle(100).translate([l/2,r/2]);i(11,j=ji().projection(k));try{const b=await fetch("world.json").then(y=>y.json()),R=await fetch("EEZ_land_v2_201410.json").then(y=>y.json()),L=await fetch("contour.json").then(y=>y.json()),I=await fetch("spoua.json").then(y=>y.json());i(4,c=Ze(b,b.objects.land).features),i(5,p=Ze(R,R.objects.EEZ_land_v2_201410).features),i(6,u=Ze(L,L.objects.collection).features),i(7,f=Ze(I,I.objects.spoua).features),i(8,s=o.map(y=>{const[W,C]=k([y.lon,y.lat]);return{cx:W,cy:C,name:y.satellite_name,year:y.satellite_decay,r:y.rcs}}).filter(y=>!isNaN(y.cx)&&!isNaN(y.cy))),i(3,a=a.map(y=>{const[W,C]=k([y.lon,y.lat]);return{cx:W,cy:C,name:y.name}})),M()}catch(b){console.error("Error loading or processing data:",b)}});const M=()=>{w&&clearInterval(w),i(10,E=0),i(0,h=[]),w=setInterval(()=>{E<s.length?(i(0,h=[...h,s[E]]),i(9,g=s[E]),i(10,E+=1)):clearInterval(w)},500)},N=k=>{i(10,E=k.detail),i(0,h=s.slice(0,E+1)),i(9,g=h[h.length-1]),i(12,n=s[E+1])},S=k=>{i(10,E=s.findIndex(b=>b.name==k.detail.name&&b.year==k.detail.year)),i(0,h=s.slice(0,E+1))};function A(){l=this.clientWidth,r=this.clientHeight,i(1,l),i(2,r)}return t.$$set=k=>{"data"in k&&i(15,o=k.data)},t.$$.update=()=>{t.$$.dirty[0]&1&&i(12,n=h.slice(-1)[0])},[h,l,r,a,c,p,u,f,s,g,E,j,n,N,S,o,A]}let nl=class extends ze{constructor(e){super(),Le(this,e,tl,el,be,{data:15},null,[-1,-1])}};function il(t){let e,i,n,l;return i=new nl({props:{data:t[0]}}),{c(){e=K("article"),Be(i.$$.fragment),this.h()},l(r){e=x(r,"ARTICLE",{class:!0});var o=q(e);Fe(i.$$.fragment,o),o.forEach(P),this.h()},h(){d(e,"class","svelte-1c9y9kv"),Nn(()=>t[3].call(e))},m(r,o){H(r,e,o),He(i,e,null),n=Rn(e,t[3].bind(e)),l=!0},p(r,o){const a={};o&1&&(a.data=r[0]),i.$set(a)},i(r){l||(we(i.$$.fragment,r),l=!0)},o(r){Pe(i.$$.fragment,r),l=!1},d(r){r&&P(e),Ue(i),n()}}}function ll(t){let e,i="Loading...";return{c(){e=K("p"),e.textContent=i,this.h()},l(n){e=x(n,"P",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-qdsr2u"&&(e.textContent=i),this.h()},h(){d(e,"class","svelte-1c9y9kv")},m(n,l){H(n,e,l)},p:he,i:he,o:he,d(n){n&&P(e)}}}function rl(t){let e,i,n,l;const r=[ll,il],o=[];function a(c,p){return c[0].length===0?0:1}return e=a(t),i=o[e]=r[e](t),{c(){i.c(),n=oe()},l(c){i.l(c),n=oe()},m(c,p){o[e].m(c,p),H(c,n,p),l=!0},p(c,[p]){let u=e;e=a(c),e===u?o[e].p(c,p):(Yn(),Pe(o[u],1,1,()=>{o[u]=null}),Xn(),i=o[e],i?i.p(c,p):(i=o[e]=r[e](c),i.c()),we(i,1),i.m(n.parentNode,n))},i(c){l||(we(i),l=!0)},o(c){Pe(i),l=!1},d(c){c&&P(n),o[e].d(c)}}}function ol(t,e,i){let n=[],l,r;An(async()=>{const c=await(await fetch("data.json")).json(),p=Math.min(...c.map(f=>f.rcs)),u=Math.max(...c.map(f=>f.rcs));i(0,n=c.map(f=>({...f,rcs:1+(f.rcs-p)*9/(u-p)})))});function o(){l=this.clientWidth,r=this.clientHeight,i(1,l),i(2,r)}return[n,l,r,o]}class fl extends ze{constructor(e){super(),Le(this,e,ol,rl,be,{})}}export{fl as component};
