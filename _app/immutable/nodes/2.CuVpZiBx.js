import{s as ze,e as J,b as de,t as le,d as K,f as $,O as An,j as ve,h as re,i as P,v as d,k as q,l as T,m as Ee,n as he,w as We,P as In,Q as Nt,R as On,S as me,T as un,F as bt,U as Rt,r as At,V as U,W as V,p as oe,X as xe}from"../chunks/scheduler.BOPF9aT2.js";import{S as Le,i as Te,b as Fe,d as He,m as qe,t as we,a as Pe,e as Ue,c as Xt,g as Yt}from"../chunks/index.-bqUeIaq.js";function ee(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Qt(n){return n}function Jt(n){if(n==null)return Qt;var e,i,t=n.scale[0],l=n.scale[1],a=n.translate[0],o=n.translate[1];return function(r,h){h||(e=i=0);var g=2,u=r.length,f=new Array(u);for(f[0]=(e+=r[0])*t+a,f[1]=(i+=r[1])*l+o;g<u;)f[g]=r[g],++g;return f}}function Kt(n,e){for(var i,t=n.length,l=t-e;l<--t;)i=n[l],n[l++]=n[t],n[t]=i}function Ze(n,e){return typeof e=="string"&&(e=n.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(i){return jn(n,i)})}:jn(n,e)}function jn(n,e){var i=e.id,t=e.bbox,l=e.properties==null?{}:e.properties,a=xt(n,e);return i==null&&t==null?{type:"Feature",properties:l,geometry:a}:t==null?{type:"Feature",id:i,properties:l,geometry:a}:{type:"Feature",id:i,bbox:t,properties:l,geometry:a}}function xt(n,e){var i=Jt(n.transform),t=n.arcs;function l(u,f){f.length&&f.pop();for(var s=t[u<0?~u:u],c=0,p=s.length;c<p;++c)f.push(i(s[c],c));u<0&&Kt(f,p)}function a(u){return i(u)}function o(u){for(var f=[],s=0,c=u.length;s<c;++s)l(u[s],f);return f.length<2&&f.push(f[0]),f}function r(u){for(var f=o(u);f.length<4;)f.push(f[0]);return f}function h(u){return u.map(r)}function g(u){var f=u.type,s;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(g)};case"Point":s=a(u.coordinates);break;case"MultiPoint":s=u.coordinates.map(a);break;case"LineString":s=o(u.arcs);break;case"MultiLineString":s=u.arcs.map(o);break;case"Polygon":s=h(u.arcs);break;case"MultiPolygon":s=u.arcs.map(h);break;default:return null}return{type:f,coordinates:s}}return g(e)}class ke{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let t=0;for(let l=0;l<this._n&&l<32;l++){const a=i[l],o=e+a,r=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);r&&(i[t++]=r),e=o}return i[t]=e,this._n=t+1,this}valueOf(){const e=this._partials;let i=this._n,t,l,a,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,l=e[--i],o=t+l,a=l-(o-t),!a););i>0&&(a<0&&e[i-1]<0||a>0&&e[i-1]>0)&&(l=a*2,t=o+l,l==t-o&&(o=t))}return o}}function*ei(n){for(const e of n)yield*e}function It(n){return Array.from(ei(n))}var G=1e-6,ni=1e-12,F=Math.PI,ae=F/2,Bn=F/4,ue=F*2,ge=180/F,ne=F/180,Q=Math.abs,ti=Math.atan,Re=Math.atan2,X=Math.cos,Z=Math.sin,ii=Math.sign||function(n){return n>0?1:n<0?-1:0},ye=Math.sqrt;function Ct(n){return n>1?0:n<-1?F:Math.acos(n)}function Ae(n){return n>1?ae:n<-1?-ae:Math.asin(n)}function se(){}function en(n,e){n&&Hn.hasOwnProperty(n.type)&&Hn[n.type](n,e)}var Fn={Feature:function(n,e){en(n.geometry,e)},FeatureCollection:function(n,e){for(var i=n.features,t=-1,l=i.length;++t<l;)en(i[t].geometry,e)}},Hn={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)n=i[t],e.point(n[0],n[1],n[2])},LineString:function(n,e){gn(n.coordinates,e,0)},MultiLineString:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)gn(i[t],e,0)},Polygon:function(n,e){qn(n.coordinates,e)},MultiPolygon:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)qn(i[t],e)},GeometryCollection:function(n,e){for(var i=n.geometries,t=-1,l=i.length;++t<l;)en(i[t],e)}};function gn(n,e,i){var t=-1,l=n.length-i,a;for(e.lineStart();++t<l;)a=n[t],e.point(a[0],a[1],a[2]);e.lineEnd()}function qn(n,e){var i=-1,t=n.length;for(e.polygonStart();++i<t;)gn(n[i],e,1);e.polygonEnd()}function Ne(n,e){n&&Fn.hasOwnProperty(n.type)?Fn[n.type](n,e):en(n,e)}function _n(n){return[Re(n[1],n[0]),Ae(n[2])]}function Ie(n){var e=n[0],i=n[1],t=X(i);return[t*X(e),t*Z(e),Z(i)]}function Xe(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function nn(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function fn(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function Ye(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function dn(n){var e=ye(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function vn(n,e){function i(t,l){return t=n(t,l),e(t[0],t[1])}return n.invert&&e.invert&&(i.invert=function(t,l){return t=e.invert(t,l),t&&n.invert(t[0],t[1])}),i}function mn(n,e){return Q(n)>F&&(n-=Math.round(n/ue)*ue),[n,e]}mn.invert=mn;function li(n,e,i){return(n%=ue)?e||i?vn(Vn(n),Gn(e,i)):Vn(n):e||i?Gn(e,i):mn}function Un(n){return function(e,i){return e+=n,Q(e)>F&&(e-=Math.round(e/ue)*ue),[e,i]}}function Vn(n){var e=Un(n);return e.invert=Un(-n),e}function Gn(n,e){var i=X(n),t=Z(n),l=X(e),a=Z(e);function o(r,h){var g=X(h),u=X(r)*g,f=Z(r)*g,s=Z(h),c=s*i+u*t;return[Re(f*l-c*a,u*i-s*t),Ae(c*l+f*a)]}return o.invert=function(r,h){var g=X(h),u=X(r)*g,f=Z(r)*g,s=Z(h),c=s*l-f*a;return[Re(f*l+s*a,u*i+c*t),Ae(c*i-u*t)]},o}function ri(n,e,i,t,l,a){if(i){var o=X(e),r=Z(e),h=t*i;l==null?(l=e+t*ue,a=e-h/2):(l=Wn(o,l),a=Wn(o,a),(t>0?l<a:l>a)&&(l+=t*ue));for(var g,u=l;t>0?u>a:u<a;u-=h)g=_n([o,-r*X(u),-r*Z(u)]),n.point(g[0],g[1])}}function Wn(n,e){e=Ie(e),e[0]-=n,dn(e);var i=Ct(-e[1]);return((-e[2]<0?-i:i)+ue-G)%ue}function zt(){var n=[],e;return{point:function(i,t,l){e.push([i,t,l])},lineStart:function(){n.push(e=[])},lineEnd:se,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var i=n;return n=[],e=null,i}}}function Ke(n,e){return Q(n[0]-e[0])<G&&Q(n[1]-e[1])<G}function Qe(n,e,i,t){this.x=n,this.z=e,this.o=i,this.e=t,this.v=!1,this.n=this.p=null}function Lt(n,e,i,t,l){var a=[],o=[],r,h;if(n.forEach(function(p){if(!((E=p.length-1)<=0)){var E,S=p[0],N=p[E],M;if(Ke(S,N)){if(!S[2]&&!N[2]){for(l.lineStart(),r=0;r<E;++r)l.point((S=p[r])[0],S[1]);l.lineEnd();return}N[0]+=2*G}a.push(M=new Qe(S,p,null,!0)),o.push(M.o=new Qe(S,null,M,!1)),a.push(M=new Qe(N,p,null,!1)),o.push(M.o=new Qe(N,null,M,!0))}}),!!a.length){for(o.sort(e),Zn(a),Zn(o),r=0,h=o.length;r<h;++r)o[r].e=i=!i;for(var g=a[0],u,f;;){for(var s=g,c=!0;s.v;)if((s=s.n)===g)return;u=s.z,l.lineStart();do{if(s.v=s.o.v=!0,s.e){if(c)for(r=0,h=u.length;r<h;++r)l.point((f=u[r])[0],f[1]);else t(s.x,s.n.x,1,l);s=s.n}else{if(c)for(u=s.p.z,r=u.length-1;r>=0;--r)l.point((f=u[r])[0],f[1]);else t(s.x,s.p.x,-1,l);s=s.p}s=s.o,u=s.z,c=!c}while(!s.v);l.lineEnd()}}}function Zn(n){if(e=n.length){for(var e,i=0,t=n[0],l;++i<e;)t.n=l=n[i],l.p=t,t=l;t.n=l=n[0],l.p=t}}function cn(n){return Q(n[0])<=F?n[0]:ii(n[0])*((Q(n[0])+F)%ue-F)}function oi(n,e){var i=cn(e),t=e[1],l=Z(t),a=[Z(i),-X(i),0],o=0,r=0,h=new ke;l===1?t=ae+G:l===-1&&(t=-ae-G);for(var g=0,u=n.length;g<u;++g)if(s=(f=n[g]).length)for(var f,s,c=f[s-1],p=cn(c),E=c[1]/2+Bn,S=Z(E),N=X(E),M=0;M<s;++M,p=w,S=k,N=z,c=b){var b=f[M],w=cn(b),A=b[1]/2+Bn,k=Z(A),z=X(A),R=w-p,D=R>=0?1:-1,I=D*R,y=I>F,W=S*k;if(h.add(Re(W*D*Z(I),N*z+W*X(I))),o+=y?R+D*ue:R,y^p>=i^w>=i){var C=nn(Ie(c),Ie(b));dn(C);var B=nn(a,C);dn(B);var v=(y^R>=0?-1:1)*Ae(B[2]);(t>v||t===v&&(C[0]||C[1]))&&(r+=y^R>=0?1:-1)}}return(o<-G||o<G&&h<-ni)^r&1}function Tt(n,e,i,t){return function(l){var a=e(l),o=zt(),r=e(o),h=!1,g,u,f,s={point:c,lineStart:E,lineEnd:S,polygonStart:function(){s.point=N,s.lineStart=M,s.lineEnd=b,u=[],g=[]},polygonEnd:function(){s.point=c,s.lineStart=E,s.lineEnd=S,u=It(u);var w=oi(g,t);u.length?(h||(l.polygonStart(),h=!0),Lt(u,si,w,i,l)):w&&(h||(l.polygonStart(),h=!0),l.lineStart(),i(null,null,1,l),l.lineEnd()),h&&(l.polygonEnd(),h=!1),u=g=null},sphere:function(){l.polygonStart(),l.lineStart(),i(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function c(w,A){n(w,A)&&l.point(w,A)}function p(w,A){a.point(w,A)}function E(){s.point=p,a.lineStart()}function S(){s.point=c,a.lineEnd()}function N(w,A){f.push([w,A]),r.point(w,A)}function M(){r.lineStart(),f=[]}function b(){N(f[0][0],f[0][1]),r.lineEnd();var w=r.clean(),A=o.result(),k,z=A.length,R,D,I;if(f.pop(),g.push(f),f=null,!!z){if(w&1){if(D=A[0],(R=D.length-1)>0){for(h||(l.polygonStart(),h=!0),l.lineStart(),k=0;k<R;++k)l.point((I=D[k])[0],I[1]);l.lineEnd()}return}z>1&&w&2&&A.push(A.pop().concat(A.shift())),u.push(A.filter(ai))}}return s}}function ai(n){return n.length>1}function si(n,e){return((n=n.x)[0]<0?n[1]-ae-G:ae-n[1])-((e=e.x)[0]<0?e[1]-ae-G:ae-e[1])}const Xn=Tt(function(){return!0},ui,ci,[-F,-ae]);function ui(n){var e=NaN,i=NaN,t=NaN,l;return{lineStart:function(){n.lineStart(),l=1},point:function(a,o){var r=a>0?F:-F,h=Q(a-e);Q(h-F)<G?(n.point(e,i=(i+o)/2>0?ae:-ae),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(r,i),n.point(a,i),l=0):t!==r&&h>=F&&(Q(e-t)<G&&(e-=t*G),Q(a-r)<G&&(a-=r*G),i=fi(e,i,a,o),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(r,i),l=0),n.point(e=a,i=o),t=r},lineEnd:function(){n.lineEnd(),e=i=NaN},clean:function(){return 2-l}}}function fi(n,e,i,t){var l,a,o=Z(n-i);return Q(o)>G?ti((Z(e)*(a=X(t))*Z(i)-Z(t)*(l=X(e))*Z(n))/(l*a*o)):(e+t)/2}function ci(n,e,i,t){var l;if(n==null)l=i*ae,t.point(-F,l),t.point(0,l),t.point(F,l),t.point(F,0),t.point(F,-l),t.point(0,-l),t.point(-F,-l),t.point(-F,0),t.point(-F,l);else if(Q(n[0]-e[0])>G){var a=n[0]<e[0]?F:-F;l=i*a/2,t.point(-a,l),t.point(0,l),t.point(a,l)}else t.point(e[0],e[1])}function hi(n){var e=X(n),i=2*ne,t=e>0,l=Q(e)>G;function a(u,f,s,c){ri(c,n,i,s,u,f)}function o(u,f){return X(u)*X(f)>e}function r(u){var f,s,c,p,E;return{lineStart:function(){p=c=!1,E=1},point:function(S,N){var M=[S,N],b,w=o(S,N),A=t?w?0:g(S,N):w?g(S+(S<0?F:-F),N):0;if(!f&&(p=c=w)&&u.lineStart(),w!==c&&(b=h(f,M),(!b||Ke(f,b)||Ke(M,b))&&(M[2]=1)),w!==c)E=0,w?(u.lineStart(),b=h(M,f),u.point(b[0],b[1])):(b=h(f,M),u.point(b[0],b[1],2),u.lineEnd()),f=b;else if(l&&f&&t^w){var k;!(A&s)&&(k=h(M,f,!0))&&(E=0,t?(u.lineStart(),u.point(k[0][0],k[0][1]),u.point(k[1][0],k[1][1]),u.lineEnd()):(u.point(k[1][0],k[1][1]),u.lineEnd(),u.lineStart(),u.point(k[0][0],k[0][1],3)))}w&&(!f||!Ke(f,M))&&u.point(M[0],M[1]),f=M,c=w,s=A},lineEnd:function(){c&&u.lineEnd(),f=null},clean:function(){return E|(p&&c)<<1}}}function h(u,f,s){var c=Ie(u),p=Ie(f),E=[1,0,0],S=nn(c,p),N=Xe(S,S),M=S[0],b=N-M*M;if(!b)return!s&&u;var w=e*N/b,A=-e*M/b,k=nn(E,S),z=Ye(E,w),R=Ye(S,A);fn(z,R);var D=k,I=Xe(z,D),y=Xe(D,D),W=I*I-y*(Xe(z,z)-1);if(!(W<0)){var C=ye(W),B=Ye(D,(-I-C)/y);if(fn(B,z),B=_n(B),!s)return B;var v=u[0],L=f[0],j=u[1],m=f[1],O;L<v&&(O=v,v=L,L=O);var _=L-v,H=Q(_-F)<G,x=H||_<G;if(!H&&m<j&&(O=j,j=m,m=O),x?H?j+m>0^B[1]<(Q(B[0]-v)<G?j:m):j<=B[1]&&B[1]<=m:_>F^(v<=B[0]&&B[0]<=L)){var te=Ye(D,(-I+C)/y);return fn(te,z),[B,_n(te)]}}}function g(u,f){var s=t?n:F-n,c=0;return u<-s?c|=1:u>s&&(c|=2),f<-s?c|=4:f>s&&(c|=8),c}return Tt(o,r,a,t?[0,-n]:[-F,n-F])}function pi(n,e,i,t,l,a){var o=n[0],r=n[1],h=e[0],g=e[1],u=0,f=1,s=h-o,c=g-r,p;if(p=i-o,!(!s&&p>0)){if(p/=s,s<0){if(p<u)return;p<f&&(f=p)}else if(s>0){if(p>f)return;p>u&&(u=p)}if(p=l-o,!(!s&&p<0)){if(p/=s,s<0){if(p>f)return;p>u&&(u=p)}else if(s>0){if(p<u)return;p<f&&(f=p)}if(p=t-r,!(!c&&p>0)){if(p/=c,c<0){if(p<u)return;p<f&&(f=p)}else if(c>0){if(p>f)return;p>u&&(u=p)}if(p=a-r,!(!c&&p<0)){if(p/=c,c<0){if(p>f)return;p>u&&(u=p)}else if(c>0){if(p<u)return;p<f&&(f=p)}return u>0&&(n[0]=o+u*s,n[1]=r+u*c),f<1&&(e[0]=o+f*s,e[1]=r+f*c),!0}}}}}var De=1e9,Je=-De;function gi(n,e,i,t){function l(g,u){return n<=g&&g<=i&&e<=u&&u<=t}function a(g,u,f,s){var c=0,p=0;if(g==null||(c=o(g,f))!==(p=o(u,f))||h(g,u)<0^f>0)do s.point(c===0||c===3?n:i,c>1?t:e);while((c=(c+f+4)%4)!==p);else s.point(u[0],u[1])}function o(g,u){return Q(g[0]-n)<G?u>0?0:3:Q(g[0]-i)<G?u>0?2:1:Q(g[1]-e)<G?u>0?1:0:u>0?3:2}function r(g,u){return h(g.x,u.x)}function h(g,u){var f=o(g,1),s=o(u,1);return f!==s?f-s:f===0?u[1]-g[1]:f===1?g[0]-u[0]:f===2?g[1]-u[1]:u[0]-g[0]}return function(g){var u=g,f=zt(),s,c,p,E,S,N,M,b,w,A,k,z={point:R,lineStart:W,lineEnd:C,polygonStart:I,polygonEnd:y};function R(v,L){l(v,L)&&u.point(v,L)}function D(){for(var v=0,L=0,j=c.length;L<j;++L)for(var m=c[L],O=1,_=m.length,H=m[0],x,te,Se=H[0],pe=H[1];O<_;++O)x=Se,te=pe,H=m[O],Se=H[0],pe=H[1],te<=t?pe>t&&(Se-x)*(t-te)>(pe-te)*(n-x)&&++v:pe<=t&&(Se-x)*(t-te)<(pe-te)*(n-x)&&--v;return v}function I(){u=f,s=[],c=[],k=!0}function y(){var v=D(),L=k&&v,j=(s=It(s)).length;(L||j)&&(g.polygonStart(),L&&(g.lineStart(),a(null,null,1,g),g.lineEnd()),j&&Lt(s,r,v,a,g),g.polygonEnd()),u=g,s=c=p=null}function W(){z.point=B,c&&c.push(p=[]),A=!0,w=!1,M=b=NaN}function C(){s&&(B(E,S),N&&w&&f.rejoin(),s.push(f.result())),z.point=R,w&&u.lineEnd()}function B(v,L){var j=l(v,L);if(c&&p.push([v,L]),A)E=v,S=L,N=j,A=!1,j&&(u.lineStart(),u.point(v,L));else if(j&&w)u.point(v,L);else{var m=[M=Math.max(Je,Math.min(De,M)),b=Math.max(Je,Math.min(De,b))],O=[v=Math.max(Je,Math.min(De,v)),L=Math.max(Je,Math.min(De,L))];pi(m,O,n,e,i,t)?(w||(u.lineStart(),u.point(m[0],m[1])),u.point(O[0],O[1]),j||u.lineEnd(),k=!1):j&&(u.lineStart(),u.point(v,L),k=!1)}M=v,b=L,w=j}return z}}const En=n=>n;var hn=new ke,yn=new ke,Dt,$t,Sn,wn,_e={point:se,lineStart:se,lineEnd:se,polygonStart:function(){_e.lineStart=_i,_e.lineEnd=vi},polygonEnd:function(){_e.lineStart=_e.lineEnd=_e.point=se,hn.add(Q(yn)),yn=new ke},result:function(){var n=hn/2;return hn=new ke,n}};function _i(){_e.point=di}function di(n,e){_e.point=Ot,Dt=Sn=n,$t=wn=e}function Ot(n,e){yn.add(wn*n-Sn*e),Sn=n,wn=e}function vi(){Ot(Dt,$t)}var Ce=1/0,tn=Ce,Ve=-Ce,ln=Ve,rn={point:mi,lineStart:se,lineEnd:se,polygonStart:se,polygonEnd:se,result:function(){var n=[[Ce,tn],[Ve,ln]];return Ve=ln=-(tn=Ce=1/0),n}};function mi(n,e){n<Ce&&(Ce=n),n>Ve&&(Ve=n),e<tn&&(tn=e),e>ln&&(ln=e)}var Pn=0,kn=0,$e=0,on=0,an=0,be=0,Mn=0,Nn=0,Oe=0,jt,Bt,fe,ce,ie={point:Me,lineStart:Yn,lineEnd:Qn,polygonStart:function(){ie.lineStart=Si,ie.lineEnd=wi},polygonEnd:function(){ie.point=Me,ie.lineStart=Yn,ie.lineEnd=Qn},result:function(){var n=Oe?[Mn/Oe,Nn/Oe]:be?[on/be,an/be]:$e?[Pn/$e,kn/$e]:[NaN,NaN];return Pn=kn=$e=on=an=be=Mn=Nn=Oe=0,n}};function Me(n,e){Pn+=n,kn+=e,++$e}function Yn(){ie.point=Ei}function Ei(n,e){ie.point=yi,Me(fe=n,ce=e)}function yi(n,e){var i=n-fe,t=e-ce,l=ye(i*i+t*t);on+=l*(fe+n)/2,an+=l*(ce+e)/2,be+=l,Me(fe=n,ce=e)}function Qn(){ie.point=Me}function Si(){ie.point=Pi}function wi(){Ft(jt,Bt)}function Pi(n,e){ie.point=Ft,Me(jt=fe=n,Bt=ce=e)}function Ft(n,e){var i=n-fe,t=e-ce,l=ye(i*i+t*t);on+=l*(fe+n)/2,an+=l*(ce+e)/2,be+=l,l=ce*n-fe*e,Mn+=l*(fe+n),Nn+=l*(ce+e),Oe+=l*3,Me(fe=n,ce=e)}function Ht(n){this._context=n}Ht.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,ue);break}}},result:se};var bn=new ke,pn,qt,Ut,je,Be,Ge={point:se,lineStart:function(){Ge.point=ki},lineEnd:function(){pn&&Vt(qt,Ut),Ge.point=se},polygonStart:function(){pn=!0},polygonEnd:function(){pn=null},result:function(){var n=+bn;return bn=new ke,n}};function ki(n,e){Ge.point=Vt,qt=je=n,Ut=Be=e}function Vt(n,e){je-=n,Be-=e,bn.add(ye(je*je+Be*Be)),je=n,Be=e}let Jn,sn,Kn,xn;class et{constructor(e){this._append=e==null?Gt:Mi(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,i){switch(this._point){case 0:{this._append`M${e},${i}`,this._point=1;break}case 1:{this._append`L${e},${i}`;break}default:{if(this._append`M${e},${i}`,this._radius!==Kn||this._append!==sn){const t=this._radius,l=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Kn=t,sn=this._append,xn=this._,this._=l}this._+=xn;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Gt(n){let e=1;this._+=n[0];for(const i=n.length;e<i;++e)this._+=arguments[e]+n[e]}function Mi(n){const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);if(e>15)return Gt;if(e!==Jn){const i=10**e;Jn=e,sn=function(l){let a=1;this._+=l[0];for(const o=l.length;a<o;++a)this._+=Math.round(arguments[a]*i)/i+l[a]}}return sn}function Ni(n,e){let i=3,t=4.5,l,a;function o(r){return r&&(typeof t=="function"&&a.pointRadius(+t.apply(this,arguments)),Ne(r,l(a))),a.result()}return o.area=function(r){return Ne(r,l(_e)),_e.result()},o.measure=function(r){return Ne(r,l(Ge)),Ge.result()},o.bounds=function(r){return Ne(r,l(rn)),rn.result()},o.centroid=function(r){return Ne(r,l(ie)),ie.result()},o.projection=function(r){return arguments.length?(l=r==null?(n=null,En):(n=r).stream,o):n},o.context=function(r){return arguments.length?(a=r==null?(e=null,new et(i)):new Ht(e=r),typeof t!="function"&&a.pointRadius(t),o):e},o.pointRadius=function(r){return arguments.length?(t=typeof r=="function"?r:(a.pointRadius(+r),+r),o):t},o.digits=function(r){if(!arguments.length)return i;if(r==null)i=null;else{const h=Math.floor(r);if(!(h>=0))throw new RangeError(`invalid digits: ${r}`);i=h}return e===null&&(a=new et(i)),o},o.projection(n).digits(i).context(e)}function Cn(n){return function(e){var i=new Rn;for(var t in n)i[t]=n[t];return i.stream=e,i}}function Rn(){}Rn.prototype={constructor:Rn,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function zn(n,e,i){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),Ne(i,n.stream(rn)),e(rn.result()),t!=null&&n.clipExtent(t),n}function Wt(n,e,i){return zn(n,function(t){var l=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(l/(t[1][0]-t[0][0]),a/(t[1][1]-t[0][1])),r=+e[0][0]+(l-o*(t[1][0]+t[0][0]))/2,h=+e[0][1]+(a-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([r,h])},i)}function bi(n,e,i){return Wt(n,[[0,0],e],i)}function Ri(n,e,i){return zn(n,function(t){var l=+e,a=l/(t[1][0]-t[0][0]),o=(l-a*(t[1][0]+t[0][0]))/2,r=-a*t[0][1];n.scale(150*a).translate([o,r])},i)}function Ai(n,e,i){return zn(n,function(t){var l=+e,a=l/(t[1][1]-t[0][1]),o=-a*t[0][0],r=(l-a*(t[1][1]+t[0][1]))/2;n.scale(150*a).translate([o,r])},i)}var nt=16,Ii=X(30*ne);function tt(n,e){return+e?zi(n,e):Ci(n)}function Ci(n){return Cn({point:function(e,i){e=n(e,i),this.stream.point(e[0],e[1])}})}function zi(n,e){function i(t,l,a,o,r,h,g,u,f,s,c,p,E,S){var N=g-t,M=u-l,b=N*N+M*M;if(b>4*e&&E--){var w=o+s,A=r+c,k=h+p,z=ye(w*w+A*A+k*k),R=Ae(k/=z),D=Q(Q(k)-1)<G||Q(a-f)<G?(a+f)/2:Re(A,w),I=n(D,R),y=I[0],W=I[1],C=y-t,B=W-l,v=M*C-N*B;(v*v/b>e||Q((N*C+M*B)/b-.5)>.3||o*s+r*c+h*p<Ii)&&(i(t,l,a,o,r,h,y,W,D,w/=z,A/=z,k,E,S),S.point(y,W),i(y,W,D,w,A,k,g,u,f,s,c,p,E,S))}}return function(t){var l,a,o,r,h,g,u,f,s,c,p,E,S={point:N,lineStart:M,lineEnd:w,polygonStart:function(){t.polygonStart(),S.lineStart=A},polygonEnd:function(){t.polygonEnd(),S.lineStart=M}};function N(R,D){R=n(R,D),t.point(R[0],R[1])}function M(){f=NaN,S.point=b,t.lineStart()}function b(R,D){var I=Ie([R,D]),y=n(R,D);i(f,s,u,c,p,E,f=y[0],s=y[1],u=R,c=I[0],p=I[1],E=I[2],nt,t),t.point(f,s)}function w(){S.point=N,t.lineEnd()}function A(){M(),S.point=k,S.lineEnd=z}function k(R,D){b(l=R,D),a=f,o=s,r=c,h=p,g=E,S.point=b}function z(){i(f,s,u,c,p,E,a,o,l,r,h,g,nt,t),S.lineEnd=w,w()}return S}}var Li=Cn({point:function(n,e){this.stream.point(n*ne,e*ne)}});function Ti(n){return Cn({point:function(e,i){var t=n(e,i);return this.stream.point(t[0],t[1])}})}function Di(n,e,i,t,l){function a(o,r){return o*=t,r*=l,[e+n*o,i-n*r]}return a.invert=function(o,r){return[(o-e)/n*t,(i-r)/n*l]},a}function it(n,e,i,t,l,a){if(!a)return Di(n,e,i,t,l);var o=X(a),r=Z(a),h=o*n,g=r*n,u=o/n,f=r/n,s=(r*i-o*e)/n,c=(r*e+o*i)/n;function p(E,S){return E*=t,S*=l,[h*E-g*S+e,i-g*E-h*S]}return p.invert=function(E,S){return[t*(u*E-f*S+s),l*(c-f*E-u*S)]},p}function $i(n){return Oi(function(){return n})()}function Oi(n){var e,i=150,t=480,l=250,a=0,o=0,r=0,h=0,g=0,u,f=0,s=1,c=1,p=null,E=Xn,S=null,N,M,b,w=En,A=.5,k,z,R,D,I;function y(v){return R(v[0]*ne,v[1]*ne)}function W(v){return v=R.invert(v[0],v[1]),v&&[v[0]*ge,v[1]*ge]}y.stream=function(v){return D&&I===v?D:D=Li(Ti(u)(E(k(w(I=v)))))},y.preclip=function(v){return arguments.length?(E=v,p=void 0,B()):E},y.postclip=function(v){return arguments.length?(w=v,S=N=M=b=null,B()):w},y.clipAngle=function(v){return arguments.length?(E=+v?hi(p=v*ne):(p=null,Xn),B()):p*ge},y.clipExtent=function(v){return arguments.length?(w=v==null?(S=N=M=b=null,En):gi(S=+v[0][0],N=+v[0][1],M=+v[1][0],b=+v[1][1]),B()):S==null?null:[[S,N],[M,b]]},y.scale=function(v){return arguments.length?(i=+v,C()):i},y.translate=function(v){return arguments.length?(t=+v[0],l=+v[1],C()):[t,l]},y.center=function(v){return arguments.length?(a=v[0]%360*ne,o=v[1]%360*ne,C()):[a*ge,o*ge]},y.rotate=function(v){return arguments.length?(r=v[0]%360*ne,h=v[1]%360*ne,g=v.length>2?v[2]%360*ne:0,C()):[r*ge,h*ge,g*ge]},y.angle=function(v){return arguments.length?(f=v%360*ne,C()):f*ge},y.reflectX=function(v){return arguments.length?(s=v?-1:1,C()):s<0},y.reflectY=function(v){return arguments.length?(c=v?-1:1,C()):c<0},y.precision=function(v){return arguments.length?(k=tt(z,A=v*v),B()):ye(A)},y.fitExtent=function(v,L){return Wt(y,v,L)},y.fitSize=function(v,L){return bi(y,v,L)},y.fitWidth=function(v,L){return Ri(y,v,L)},y.fitHeight=function(v,L){return Ai(y,v,L)};function C(){var v=it(i,0,0,s,c,f).apply(null,e(a,o)),L=it(i,t-v[0],l-v[1],s,c,f);return u=li(r,h,g),z=vn(e,L),R=vn(u,z),k=tt(z,A),B()}function B(){return D=I=null,y}return function(){return e=n.apply(this,arguments),y.invert=e.invert&&W,C()}}function ji(n){return function(e,i){var t=X(e),l=X(i),a=n(t*l);return a===1/0?[2,0]:[a*l*Z(e),a*Z(i)]}}function Bi(n){return function(e,i){var t=ye(e*e+i*i),l=n(t),a=Z(l),o=X(l);return[Re(e*a,t*o),Ae(t&&i*a/t)]}}var Zt=ji(function(n){return(n=Ct(n))&&n/Z(n)});Zt.invert=Bi(function(n){return n});function Fi(){return $i(Zt).scale(79.4188).clipAngle(180-.001)}function Hi(n){var E,S;let e,i,t=`<p class="svelte-135yjyt">An interactive visualization of all the space debris that reenters
            the atmosphere in the South Pacific Ocean. From 1960 until today.</p>`,l,a,o,r,h=((E=n[0])==null?void 0:E.name)+"",g,u,f,s,c=((S=n[0])==null?void 0:S.year)+"",p;return{c(){e=J("div"),i=J("div"),i.innerHTML=t,l=de(),a=J("div"),o=J("span"),r=le("Satellite: "),g=le(h),u=de(),f=J("span"),s=le("Year: "),p=le(c),this.h()},l(N){e=K(N,"DIV",{class:!0});var M=$(e);i=K(M,"DIV",{class:!0,"data-svelte-h":!0}),An(i)!=="svelte-9fj3n4"&&(i.innerHTML=t),l=ve(M),a=K(M,"DIV",{class:!0});var b=$(a);o=K(b,"SPAN",{class:!0});var w=$(o);r=re(w,"Satellite: "),g=re(w,h),w.forEach(P),u=ve(b),f=K(b,"SPAN",{class:!0});var A=$(f);s=re(A,"Year: "),p=re(A,c),A.forEach(P),b.forEach(P),M.forEach(P),this.h()},h(){d(i,"class","description svelte-135yjyt"),d(o,"class","svelte-135yjyt"),d(f,"class","svelte-135yjyt"),d(a,"class","satellite-info svelte-135yjyt"),d(e,"class","top-bar svelte-135yjyt")},m(N,M){q(N,e,M),T(e,i),T(e,l),T(e,a),T(a,o),T(o,r),T(o,g),T(a,u),T(a,f),T(f,s),T(f,p)},p(N,[M]){var b,w;M&1&&h!==(h=((b=N[0])==null?void 0:b.name)+"")&&Ee(g,h),M&1&&c!==(c=((w=N[0])==null?void 0:w.year)+"")&&Ee(p,c)},i:he,o:he,d(N){N&&P(e)}}}function qi(n,e,i){let{currentPoint:t}=e;return n.$$set=l=>{"currentPoint"in l&&i(0,t=l.currentPoint)},[t]}class Ui extends Le{constructor(e){super(),Te(this,e,qi,Hi,ze,{currentPoint:0})}}function Vi(n){let e,i,t,l,a,o;return{c(){e=J("div"),i=J("div"),t=de(),l=J("div"),this.h()},l(r){e=K(r,"DIV",{class:!0});var h=$(e);i=K(h,"DIV",{class:!0,style:!0}),$(i).forEach(P),t=ve(h),l=K(h,"DIV",{class:!0,style:!0}),$(l).forEach(P),h.forEach(P),this.h()},h(){d(i,"class","progress svelte-1aifhpe"),We(i,"width",(n[0]+1)/n[1].length*100+"%"),d(l,"class","draggable svelte-1aifhpe"),We(l,"left",(n[0]+1)/n[1].length*100+"%"),d(e,"class","progress-bar svelte-1aifhpe")},m(r,h){q(r,e,h),T(e,i),T(e,t),T(e,l),a||(o=In(e,"mousedown",n[2]),a=!0)},p(r,[h]){h&3&&We(i,"width",(r[0]+1)/r[1].length*100+"%"),h&3&&We(l,"left",(r[0]+1)/r[1].length*100+"%")},i:he,o:he,d(r){r&&P(e),a=!1,o()}}}function Gi(n,e,i){const t=Nt();let{index:l}=e,{points:a}=e;function o(r){const h=r.currentTarget.getBoundingClientRect();let g=r.clientX-h.left;const u=h.width;g<0?g=0:g>u&&(g=u);const f=g/u*100,s=Math.floor(f/100*a.length);t("updateIndex",s)}return n.$$set=r=>{"index"in r&&i(0,l=r.index),"points"in r&&i(1,a=r.points)},[l,a,o]}class Wi extends Le{constructor(e){super(),Te(this,e,Gi,Vi,ze,{index:0,points:1})}}function Zi(n){let e,i=`<h2 class="svelte-1874fan">Colophon</h2> <p class="svelte-1874fan">Since space exploration began in the 1950s, the various technologies
        used for launching and carrying out missions have left their mark,
        gradually creating vast fields and layers of debris both in orbit and in
        the Earth&#39;s marine environment.</p> <p class="svelte-1874fan">While space debris is mainly associated with the countless pieces
        scattered around the Earth, its re-entry into the atmosphere and its
        possible re-entry into the sometimes deliberately controlled marine
        environment often goes unnoticed. Media portraits deal with the
        phenomenon of falling debris mainly in the context of the mysterious <em>Point Nemo</em>, also known as the <em>spaceship graveyard</em>. However, the romantic
        and antropomorphic concept of technology finding its final resting place
        is misleading and ignores the reality of a chaotic waste dump 4 embedded
        in a complex legal dilemma around environmental damage.</p> <h2 class="svelte-1874fan">Map</h2> <p class="svelte-1874fan">A timeline visualising all the artificial space objects that fell within
        the South Pacific Ocean Uninhabited Area (SPOUA) from 1959 until now -
        reflecting on the past, present and future presence of space objects in
        marine environments.</p> <p class="svelte-1874fan">By geolocating their predicted reentry, the resulting coordinates are
        juxtaposed with the legal limits of coastal states‘ sovereign rights,
        spanning from Exclusive Economic Zones to Navigational Areas.</p> <p class="svelte-1874fan">While the first shows the conflicting intersection with the UN Law of
        the Sea and a possible breach thereof, the latter emphasises the
        constant risk of impact that re-entering spacecraft pose to shipping
        routes within the South Pacific Ocean.</p> <h2 class="svelte-1874fan">Data</h2> <ol class="svelte-1874fan"><li>ESA (European Space Agency)</li> <li>GEBCO (General bathymetric chart of the oceans)</li> <li>Marineregions.org</li> <li>NASA ODPO (Orbital Debris Programme Office)</li> <li>NASA Distance to the Nearest Coast</li> <li>NOAA (National Oceanic and Atmospheric Administration)</li> <li>NORAD (National Oceanic and Atmospheric Administration)</li> <li>CelesTrak</li> <li>USSTRATCOM (United States Strategic Command)</li></ol>`;return{c(){e=J("article"),e.innerHTML=i,this.h()},l(t){e=K(t,"ARTICLE",{class:!0,"data-svelte-h":!0}),An(e)!=="svelte-1bcz6ln"&&(e.innerHTML=i),this.h()},h(){d(e,"class","svelte-1874fan")},m(t,l){q(t,e,l)},p:he,i:he,o:he,d(t){t&&P(e)}}}class Xi extends Le{constructor(e){super(),Te(this,e,null,Zi,ze,{})}}function lt(n,e,i){const t=n.slice();return t[9]=e[i],t[11]=i,t}function rt(n){let e,i=n[9].name+"",t,l,a=n[9].year+"",o,r,h,g;function u(){return n[7](n[11])}return{c(){e=J("p"),t=le(i),l=le(", "),o=le(a),r=de(),this.h()},l(f){e=K(f,"P",{class:!0});var s=$(e);t=re(s,i),l=re(s,", "),o=re(s,a),r=ve(s),s.forEach(P),this.h()},h(){d(e,"class","svelte-ry3c62"),un(e,"gray-background",n[11]%2===1),un(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},m(f,s){q(f,e,s),T(e,t),T(e,l),T(e,o),T(e,r),h||(g=In(e,"click",u),h=!0)},p(f,s){n=f,s&4&&i!==(i=n[9].name+"")&&Ee(t,i),s&4&&a!==(a=n[9].year+"")&&Ee(o,a),s&5&&un(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},d(f){f&&P(e),h=!1,g()}}}function Yi(n){let e,i,t,l,a,o,r,h,g,u=ee(n[2]),f=[];for(let s=0;s<u.length;s+=1)f[s]=rt(lt(n,u,s));return o=new Xi({}),{c(){e=J("article"),i=J("input"),t=de(),l=J("div");for(let s=0;s<f.length;s+=1)f[s].c();a=de(),Fe(o.$$.fragment),this.h()},l(s){e=K(s,"ARTICLE",{class:!0});var c=$(e);i=K(c,"INPUT",{type:!0,placeholder:!0,class:!0}),t=ve(c),l=K(c,"DIV",{class:!0});var p=$(l);for(let E=0;E<f.length;E+=1)f[E].l(p);p.forEach(P),c.forEach(P),a=ve(s),He(o.$$.fragment,s),this.h()},h(){d(i,"type","text"),d(i,"placeholder","Search..."),d(i,"class","svelte-ry3c62"),d(l,"class","svelte-ry3c62"),d(e,"class","svelte-ry3c62")},m(s,c){q(s,e,c),T(e,i),On(i,n[1]),T(e,t),T(e,l);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(l,null);q(s,a,c),qe(o,s,c),r=!0,h||(g=In(i,"input",n[6]),h=!0)},p(s,[c]){if(c&2&&i.value!==s[1]&&On(i,s[1]),c&13){u=ee(s[2]);let p;for(p=0;p<u.length;p+=1){const E=lt(s,u,p);f[p]?f[p].p(E,c):(f[p]=rt(E),f[p].c(),f[p].m(l,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=u.length}},i(s){r||(we(o.$$.fragment,s),r=!0)},o(s){Pe(o.$$.fragment,s),r=!1},d(s){s&&(P(e),P(a)),me(f,s),Ue(o,s),h=!1,g()}}}function Qi(n,e,i){let t,l,{points:a}=e,{highlighted:o}=e;const r=Nt();let h="";function g(s){r("updateId",t[s])}function u(){h=this.value,i(1,h)}const f=s=>g(s);return n.$$set=s=>{"points"in s&&i(4,a=s.points),"highlighted"in s&&i(0,o=s.highlighted)},n.$$.update=()=>{n.$$.dirty&16&&i(5,l=a.reduce((s,c)=>s.find(E=>E.name===c.name&&E.year===c.year)?s:s.concat([c]),[])),n.$$.dirty&34&&i(2,t=l.filter(s=>s.name.toLowerCase().includes(h.toLowerCase())))},[o,h,t,g,a,l,u,f]}class Ji extends Le{constructor(e){super(),Te(this,e,Qi,Yi,ze,{points:4,highlighted:0})}}function ot(n,e,i){const t=n.slice();return t[19]=e[i].cx,t[20]=e[i].cy,t[21]=e[i].name,t}function at(n,e,i){const t=n.slice();return t[24]=e[i],t[26]=i,t}function st(n,e,i){const t=n.slice();return t[19]=e[i].cx,t[20]=e[i].cy,t[21]=e[i].name,t[27]=e[i].r,t[26]=i,t}function ut(n,e,i){const t=n.slice();return t[29]=e[i],t[26]=i,t}function ft(n,e,i){const t=n.slice();return t[24]=e[i],t[26]=i,t}function ct(n,e,i){const t=n.slice();return t[24]=e[i],t[26]=i,t}function ht(n,e,i){const t=n.slice();return t[24]=e[i],t[26]=i,t}function pt(n){let e,i,t,l,a,o,r,h,g,u,f,s,c,p,E,S,N,M,b,w=n[0].length>1&&gt(n),A=ee(n[5]),k=[];for(let m=0;m<A.length;m+=1)k[m]=_t(ht(n,A,m));let z=ee(n[4]),R=[];for(let m=0;m<z.length;m+=1)R[m]=dt(ct(n,z,m));let D=ee(n[6]),I=[];for(let m=0;m<D.length;m+=1)I[m]=vt(ft(n,D,m));let y=n[0].length>1&&mt(n),W=ee(n[0]),C=[];for(let m=0;m<W.length;m+=1)C[m]=wt(st(n,W,m));let B=ee(n[7]),v=[];for(let m=0;m<B.length;m+=1)v[m]=Pt(at(n,B,m));let L=ee(n[3]),j=[];for(let m=0;m<L.length;m+=1)j[m]=Mt(ot(n,L,m));return{c(){e=U("svg"),i=U("defs"),t=U("path"),a=U("clipPath"),o=U("use"),w&&w.c(),r=U("g"),h=U("circle"),s=U("g");for(let m=0;m<k.length;m+=1)k[m].c();c=U("g");for(let m=0;m<R.length;m+=1)R[m].c();p=U("g");for(let m=0;m<I.length;m+=1)I[m].c();E=U("g"),y&&y.c(),S=U("g");for(let m=0;m<C.length;m+=1)C[m].c();N=U("g");for(let m=0;m<v.length;m+=1)v[m].c();M=U("g");for(let m=0;m<j.length;m+=1)j[m].c();this.h()},l(m){e=V(m,"svg",{viewBox:!0});var O=$(e);i=V(O,"defs",{});var _=$(i);t=V(_,"path",{id:!0,d:!0}),$(t).forEach(P),a=V(_,"clipPath",{class:!0,id:!0});var H=$(a);o=V(H,"use",{href:!0}),$(o).forEach(P),H.forEach(P),_.forEach(P),w&&w.l(O),r=V(O,"g",{"clip-path":!0,class:!0});var x=$(r);h=V(x,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),$(h).forEach(P),s=V(x,"g",{class:!0,fill:!0,stroke:!0});var te=$(s);for(let Y=0;Y<k.length;Y+=1)k[Y].l(te);te.forEach(P),c=V(x,"g",{class:!0,fill:!0,stroke:!0});var Se=$(c);for(let Y=0;Y<R.length;Y+=1)R[Y].l(Se);Se.forEach(P),p=V(x,"g",{class:!0,fill:!0,stroke:!0});var pe=$(p);for(let Y=0;Y<I.length;Y+=1)I[Y].l(pe);pe.forEach(P),E=V(x,"g",{class:!0});var Ln=$(E);y&&y.l(Ln),Ln.forEach(P),S=V(x,"g",{class:!0});var Tn=$(S);for(let Y=0;Y<C.length;Y+=1)C[Y].l(Tn);Tn.forEach(P),N=V(x,"g",{class:!0});var Dn=$(N);for(let Y=0;Y<v.length;Y+=1)v[Y].l(Dn);Dn.forEach(P),M=V(x,"g",{class:!0});var $n=$(M);for(let Y=0;Y<j.length;Y+=1)j[Y].l($n);$n.forEach(P),x.forEach(P),O.forEach(P),this.h()},h(){d(t,"id","sphere"),d(t,"d",l=n[11]({type:"Sphere"})),d(o,"href","#sphere"),d(a,"class","clip"),d(a,"id","clip"),d(h,"cx",g=n[1]/2),d(h,"cy",u=n[2]/2),d(h,"r",f=n[1]*2),d(h,"fill","#eeffff"),d(s,"class","marine svelte-blvn1i"),d(s,"fill","#e9f4ff"),d(s,"stroke","blue"),d(c,"class","world svelte-blvn1i"),d(c,"fill","white"),d(c,"stroke","none"),d(p,"class","contour svelte-blvn1i"),d(p,"fill","none"),d(p,"stroke","none"),d(E,"class","svelte-blvn1i"),d(S,"class","svelte-blvn1i"),d(N,"class","spoua svelte-blvn1i"),d(M,"class","nemo svelte-blvn1i"),d(r,"clip-path","url(#clip)"),d(r,"class","svelte-blvn1i"),d(e,"viewBox",b="0 0 "+n[1]+" "+n[2])},m(m,O){q(m,e,O),T(e,i),T(i,t),T(i,a),T(a,o),w&&w.m(e,null),T(e,r),T(r,h),T(r,s);for(let _=0;_<k.length;_+=1)k[_]&&k[_].m(s,null);T(r,c);for(let _=0;_<R.length;_+=1)R[_]&&R[_].m(c,null);T(r,p);for(let _=0;_<I.length;_+=1)I[_]&&I[_].m(p,null);T(r,E),y&&y.m(E,null),T(r,S);for(let _=0;_<C.length;_+=1)C[_]&&C[_].m(S,null);T(r,N);for(let _=0;_<v.length;_+=1)v[_]&&v[_].m(N,null);T(r,M);for(let _=0;_<j.length;_+=1)j[_]&&j[_].m(M,null)},p(m,O){if(O[0]&2048&&l!==(l=m[11]({type:"Sphere"}))&&d(t,"d",l),m[0].length>1?w?w.p(m,O):(w=gt(m),w.c(),w.m(e,r)):w&&(w.d(1),w=null),O[0]&2&&g!==(g=m[1]/2)&&d(h,"cx",g),O[0]&4&&u!==(u=m[2]/2)&&d(h,"cy",u),O[0]&2&&f!==(f=m[1]*2)&&d(h,"r",f),O[0]&2080){A=ee(m[5]);let _;for(_=0;_<A.length;_+=1){const H=ht(m,A,_);k[_]?k[_].p(H,O):(k[_]=_t(H),k[_].c(),k[_].m(s,null))}for(;_<k.length;_+=1)k[_].d(1);k.length=A.length}if(O[0]&2064){z=ee(m[4]);let _;for(_=0;_<z.length;_+=1){const H=ct(m,z,_);R[_]?R[_].p(H,O):(R[_]=dt(H),R[_].c(),R[_].m(c,null))}for(;_<R.length;_+=1)R[_].d(1);R.length=z.length}if(O[0]&2112){D=ee(m[6]);let _;for(_=0;_<D.length;_+=1){const H=ft(m,D,_);I[_]?I[_].p(H,O):(I[_]=vt(H),I[_].c(),I[_].m(p,null))}for(;_<I.length;_+=1)I[_].d(1);I.length=D.length}if(m[0].length>1?y?y.p(m,O):(y=mt(m),y.c(),y.m(E,null)):y&&(y.d(1),y=null),O[0]&1){W=ee(m[0]);let _;for(_=0;_<W.length;_+=1){const H=st(m,W,_);C[_]?C[_].p(H,O):(C[_]=wt(H),C[_].c(),C[_].m(S,null))}for(;_<C.length;_+=1)C[_].d(1);C.length=W.length}if(O[0]&2176){B=ee(m[7]);let _;for(_=0;_<B.length;_+=1){const H=at(m,B,_);v[_]?v[_].p(H,O):(v[_]=Pt(H),v[_].c(),v[_].m(N,null))}for(;_<v.length;_+=1)v[_].d(1);v.length=B.length}if(O[0]&8){L=ee(m[3]);let _;for(_=0;_<L.length;_+=1){const H=ot(m,L,_);j[_]?j[_].p(H,O):(j[_]=Mt(H),j[_].c(),j[_].m(M,null))}for(;_<j.length;_+=1)j[_].d(1);j.length=L.length}O[0]&6&&b!==(b="0 0 "+m[1]+" "+m[2])&&d(e,"viewBox",b)},d(m){m&&P(e),w&&w.d(),me(k,m),me(R,m),me(I,m),y&&y.d(),me(C,m),me(v,m),me(j,m)}}}function gt(n){var h,g;let e,i,t=((h=n[0][n[0].length-1])==null?void 0:h.name)+"",l,a,o=((g=n[0][n[0].length-1])==null?void 0:g.year)+"",r;return{c(){e=U("text"),i=U("textPath"),l=le(t),a=le(" — "),r=le(o),this.h()},l(u){e=V(u,"text",{"text-anchor":!0,dy:!0,"font-size":!0,fill:!0});var f=$(e);i=V(f,"textPath",{href:!0,startOffset:!0});var s=$(i);l=re(s,t),a=re(s," — "),r=re(s,o),s.forEach(P),f.forEach(P),this.h()},h(){d(i,"href","#sphere"),d(i,"startOffset","20%"),d(e,"text-anchor","left"),d(e,"dy","-5"),d(e,"font-size","36"),d(e,"fill","blue")},m(u,f){q(u,e,f),T(e,i),T(i,l),T(i,a),T(i,r)},p(u,f){var s,c;f[0]&1&&t!==(t=((s=u[0][u[0].length-1])==null?void 0:s.name)+"")&&Ee(l,t),f[0]&1&&o!==(o=((c=u[0][u[0].length-1])==null?void 0:c.year)+"")&&Ee(r,o)},d(u){u&&P(e)}}}function _t(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),$(e).forEach(P),this.h()},h(){d(e,"d",i=n[11](n[24])),d(e,"class","marineBorders")},m(t,l){q(t,e,l)},p(t,l){l[0]&2080&&i!==(i=t[11](t[24]))&&d(e,"d",i)},d(t){t&&P(e)}}}function dt(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),$(e).forEach(P),this.h()},h(){d(e,"d",i=n[11](n[24])),d(e,"class","country")},m(t,l){q(t,e,l)},p(t,l){l[0]&2064&&i!==(i=t[11](t[24]))&&d(e,"d",i)},d(t){t&&P(e)}}}function vt(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),$(e).forEach(P),this.h()},h(){d(e,"d",i=n[11](n[24])),d(e,"class","contour svelte-blvn1i")},m(t,l){q(t,e,l)},p(t,l){l[0]&2112&&i!==(i=t[11](t[24]))&&d(e,"d",i)},d(t){t&&P(e)}}}function mt(n){let e,i=ee(n[0]),t=[];for(let l=0;l<i.length;l+=1)t[l]=yt(ut(n,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=oe()},l(l){for(let a=0;a<t.length;a+=1)t[a].l(l);e=oe()},m(l,a){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(l,a);q(l,e,a)},p(l,a){if(a[0]&1){i=ee(l[0]);let o;for(o=0;o<i.length;o+=1){const r=ut(l,i,o);t[o]?t[o].p(r,a):(t[o]=yt(r),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=i.length}},d(l){l&&P(e),me(t,l)}}}function Et(n){let e,i,t,l,a,o;return{c(){e=U("line"),this.h()},l(r){e=V(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),$(e).forEach(P),this.h()},h(){d(e,"x1",i=n[0][n[26]-1].cx),d(e,"y1",t=n[0][n[26]-1].cy),d(e,"x2",l=n[29].cx),d(e,"y2",a=n[29].cy),d(e,"class",o=xe(n[26]===n[0].length-1?"line highlite":"line old")+" svelte-blvn1i")},m(r,h){q(r,e,h)},p(r,h){h[0]&1&&i!==(i=r[0][r[26]-1].cx)&&d(e,"x1",i),h[0]&1&&t!==(t=r[0][r[26]-1].cy)&&d(e,"y1",t),h[0]&1&&l!==(l=r[29].cx)&&d(e,"x2",l),h[0]&1&&a!==(a=r[29].cy)&&d(e,"y2",a),h[0]&1&&o!==(o=xe(r[26]===r[0].length-1?"line highlite":"line old")+" svelte-blvn1i")&&d(e,"class",o)},d(r){r&&P(e)}}}function yt(n){let e,i=n[26]>0&&n[0][n[26]].name===n[0][n[26]-1].name&&Et(n);return{c(){i&&i.c(),e=oe()},l(t){i&&i.l(t),e=oe()},m(t,l){i&&i.m(t,l),q(t,e,l)},p(t,l){t[26]>0&&t[0][t[26]].name===t[0][t[26]-1].name?i?i.p(t,l):(i=Et(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&P(e),i&&i.d(t)}}}function Ki(n){let e,i,t,l;return{c(){e=U("circle"),this.h()},l(a){e=V(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),$(e).forEach(P),this.h()},h(){d(e,"cx",i=n[19]),d(e,"cy",t=n[20]),d(e,"r",l=n[27]),d(e,"fill","blue"),d(e,"class","highlite svelte-blvn1i")},m(a,o){q(a,e,o)},p(a,o){o[0]&1&&i!==(i=a[19])&&d(e,"cx",i),o[0]&1&&t!==(t=a[20])&&d(e,"cy",t),o[0]&1&&l!==(l=a[27])&&d(e,"r",l)},d(a){a&&P(e)}}}function xi(n){let e,i,t,l,a;return{c(){e=U("circle"),this.h()},l(o){e=V(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),$(e).forEach(P),this.h()},h(){d(e,"cx",i=n[19]),d(e,"cy",t=n[20]),d(e,"r",l=n[27]),d(e,"fill","blue"),d(e,"class",a=xe(n[26]===n[0].length-1?"dot highlite":"dot old")+" svelte-blvn1i")},m(o,r){q(o,e,r)},p(o,r){r[0]&1&&i!==(i=o[19])&&d(e,"cx",i),r[0]&1&&t!==(t=o[20])&&d(e,"cy",t),r[0]&1&&l!==(l=o[27])&&d(e,"r",l),r[0]&1&&a!==(a=xe(o[26]===o[0].length-1?"dot highlite":"dot old")+" svelte-blvn1i")&&d(e,"class",a)},d(o){o&&P(e)}}}function St(n){let e,i=n[21]+"",t,l,a;return{c(){e=U("text"),t=le(i),this.h()},l(o){e=V(o,"text",{x:!0,y:!0,class:!0,"font-size":!0});var r=$(e);t=re(r,i),r.forEach(P),this.h()},h(){d(e,"x",l=n[27]+n[19]+8),d(e,"y",a=n[20]+2),d(e,"class","satellite-name svelte-blvn1i"),d(e,"font-size","8")},m(o,r){q(o,e,r),T(e,t)},p(o,r){r[0]&1&&i!==(i=o[21]+"")&&Ee(t,i),r[0]&1&&l!==(l=o[27]+o[19]+8)&&d(e,"x",l),r[0]&1&&a!==(a=o[20]+2)&&d(e,"y",a)},d(o){o&&P(e)}}}function wt(n){let e,i;function t(r,h){if(r[26]>0&&r[0][r[26]].name===r[0][r[26]-1].name)return xi;if(r[26]===r[0].length-1)return Ki}let l=t(n),a=l&&l(n),o=n[26]===n[0].length-1&&St(n);return{c(){a&&a.c(),e=oe(),o&&o.c(),i=oe()},l(r){a&&a.l(r),e=oe(),o&&o.l(r),i=oe()},m(r,h){a&&a.m(r,h),q(r,e,h),o&&o.m(r,h),q(r,i,h)},p(r,h){l===(l=t(r))&&a?a.p(r,h):(a&&a.d(1),a=l&&l(r),a&&(a.c(),a.m(e.parentNode,e))),r[26]===r[0].length-1?o?o.p(r,h):(o=St(r),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(r){r&&(P(e),P(i)),a&&a.d(r),o&&o.d(r)}}}function Pt(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),$(e).forEach(P),this.h()},h(){d(e,"d",i=n[11](n[24])),d(e,"class","spoua svelte-blvn1i")},m(t,l){q(t,e,l)},p(t,l){l[0]&2176&&i!==(i=t[11](t[24]))&&d(e,"d",i)},d(t){t&&P(e)}}}function kt(n){let e,i,t,l,a=n[21]+"",o,r,h;return{c(){e=U("circle"),l=U("text"),o=le(a),this.h()},l(g){e=V(g,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),$(e).forEach(P),l=V(g,"text",{x:!0,y:!0,"font-size":!0,class:!0});var u=$(l);o=re(u,a),u.forEach(P),this.h()},h(){d(e,"cx",i=n[19]),d(e,"cy",t=n[20]),d(e,"r",1),d(e,"fill","black"),d(e,"class","svelte-blvn1i"),d(l,"x",r=n[19]+4),d(l,"y",h=n[20]+2),d(l,"font-size","8"),d(l,"class","svelte-blvn1i")},m(g,u){q(g,e,u),q(g,l,u),T(l,o)},p(g,u){u[0]&8&&i!==(i=g[19])&&d(e,"cx",i),u[0]&8&&t!==(t=g[20])&&d(e,"cy",t),u[0]&8&&a!==(a=g[21]+"")&&Ee(o,a),u[0]&8&&r!==(r=g[19]+4)&&d(l,"x",r),u[0]&8&&h!==(h=g[20]+2)&&d(l,"y",h)},d(g){g&&(P(e),P(l))}}}function Mt(n){let e,i=n[19]&&n[20]&&kt(n);return{c(){i&&i.c(),e=oe()},l(t){i&&i.l(t),e=oe()},m(t,l){i&&i.m(t,l),q(t,e,l)},p(t,l){t[19]&&t[20]?i?i.p(t,l):(i=kt(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&P(e),i&&i.d(t)}}}function el(n){let e,i,t,l,a,o,r,h,g,u,f;i=new Ui({props:{currentPoint:n[9]}}),l=new Wi({props:{index:n[10],points:n[8]}}),l.$on("updateIndex",n[13]);let s=n[0].length>1&&pt(n);return u=new Ji({props:{points:n[8],highlighted:n[12]}}),u.$on("updateId",n[14]),{c(){e=J("section"),Fe(i.$$.fragment),t=de(),Fe(l.$$.fragment),a=de(),o=J("article"),r=J("div"),s&&s.c(),g=de(),Fe(u.$$.fragment),this.h()},l(c){e=K(c,"SECTION",{});var p=$(e);He(i.$$.fragment,p),t=ve(p),He(l.$$.fragment,p),p.forEach(P),a=ve(c),o=K(c,"ARTICLE",{class:!0});var E=$(o);r=K(E,"DIV",{class:!0});var S=$(r);s&&s.l(S),S.forEach(P),g=ve(E),He(u.$$.fragment,E),E.forEach(P),this.h()},h(){d(r,"class","svelte-blvn1i"),bt(()=>n[16].call(r)),d(o,"class","svelte-blvn1i")},m(c,p){q(c,e,p),qe(i,e,null),T(e,t),qe(l,e,null),q(c,a,p),q(c,o,p),T(o,r),s&&s.m(r,null),h=Rt(r,n[16].bind(r)),T(o,g),qe(u,o,null),f=!0},p(c,p){const E={};p[0]&512&&(E.currentPoint=c[9]),i.$set(E);const S={};p[0]&1024&&(S.index=c[10]),p[0]&256&&(S.points=c[8]),l.$set(S),c[0].length>1?s?s.p(c,p):(s=pt(c),s.c(),s.m(r,null)):s&&(s.d(1),s=null);const N={};p[0]&256&&(N.points=c[8]),p[0]&4096&&(N.highlighted=c[12]),u.$set(N)},i(c){f||(we(i.$$.fragment,c),we(l.$$.fragment,c),we(u.$$.fragment,c),f=!0)},o(c){Pe(i.$$.fragment,c),Pe(l.$$.fragment,c),Pe(u.$$.fragment,c),f=!1},d(c){c&&(P(e),P(a),P(o)),Ue(i),Ue(l),s&&s.d(),h(),Ue(u)}}}function nl(n,e,i){let t,l,a,{data:o}=e,r=[{lon:-126.3622344,lat:-72.9741938,name:"Maher Island"},{lon:-109.452777777778,lat:-27.2013888888889,name:"Easter Island"},{lon:-124.787888,lat:-24.6807263,name:"Ducie Island"},{lon:-123.3933333,lat:-48.8766667,name:"Point Nemo"}],h=[],g=[],u=[],f=[],s=[],c=[],p=null,E=0,S,N;At(async()=>{const k=Fi().rotate([123,48]).scale(260).precision(1).clipAngle(100).translate([l/2,a/2]);i(11,N=Ni().projection(k));try{const z=await fetch("world.json").then(y=>y.json()),R=await fetch("EEZ_land_v2_201410.json").then(y=>y.json()),D=await fetch("contour.json").then(y=>y.json()),I=await fetch("spoua.json").then(y=>y.json());i(4,h=Ze(z,z.objects.land).features),i(5,g=Ze(R,R.objects.EEZ_land_v2_201410).features),i(6,u=Ze(D,D.objects.collection).features),i(7,f=Ze(I,I.objects.spoua).features),i(8,s=o.map(y=>{const[W,C]=k([y.lon,y.lat]);return{cx:W,cy:C,name:y.satellite_name,year:y.satellite_decay,r:y.rcs}}).filter(y=>!isNaN(y.cx)&&!isNaN(y.cy))),i(3,r=r.map(y=>{const[W,C]=k([y.lon,y.lat]);return{cx:W,cy:C,name:y.name}})),M()}catch(z){console.error("Error loading or processing data:",z)}});const M=()=>{S&&clearInterval(S),i(10,E=0),i(0,c=[]),S=setInterval(()=>{E<s.length?(i(0,c=[...c,s[E]]),i(9,p=s[E]),i(10,E+=1)):clearInterval(S)},500)},b=k=>{i(10,E=k.detail),i(0,c=s.slice(0,E+1)),i(9,p=c[c.length-1]),i(12,t=s[E+1])},w=k=>{i(10,E=s.findIndex(z=>z.name==k.detail.name&&z.year==k.detail.year)),i(0,c=s.slice(0,E+1))};function A(){l=this.clientWidth,a=this.clientHeight,i(1,l),i(2,a)}return n.$$set=k=>{"data"in k&&i(15,o=k.data)},n.$$.update=()=>{n.$$.dirty[0]&1&&i(12,t=c.slice(-1)[0])},[c,l,a,r,h,g,u,f,s,p,E,N,t,b,w,o,A]}let tl=class extends Le{constructor(e){super(),Te(this,e,nl,el,ze,{data:15},null,[-1,-1])}};function il(n){let e,i,t,l;return i=new tl({props:{data:n[0]}}),{c(){e=J("article"),Fe(i.$$.fragment),this.h()},l(a){e=K(a,"ARTICLE",{class:!0});var o=$(e);He(i.$$.fragment,o),o.forEach(P),this.h()},h(){d(e,"class","svelte-s6k1h8"),bt(()=>n[3].call(e))},m(a,o){q(a,e,o),qe(i,e,null),t=Rt(e,n[3].bind(e)),l=!0},p(a,o){const r={};o&1&&(r.data=a[0]),i.$set(r)},i(a){l||(we(i.$$.fragment,a),l=!0)},o(a){Pe(i.$$.fragment,a),l=!1},d(a){a&&P(e),Ue(i),t()}}}function ll(n){let e,i="Loading...";return{c(){e=J("p"),e.textContent=i,this.h()},l(t){e=K(t,"P",{class:!0,"data-svelte-h":!0}),An(e)!=="svelte-qdsr2u"&&(e.textContent=i),this.h()},h(){d(e,"class","svelte-s6k1h8")},m(t,l){q(t,e,l)},p:he,i:he,o:he,d(t){t&&P(e)}}}function rl(n){let e,i,t,l;const a=[ll,il],o=[];function r(h,g){return h[0].length===0?0:1}return e=r(n),i=o[e]=a[e](n),{c(){i.c(),t=oe()},l(h){i.l(h),t=oe()},m(h,g){o[e].m(h,g),q(h,t,g),l=!0},p(h,[g]){let u=e;e=r(h),e===u?o[e].p(h,g):(Yt(),Pe(o[u],1,1,()=>{o[u]=null}),Xt(),i=o[e],i?i.p(h,g):(i=o[e]=a[e](h),i.c()),we(i,1),i.m(t.parentNode,t))},i(h){l||(we(i),l=!0)},o(h){Pe(i),l=!1},d(h){h&&P(t),o[e].d(h)}}}function ol(n,e,i){let t=[],l,a;At(async()=>{const h=await(await fetch("data.json")).json(),g=Math.min(...h.map(f=>f.rcs)),u=Math.max(...h.map(f=>f.rcs));i(0,t=h.map(f=>({...f,rcs:1+(f.rcs-g)*19/(u-g)})))});function o(){l=this.clientWidth,a=this.clientHeight,i(1,l),i(2,a)}return[t,l,a,o]}class fl extends Le{constructor(e){super(),Te(this,e,ol,rl,ze,{})}}export{fl as component};
