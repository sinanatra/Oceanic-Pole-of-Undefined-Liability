import{s as Ce,e as K,b as ve,t as le,d as x,f as O,O as An,j as me,h as re,i as P,v as m,k as j,l as q,m as we,n as pe,w as Ze,P as In,Q as kt,R as Tn,S as Ee,T as ce,r as Rt,U as V,V as G,p as oe,x as Wt,F as Zt,W as Yt}from"../chunks/scheduler.Df9TYcxE.js";import{S as qe,i as Le,b as He,d as je,m as Ue,t as Pe,a as Me,e as Ve,c as Xt,g as Qt}from"../chunks/index.DN6lcf4c.js";function ee(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Jt(n){return n}function Kt(n){if(n==null)return Jt;var e,i,t=n.scale[0],l=n.scale[1],r=n.translate[0],o=n.translate[1];return function(c,f){f||(e=i=0);var h=2,a=c.length,s=new Array(a);for(s[0]=(e+=c[0])*t+r,s[1]=(i+=c[1])*l+o;h<a;)s[h]=c[h],++h;return s}}function xt(n,e){for(var i,t=n.length,l=t-e;l<--t;)i=n[l],n[l++]=n[t],n[t]=i}function Ye(n,e){return typeof e=="string"&&(e=n.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(i){return On(n,i)})}:On(n,e)}function On(n,e){var i=e.id,t=e.bbox,l=e.properties==null?{}:e.properties,r=ei(n,e);return i==null&&t==null?{type:"Feature",properties:l,geometry:r}:t==null?{type:"Feature",id:i,properties:l,geometry:r}:{type:"Feature",id:i,bbox:t,properties:l,geometry:r}}function ei(n,e){var i=Kt(n.transform),t=n.arcs;function l(a,s){s.length&&s.pop();for(var u=t[a<0?~a:a],g=0,p=u.length;g<p;++g)s.push(i(u[g],g));a<0&&xt(s,p)}function r(a){return i(a)}function o(a){for(var s=[],u=0,g=a.length;u<g;++u)l(a[u],s);return s.length<2&&s.push(s[0]),s}function c(a){for(var s=o(a);s.length<4;)s.push(s[0]);return s}function f(a){return a.map(c)}function h(a){var s=a.type,u;switch(s){case"GeometryCollection":return{type:s,geometries:a.geometries.map(h)};case"Point":u=r(a.coordinates);break;case"MultiPoint":u=a.coordinates.map(r);break;case"LineString":u=o(a.arcs);break;case"MultiLineString":u=a.arcs.map(o);break;case"Polygon":u=f(a.arcs);break;case"MultiPolygon":u=a.arcs.map(f);break;default:return null}return{type:s,coordinates:u}}return h(e)}class Ne{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let t=0;for(let l=0;l<this._n&&l<32;l++){const r=i[l],o=e+r,c=Math.abs(e)<Math.abs(r)?e-(o-r):r-(o-e);c&&(i[t++]=c),e=o}return i[t]=e,this._n=t+1,this}valueOf(){const e=this._partials;let i=this._n,t,l,r,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,l=e[--i],o=t+l,r=l-(o-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(l=r*2,t=o+l,l==t-o&&(o=t))}return o}}function*ni(n){for(const e of n)yield*e}function At(n){return Array.from(ni(n))}var U=1e-6,ti=1e-12,F=Math.PI,ae=F/2,$n=F/4,ue=F*2,de=180/F,ne=F/180,Q=Math.abs,ii=Math.atan,Ie=Math.atan2,Y=Math.cos,W=Math.sin,li=Math.sign||function(n){return n>0?1:n<0?-1:0},Se=Math.sqrt;function It(n){return n>1?0:n<-1?F:Math.acos(n)}function ze(n){return n>1?ae:n<-1?-ae:Math.asin(n)}function se(){}function en(n,e){n&&Fn.hasOwnProperty(n.type)&&Fn[n.type](n,e)}var Bn={Feature:function(n,e){en(n.geometry,e)},FeatureCollection:function(n,e){for(var i=n.features,t=-1,l=i.length;++t<l;)en(i[t].geometry,e)}},Fn={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)n=i[t],e.point(n[0],n[1],n[2])},LineString:function(n,e){pn(n.coordinates,e,0)},MultiLineString:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)pn(i[t],e,0)},Polygon:function(n,e){Hn(n.coordinates,e)},MultiPolygon:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)Hn(i[t],e)},GeometryCollection:function(n,e){for(var i=n.geometries,t=-1,l=i.length;++t<l;)en(i[t],e)}};function pn(n,e,i){var t=-1,l=n.length-i,r;for(e.lineStart();++t<l;)r=n[t],e.point(r[0],r[1],r[2]);e.lineEnd()}function Hn(n,e){var i=-1,t=n.length;for(e.polygonStart();++i<t;)pn(n[i],e,1);e.polygonEnd()}function Re(n,e){n&&Bn.hasOwnProperty(n.type)?Bn[n.type](n,e):en(n,e)}function gn(n){return[Ie(n[1],n[0]),ze(n[2])]}function De(n){var e=n[0],i=n[1],t=Y(i);return[t*Y(e),t*W(e),W(i)]}function Xe(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function nn(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function un(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function Qe(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function dn(n){var e=Se(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function _n(n,e){function i(t,l){return t=n(t,l),e(t[0],t[1])}return n.invert&&e.invert&&(i.invert=function(t,l){return t=e.invert(t,l),t&&n.invert(t[0],t[1])}),i}function vn(n,e){return Q(n)>F&&(n-=Math.round(n/ue)*ue),[n,e]}vn.invert=vn;function ri(n,e,i){return(n%=ue)?e||i?_n(Un(n),Vn(e,i)):Un(n):e||i?Vn(e,i):vn}function jn(n){return function(e,i){return e+=n,Q(e)>F&&(e-=Math.round(e/ue)*ue),[e,i]}}function Un(n){var e=jn(n);return e.invert=jn(-n),e}function Vn(n,e){var i=Y(n),t=W(n),l=Y(e),r=W(e);function o(c,f){var h=Y(f),a=Y(c)*h,s=W(c)*h,u=W(f),g=u*i+a*t;return[Ie(s*l-g*r,a*i-u*t),ze(g*l+s*r)]}return o.invert=function(c,f){var h=Y(f),a=Y(c)*h,s=W(c)*h,u=W(f),g=u*l-s*r;return[Ie(s*l+u*r,a*i+g*t),ze(g*i-a*t)]},o}function oi(n,e,i,t,l,r){if(i){var o=Y(e),c=W(e),f=t*i;l==null?(l=e+t*ue,r=e-f/2):(l=Gn(o,l),r=Gn(o,r),(t>0?l<r:l>r)&&(l+=t*ue));for(var h,a=l;t>0?a>r:a<r;a-=f)h=gn([o,-c*Y(a),-c*W(a)]),n.point(h[0],h[1])}}function Gn(n,e){e=De(e),e[0]-=n,dn(e);var i=It(-e[1]);return((-e[2]<0?-i:i)+ue-U)%ue}function zt(){var n=[],e;return{point:function(i,t,l){e.push([i,t,l])},lineStart:function(){n.push(e=[])},lineEnd:se,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var i=n;return n=[],e=null,i}}}function xe(n,e){return Q(n[0]-e[0])<U&&Q(n[1]-e[1])<U}function Je(n,e,i,t){this.x=n,this.z=e,this.o=i,this.e=t,this.v=!1,this.n=this.p=null}function Dt(n,e,i,t,l){var r=[],o=[],c,f;if(n.forEach(function(p){if(!((w=p.length-1)<=0)){var w,S=p[0],M=p[w],y;if(xe(S,M)){if(!S[2]&&!M[2]){for(l.lineStart(),c=0;c<w;++c)l.point((S=p[c])[0],S[1]);l.lineEnd();return}M[0]+=2*U}r.push(y=new Je(S,p,null,!0)),o.push(y.o=new Je(S,null,y,!1)),r.push(y=new Je(M,p,null,!1)),o.push(y.o=new Je(M,null,y,!0))}}),!!r.length){for(o.sort(e),Wn(r),Wn(o),c=0,f=o.length;c<f;++c)o[c].e=i=!i;for(var h=r[0],a,s;;){for(var u=h,g=!0;u.v;)if((u=u.n)===h)return;a=u.z,l.lineStart();do{if(u.v=u.o.v=!0,u.e){if(g)for(c=0,f=a.length;c<f;++c)l.point((s=a[c])[0],s[1]);else t(u.x,u.n.x,1,l);u=u.n}else{if(g)for(a=u.p.z,c=a.length-1;c>=0;--c)l.point((s=a[c])[0],s[1]);else t(u.x,u.p.x,-1,l);u=u.p}u=u.o,a=u.z,g=!g}while(!u.v);l.lineEnd()}}}function Wn(n){if(e=n.length){for(var e,i=0,t=n[0],l;++i<e;)t.n=l=n[i],l.p=t,t=l;t.n=l=n[0],l.p=t}}function cn(n){return Q(n[0])<=F?n[0]:li(n[0])*((Q(n[0])+F)%ue-F)}function ai(n,e){var i=cn(e),t=e[1],l=W(t),r=[W(i),-Y(i),0],o=0,c=0,f=new Ne;l===1?t=ae+U:l===-1&&(t=-ae-U);for(var h=0,a=n.length;h<a;++h)if(u=(s=n[h]).length)for(var s,u,g=s[u-1],p=cn(g),w=g[1]/2+$n,S=W(w),M=Y(w),y=0;y<u;++y,p=E,S=R,M=$,g=A){var A=s[y],E=cn(A),z=A[1]/2+$n,R=W(z),$=Y(z),D=E-p,I=D>=0?1:-1,b=I*D,N=b>F,Z=S*R;if(f.add(Ie(Z*I*W(b),M*$+Z*Y(b))),o+=N?D+I*ue:D,N^p>=i^E>=i){var k=nn(De(g),De(A));dn(k);var T=nn(r,k);dn(T);var _=(N^D>=0?-1:1)*ze(T[2]);(t>_||t===_&&(k[0]||k[1]))&&(c+=N^D>=0?1:-1)}}return(o<-U||o<U&&f<-ti)^c&1}function bt(n,e,i,t){return function(l){var r=e(l),o=zt(),c=e(o),f=!1,h,a,s,u={point:g,lineStart:w,lineEnd:S,polygonStart:function(){u.point=M,u.lineStart=y,u.lineEnd=A,a=[],h=[]},polygonEnd:function(){u.point=g,u.lineStart=w,u.lineEnd=S,a=At(a);var E=ai(h,t);a.length?(f||(l.polygonStart(),f=!0),Dt(a,ui,E,i,l)):E&&(f||(l.polygonStart(),f=!0),l.lineStart(),i(null,null,1,l),l.lineEnd()),f&&(l.polygonEnd(),f=!1),a=h=null},sphere:function(){l.polygonStart(),l.lineStart(),i(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function g(E,z){n(E,z)&&l.point(E,z)}function p(E,z){r.point(E,z)}function w(){u.point=p,r.lineStart()}function S(){u.point=g,r.lineEnd()}function M(E,z){s.push([E,z]),c.point(E,z)}function y(){c.lineStart(),s=[]}function A(){M(s[0][0],s[0][1]),c.lineEnd();var E=c.clean(),z=o.result(),R,$=z.length,D,I,b;if(s.pop(),h.push(s),s=null,!!$){if(E&1){if(I=z[0],(D=I.length-1)>0){for(f||(l.polygonStart(),f=!0),l.lineStart(),R=0;R<D;++R)l.point((b=I[R])[0],b[1]);l.lineEnd()}return}$>1&&E&2&&z.push(z.pop().concat(z.shift())),a.push(z.filter(si))}}return u}}function si(n){return n.length>1}function ui(n,e){return((n=n.x)[0]<0?n[1]-ae-U:ae-n[1])-((e=e.x)[0]<0?e[1]-ae-U:ae-e[1])}const Zn=bt(function(){return!0},ci,hi,[-F,-ae]);function ci(n){var e=NaN,i=NaN,t=NaN,l;return{lineStart:function(){n.lineStart(),l=1},point:function(r,o){var c=r>0?F:-F,f=Q(r-e);Q(f-F)<U?(n.point(e,i=(i+o)/2>0?ae:-ae),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(c,i),n.point(r,i),l=0):t!==c&&f>=F&&(Q(e-t)<U&&(e-=t*U),Q(r-c)<U&&(r-=c*U),i=fi(e,i,r,o),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(c,i),l=0),n.point(e=r,i=o),t=c},lineEnd:function(){n.lineEnd(),e=i=NaN},clean:function(){return 2-l}}}function fi(n,e,i,t){var l,r,o=W(n-i);return Q(o)>U?ii((W(e)*(r=Y(t))*W(i)-W(t)*(l=Y(e))*W(n))/(l*r*o)):(e+t)/2}function hi(n,e,i,t){var l;if(n==null)l=i*ae,t.point(-F,l),t.point(0,l),t.point(F,l),t.point(F,0),t.point(F,-l),t.point(0,-l),t.point(-F,-l),t.point(-F,0),t.point(-F,l);else if(Q(n[0]-e[0])>U){var r=n[0]<e[0]?F:-F;l=i*r/2,t.point(-r,l),t.point(0,l),t.point(r,l)}else t.point(e[0],e[1])}function pi(n){var e=Y(n),i=2*ne,t=e>0,l=Q(e)>U;function r(a,s,u,g){oi(g,n,i,u,a,s)}function o(a,s){return Y(a)*Y(s)>e}function c(a){var s,u,g,p,w;return{lineStart:function(){p=g=!1,w=1},point:function(S,M){var y=[S,M],A,E=o(S,M),z=t?E?0:h(S,M):E?h(S+(S<0?F:-F),M):0;if(!s&&(p=g=E)&&a.lineStart(),E!==g&&(A=f(s,y),(!A||xe(s,A)||xe(y,A))&&(y[2]=1)),E!==g)w=0,E?(a.lineStart(),A=f(y,s),a.point(A[0],A[1])):(A=f(s,y),a.point(A[0],A[1],2),a.lineEnd()),s=A;else if(l&&s&&t^E){var R;!(z&u)&&(R=f(y,s,!0))&&(w=0,t?(a.lineStart(),a.point(R[0][0],R[0][1]),a.point(R[1][0],R[1][1]),a.lineEnd()):(a.point(R[1][0],R[1][1]),a.lineEnd(),a.lineStart(),a.point(R[0][0],R[0][1],3)))}E&&(!s||!xe(s,y))&&a.point(y[0],y[1]),s=y,g=E,u=z},lineEnd:function(){g&&a.lineEnd(),s=null},clean:function(){return w|(p&&g)<<1}}}function f(a,s,u){var g=De(a),p=De(s),w=[1,0,0],S=nn(g,p),M=Xe(S,S),y=S[0],A=M-y*y;if(!A)return!u&&a;var E=e*M/A,z=-e*y/A,R=nn(w,S),$=Qe(w,E),D=Qe(S,z);un($,D);var I=R,b=Xe($,I),N=Xe(I,I),Z=b*b-N*(Xe($,$)-1);if(!(Z<0)){var k=Se(Z),T=Qe(I,(-b-k)/N);if(un(T,$),T=gn(T),!u)return T;var _=a[0],C=s[0],B=a[1],v=s[1],L;C<_&&(L=_,_=C,C=L);var d=C-_,H=Q(d-F)<U,J=H||d<U;if(!H&&v<B&&(L=B,B=v,v=L),J?H?B+v>0^T[1]<(Q(T[0]-_)<U?B:v):B<=T[1]&&T[1]<=v:d>F^(_<=T[0]&&T[0]<=C)){var te=Qe(I,(-b+k)/N);return un(te,$),[T,gn(te)]}}}function h(a,s){var u=t?n:F-n,g=0;return a<-u?g|=1:a>u&&(g|=2),s<-u?g|=4:s>u&&(g|=8),g}return bt(o,c,r,t?[0,-n]:[-F,n-F])}function gi(n,e,i,t,l,r){var o=n[0],c=n[1],f=e[0],h=e[1],a=0,s=1,u=f-o,g=h-c,p;if(p=i-o,!(!u&&p>0)){if(p/=u,u<0){if(p<a)return;p<s&&(s=p)}else if(u>0){if(p>s)return;p>a&&(a=p)}if(p=l-o,!(!u&&p<0)){if(p/=u,u<0){if(p>s)return;p>a&&(a=p)}else if(u>0){if(p<a)return;p<s&&(s=p)}if(p=t-c,!(!g&&p>0)){if(p/=g,g<0){if(p<a)return;p<s&&(s=p)}else if(g>0){if(p>s)return;p>a&&(a=p)}if(p=r-c,!(!g&&p<0)){if(p/=g,g<0){if(p>s)return;p>a&&(a=p)}else if(g>0){if(p<a)return;p<s&&(s=p)}return a>0&&(n[0]=o+a*u,n[1]=c+a*g),s<1&&(e[0]=o+s*u,e[1]=c+s*g),!0}}}}}var Te=1e9,Ke=-Te;function di(n,e,i,t){function l(h,a){return n<=h&&h<=i&&e<=a&&a<=t}function r(h,a,s,u){var g=0,p=0;if(h==null||(g=o(h,s))!==(p=o(a,s))||f(h,a)<0^s>0)do u.point(g===0||g===3?n:i,g>1?t:e);while((g=(g+s+4)%4)!==p);else u.point(a[0],a[1])}function o(h,a){return Q(h[0]-n)<U?a>0?0:3:Q(h[0]-i)<U?a>0?2:1:Q(h[1]-e)<U?a>0?1:0:a>0?3:2}function c(h,a){return f(h.x,a.x)}function f(h,a){var s=o(h,1),u=o(a,1);return s!==u?s-u:s===0?a[1]-h[1]:s===1?h[0]-a[0]:s===2?h[1]-a[1]:a[0]-h[0]}return function(h){var a=h,s=zt(),u,g,p,w,S,M,y,A,E,z,R,$={point:D,lineStart:Z,lineEnd:k,polygonStart:b,polygonEnd:N};function D(_,C){l(_,C)&&a.point(_,C)}function I(){for(var _=0,C=0,B=g.length;C<B;++C)for(var v=g[C],L=1,d=v.length,H=v[0],J,te,ye=H[0],ge=H[1];L<d;++L)J=ye,te=ge,H=v[L],ye=H[0],ge=H[1],te<=t?ge>t&&(ye-J)*(t-te)>(ge-te)*(n-J)&&++_:ge<=t&&(ye-J)*(t-te)<(ge-te)*(n-J)&&--_;return _}function b(){a=s,u=[],g=[],R=!0}function N(){var _=I(),C=R&&_,B=(u=At(u)).length;(C||B)&&(h.polygonStart(),C&&(h.lineStart(),r(null,null,1,h),h.lineEnd()),B&&Dt(u,c,_,r,h),h.polygonEnd()),a=h,u=g=p=null}function Z(){$.point=T,g&&g.push(p=[]),z=!0,E=!1,y=A=NaN}function k(){u&&(T(w,S),M&&E&&s.rejoin(),u.push(s.result())),$.point=D,E&&a.lineEnd()}function T(_,C){var B=l(_,C);if(g&&p.push([_,C]),z)w=_,S=C,M=B,z=!1,B&&(a.lineStart(),a.point(_,C));else if(B&&E)a.point(_,C);else{var v=[y=Math.max(Ke,Math.min(Te,y)),A=Math.max(Ke,Math.min(Te,A))],L=[_=Math.max(Ke,Math.min(Te,_)),C=Math.max(Ke,Math.min(Te,C))];gi(v,L,n,e,i,t)?(E||(a.lineStart(),a.point(v[0],v[1])),a.point(L[0],L[1]),B||a.lineEnd(),R=!1):B&&(a.lineStart(),a.point(_,C),R=!1)}y=_,A=C,E=B}return $}}const mn=n=>n;var fn=new Ne,En=new Ne,Ct,qt,wn,Sn,_e={point:se,lineStart:se,lineEnd:se,polygonStart:function(){_e.lineStart=_i,_e.lineEnd=mi},polygonEnd:function(){_e.lineStart=_e.lineEnd=_e.point=se,fn.add(Q(En)),En=new Ne},result:function(){var n=fn/2;return fn=new Ne,n}};function _i(){_e.point=vi}function vi(n,e){_e.point=Lt,Ct=wn=n,qt=Sn=e}function Lt(n,e){En.add(Sn*n-wn*e),wn=n,Sn=e}function mi(){Lt(Ct,qt)}var be=1/0,tn=be,Ge=-be,ln=Ge,rn={point:Ei,lineStart:se,lineEnd:se,polygonStart:se,polygonEnd:se,result:function(){var n=[[be,tn],[Ge,ln]];return Ge=ln=-(tn=be=1/0),n}};function Ei(n,e){n<be&&(be=n),n>Ge&&(Ge=n),e<tn&&(tn=e),e>ln&&(ln=e)}var yn=0,Pn=0,Oe=0,on=0,an=0,Ae=0,Mn=0,Nn=0,$e=0,Tt,Ot,fe,he,ie={point:ke,lineStart:Yn,lineEnd:Xn,polygonStart:function(){ie.lineStart=yi,ie.lineEnd=Pi},polygonEnd:function(){ie.point=ke,ie.lineStart=Yn,ie.lineEnd=Xn},result:function(){var n=$e?[Mn/$e,Nn/$e]:Ae?[on/Ae,an/Ae]:Oe?[yn/Oe,Pn/Oe]:[NaN,NaN];return yn=Pn=Oe=on=an=Ae=Mn=Nn=$e=0,n}};function ke(n,e){yn+=n,Pn+=e,++Oe}function Yn(){ie.point=wi}function wi(n,e){ie.point=Si,ke(fe=n,he=e)}function Si(n,e){var i=n-fe,t=e-he,l=Se(i*i+t*t);on+=l*(fe+n)/2,an+=l*(he+e)/2,Ae+=l,ke(fe=n,he=e)}function Xn(){ie.point=ke}function yi(){ie.point=Mi}function Pi(){$t(Tt,Ot)}function Mi(n,e){ie.point=$t,ke(Tt=fe=n,Ot=he=e)}function $t(n,e){var i=n-fe,t=e-he,l=Se(i*i+t*t);on+=l*(fe+n)/2,an+=l*(he+e)/2,Ae+=l,l=he*n-fe*e,Mn+=l*(fe+n),Nn+=l*(he+e),$e+=l*3,ke(fe=n,he=e)}function Bt(n){this._context=n}Bt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,ue);break}}},result:se};var kn=new Ne,hn,Ft,Ht,Be,Fe,We={point:se,lineStart:function(){We.point=Ni},lineEnd:function(){hn&&jt(Ft,Ht),We.point=se},polygonStart:function(){hn=!0},polygonEnd:function(){hn=null},result:function(){var n=+kn;return kn=new Ne,n}};function Ni(n,e){We.point=jt,Ft=Be=n,Ht=Fe=e}function jt(n,e){Be-=n,Fe-=e,kn.add(Se(Be*Be+Fe*Fe)),Be=n,Fe=e}let Qn,sn,Jn,Kn;class xn{constructor(e){this._append=e==null?Ut:ki(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,i){switch(this._point){case 0:{this._append`M${e},${i}`,this._point=1;break}case 1:{this._append`L${e},${i}`;break}default:{if(this._append`M${e},${i}`,this._radius!==Jn||this._append!==sn){const t=this._radius,l=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Jn=t,sn=this._append,Kn=this._,this._=l}this._+=Kn;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Ut(n){let e=1;this._+=n[0];for(const i=n.length;e<i;++e)this._+=arguments[e]+n[e]}function ki(n){const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);if(e>15)return Ut;if(e!==Qn){const i=10**e;Qn=e,sn=function(l){let r=1;this._+=l[0];for(const o=l.length;r<o;++r)this._+=Math.round(arguments[r]*i)/i+l[r]}}return sn}function Ri(n,e){let i=3,t=4.5,l,r;function o(c){return c&&(typeof t=="function"&&r.pointRadius(+t.apply(this,arguments)),Re(c,l(r))),r.result()}return o.area=function(c){return Re(c,l(_e)),_e.result()},o.measure=function(c){return Re(c,l(We)),We.result()},o.bounds=function(c){return Re(c,l(rn)),rn.result()},o.centroid=function(c){return Re(c,l(ie)),ie.result()},o.projection=function(c){return arguments.length?(l=c==null?(n=null,mn):(n=c).stream,o):n},o.context=function(c){return arguments.length?(r=c==null?(e=null,new xn(i)):new Bt(e=c),typeof t!="function"&&r.pointRadius(t),o):e},o.pointRadius=function(c){return arguments.length?(t=typeof c=="function"?c:(r.pointRadius(+c),+c),o):t},o.digits=function(c){if(!arguments.length)return i;if(c==null)i=null;else{const f=Math.floor(c);if(!(f>=0))throw new RangeError(`invalid digits: ${c}`);i=f}return e===null&&(r=new xn(i)),o},o.projection(n).digits(i).context(e)}function zn(n){return function(e){var i=new Rn;for(var t in n)i[t]=n[t];return i.stream=e,i}}function Rn(){}Rn.prototype={constructor:Rn,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Dn(n,e,i){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),Re(i,n.stream(rn)),e(rn.result()),t!=null&&n.clipExtent(t),n}function Vt(n,e,i){return Dn(n,function(t){var l=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(l/(t[1][0]-t[0][0]),r/(t[1][1]-t[0][1])),c=+e[0][0]+(l-o*(t[1][0]+t[0][0]))/2,f=+e[0][1]+(r-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([c,f])},i)}function Ai(n,e,i){return Vt(n,[[0,0],e],i)}function Ii(n,e,i){return Dn(n,function(t){var l=+e,r=l/(t[1][0]-t[0][0]),o=(l-r*(t[1][0]+t[0][0]))/2,c=-r*t[0][1];n.scale(150*r).translate([o,c])},i)}function zi(n,e,i){return Dn(n,function(t){var l=+e,r=l/(t[1][1]-t[0][1]),o=-r*t[0][0],c=(l-r*(t[1][1]+t[0][1]))/2;n.scale(150*r).translate([o,c])},i)}var et=16,Di=Y(30*ne);function nt(n,e){return+e?Ci(n,e):bi(n)}function bi(n){return zn({point:function(e,i){e=n(e,i),this.stream.point(e[0],e[1])}})}function Ci(n,e){function i(t,l,r,o,c,f,h,a,s,u,g,p,w,S){var M=h-t,y=a-l,A=M*M+y*y;if(A>4*e&&w--){var E=o+u,z=c+g,R=f+p,$=Se(E*E+z*z+R*R),D=ze(R/=$),I=Q(Q(R)-1)<U||Q(r-s)<U?(r+s)/2:Ie(z,E),b=n(I,D),N=b[0],Z=b[1],k=N-t,T=Z-l,_=y*k-M*T;(_*_/A>e||Q((M*k+y*T)/A-.5)>.3||o*u+c*g+f*p<Di)&&(i(t,l,r,o,c,f,N,Z,I,E/=$,z/=$,R,w,S),S.point(N,Z),i(N,Z,I,E,z,R,h,a,s,u,g,p,w,S))}}return function(t){var l,r,o,c,f,h,a,s,u,g,p,w,S={point:M,lineStart:y,lineEnd:E,polygonStart:function(){t.polygonStart(),S.lineStart=z},polygonEnd:function(){t.polygonEnd(),S.lineStart=y}};function M(D,I){D=n(D,I),t.point(D[0],D[1])}function y(){s=NaN,S.point=A,t.lineStart()}function A(D,I){var b=De([D,I]),N=n(D,I);i(s,u,a,g,p,w,s=N[0],u=N[1],a=D,g=b[0],p=b[1],w=b[2],et,t),t.point(s,u)}function E(){S.point=M,t.lineEnd()}function z(){y(),S.point=R,S.lineEnd=$}function R(D,I){A(l=D,I),r=s,o=u,c=g,f=p,h=w,S.point=A}function $(){i(s,u,a,g,p,w,r,o,l,c,f,h,et,t),S.lineEnd=E,E()}return S}}var qi=zn({point:function(n,e){this.stream.point(n*ne,e*ne)}});function Li(n){return zn({point:function(e,i){var t=n(e,i);return this.stream.point(t[0],t[1])}})}function Ti(n,e,i,t,l){function r(o,c){return o*=t,c*=l,[e+n*o,i-n*c]}return r.invert=function(o,c){return[(o-e)/n*t,(i-c)/n*l]},r}function tt(n,e,i,t,l,r){if(!r)return Ti(n,e,i,t,l);var o=Y(r),c=W(r),f=o*n,h=c*n,a=o/n,s=c/n,u=(c*i-o*e)/n,g=(c*e+o*i)/n;function p(w,S){return w*=t,S*=l,[f*w-h*S+e,i-h*w-f*S]}return p.invert=function(w,S){return[t*(a*w-s*S+u),l*(g-s*w-a*S)]},p}function Oi(n){return $i(function(){return n})()}function $i(n){var e,i=150,t=480,l=250,r=0,o=0,c=0,f=0,h=0,a,s=0,u=1,g=1,p=null,w=Zn,S=null,M,y,A,E=mn,z=.5,R,$,D,I,b;function N(_){return D(_[0]*ne,_[1]*ne)}function Z(_){return _=D.invert(_[0],_[1]),_&&[_[0]*de,_[1]*de]}N.stream=function(_){return I&&b===_?I:I=qi(Li(a)(w(R(E(b=_)))))},N.preclip=function(_){return arguments.length?(w=_,p=void 0,T()):w},N.postclip=function(_){return arguments.length?(E=_,S=M=y=A=null,T()):E},N.clipAngle=function(_){return arguments.length?(w=+_?pi(p=_*ne):(p=null,Zn),T()):p*de},N.clipExtent=function(_){return arguments.length?(E=_==null?(S=M=y=A=null,mn):di(S=+_[0][0],M=+_[0][1],y=+_[1][0],A=+_[1][1]),T()):S==null?null:[[S,M],[y,A]]},N.scale=function(_){return arguments.length?(i=+_,k()):i},N.translate=function(_){return arguments.length?(t=+_[0],l=+_[1],k()):[t,l]},N.center=function(_){return arguments.length?(r=_[0]%360*ne,o=_[1]%360*ne,k()):[r*de,o*de]},N.rotate=function(_){return arguments.length?(c=_[0]%360*ne,f=_[1]%360*ne,h=_.length>2?_[2]%360*ne:0,k()):[c*de,f*de,h*de]},N.angle=function(_){return arguments.length?(s=_%360*ne,k()):s*de},N.reflectX=function(_){return arguments.length?(u=_?-1:1,k()):u<0},N.reflectY=function(_){return arguments.length?(g=_?-1:1,k()):g<0},N.precision=function(_){return arguments.length?(R=nt($,z=_*_),T()):Se(z)},N.fitExtent=function(_,C){return Vt(N,_,C)},N.fitSize=function(_,C){return Ai(N,_,C)},N.fitWidth=function(_,C){return Ii(N,_,C)},N.fitHeight=function(_,C){return zi(N,_,C)};function k(){var _=tt(i,0,0,u,g,s).apply(null,e(r,o)),C=tt(i,t-_[0],l-_[1],u,g,s);return a=ri(c,f,h),$=_n(e,C),D=_n(a,$),R=nt($,z),T()}function T(){return I=b=null,N}return function(){return e=n.apply(this,arguments),N.invert=e.invert&&Z,k()}}function Bi(n){return function(e,i){var t=Y(e),l=Y(i),r=n(t*l);return r===1/0?[2,0]:[r*l*W(e),r*W(i)]}}function Fi(n){return function(e,i){var t=Se(e*e+i*i),l=n(t),r=W(l),o=Y(l);return[Ie(e*r,t*o),ze(t&&i*r/t)]}}var Gt=Bi(function(n){return(n=It(n))&&n/W(n)});Gt.invert=Fi(function(n){return n});function Hi(){return Oi(Gt).scale(79.4188).clipAngle(180-.001)}function ji(n){var w,S;let e,i,t=`<p class="svelte-wlznm4">An interactive visualization of all the space debris that reenters
            the atmosphere in the South Pacific Ocean. From 1960 until today.</p>`,l,r,o,c,f=((w=n[0])==null?void 0:w.name)+"",h,a,s,u,g=((S=n[0])==null?void 0:S.year)+"",p;return{c(){e=K("div"),i=K("div"),i.innerHTML=t,l=ve(),r=K("div"),o=K("span"),c=le("Satellite: "),h=le(f),a=ve(),s=K("span"),u=le("Year: "),p=le(g),this.h()},l(M){e=x(M,"DIV",{class:!0});var y=O(e);i=x(y,"DIV",{class:!0,"data-svelte-h":!0}),An(i)!=="svelte-9fj3n4"&&(i.innerHTML=t),l=me(y),r=x(y,"DIV",{class:!0});var A=O(r);o=x(A,"SPAN",{class:!0});var E=O(o);c=re(E,"Satellite: "),h=re(E,f),E.forEach(P),a=me(A),s=x(A,"SPAN",{class:!0});var z=O(s);u=re(z,"Year: "),p=re(z,g),z.forEach(P),A.forEach(P),y.forEach(P),this.h()},h(){m(i,"class","description svelte-wlznm4"),m(o,"class","svelte-wlznm4"),m(s,"class","svelte-wlznm4"),m(r,"class","satellite-info svelte-wlznm4"),m(e,"class","top-bar svelte-wlznm4")},m(M,y){j(M,e,y),q(e,i),q(e,l),q(e,r),q(r,o),q(o,c),q(o,h),q(r,a),q(r,s),q(s,u),q(s,p)},p(M,[y]){var A,E;y&1&&f!==(f=((A=M[0])==null?void 0:A.name)+"")&&we(h,f),y&1&&g!==(g=((E=M[0])==null?void 0:E.year)+"")&&we(p,g)},i:pe,o:pe,d(M){M&&P(e)}}}function Ui(n,e,i){let{currentPoint:t}=e;return n.$$set=l=>{"currentPoint"in l&&i(0,t=l.currentPoint)},[t]}class Vi extends qe{constructor(e){super(),Le(this,e,Ui,ji,Ce,{currentPoint:0})}}function Gi(n){let e,i,t,l,r,o;return{c(){e=K("div"),i=K("div"),t=ve(),l=K("div"),this.h()},l(c){e=x(c,"DIV",{class:!0});var f=O(e);i=x(f,"DIV",{class:!0,style:!0}),O(i).forEach(P),t=me(f),l=x(f,"DIV",{class:!0,style:!0}),O(l).forEach(P),f.forEach(P),this.h()},h(){m(i,"class","progress svelte-1aifhpe"),Ze(i,"width",(n[0]+1)/n[1].length*100+"%"),m(l,"class","draggable svelte-1aifhpe"),Ze(l,"left",(n[0]+1)/n[1].length*100+"%"),m(e,"class","progress-bar svelte-1aifhpe")},m(c,f){j(c,e,f),q(e,i),q(e,t),q(e,l),r||(o=In(e,"mousedown",n[2]),r=!0)},p(c,[f]){f&3&&Ze(i,"width",(c[0]+1)/c[1].length*100+"%"),f&3&&Ze(l,"left",(c[0]+1)/c[1].length*100+"%")},i:pe,o:pe,d(c){c&&P(e),r=!1,o()}}}function Wi(n,e,i){const t=kt();let{index:l}=e,{points:r}=e;function o(c){const f=c.currentTarget.getBoundingClientRect();let h=c.clientX-f.left;const a=f.width;h<0?h=0:h>a&&(h=a);const s=h/a*100,u=Math.floor(s/100*r.length);t("updateIndex",u)}return n.$$set=c=>{"index"in c&&i(0,l=c.index),"points"in c&&i(1,r=c.points)},[l,r,o]}class Zi extends qe{constructor(e){super(),Le(this,e,Wi,Gi,Ce,{index:0,points:1})}}function Yi(n){let e,i=`<h2 class="svelte-1vdl53p">Colophon</h2> <p class="svelte-1vdl53p">Since space exploration began in the 1950s, the various technologies
        used for launching and carrying out missions have left their mark,
        gradually creating vast fields and layers of debris both in orbit and in
        the Earth&#39;s marine environment.</p> <p class="svelte-1vdl53p">While space debris is mainly associated with the countless pieces
        scattered around the Earth, its re-entry into the atmosphere and its
        possible re-entry into the sometimes deliberately controlled marine
        environment often goes unnoticed. Media portraits deal with the
        phenomenon of falling debris mainly in the context of the mysterious <em>Point Nemo</em>, also known as the <em>spaceship graveyard</em>. However, the romantic
        and antropomorphic concept of technology finding its final resting place
        is misleading and ignores the reality of a chaotic waste dump 4 embedded
        in a complex legal dilemma around environmental damage.</p> <h2 class="svelte-1vdl53p">Map</h2> <p class="svelte-1vdl53p">A timeline visualising all the artificial space objects that fell within
        the South Pacific Ocean Uninhabited Area (SPOUA) from 1959 until now -
        reflecting on the past, present and future presence of space objects in
        marine environments.</p> <p class="svelte-1vdl53p">By geolocating their predicted reentry, the resulting coordinates are
        juxtaposed with the legal limits of coastal states‘ sovereign rights,
        spanning from Exclusive Economic Zones to Navigational Areas.</p> <p class="svelte-1vdl53p">While the first shows the conflicting intersection with the UN Law of
        the Sea and a possible breach thereof, the latter emphasises the
        constant risk of impact that re-entering spacecraft pose to shipping
        routes within the South Pacific Ocean.</p> <h2 class="svelte-1vdl53p">Data</h2> <ol class="svelte-1vdl53p"><li>ESA (European Space Agency)</li> <li>GEBCO (General bathymetric chart of the oceans)</li> <li>Marineregions.org</li> <li>NASA ODPO (Orbital Debris Programme Office)</li> <li>NASA Distance to the Nearest Coast</li> <li>NOAA (National Oceanic and Atmospheric Administration)</li> <li>NORAD (National Oceanic and Atmospheric Administration)</li> <li>CelesTrak</li> <li>USSTRATCOM (United States Strategic Command)</li></ol>`;return{c(){e=K("article"),e.innerHTML=i,this.h()},l(t){e=x(t,"ARTICLE",{class:!0,"data-svelte-h":!0}),An(e)!=="svelte-1bcz6ln"&&(e.innerHTML=i),this.h()},h(){m(e,"class","svelte-1vdl53p")},m(t,l){j(t,e,l)},p:pe,i:pe,o:pe,d(t){t&&P(e)}}}class Xi extends qe{constructor(e){super(),Le(this,e,null,Yi,Ce,{})}}function it(n,e,i){const t=n.slice();return t[9]=e[i],t[11]=i,t}function lt(n){let e,i=n[9].name+"",t,l,r=n[9].year+"",o,c,f,h;function a(){return n[7](n[11])}return{c(){e=K("p"),t=le(i),l=le(", "),o=le(r),c=ve(),this.h()},l(s){e=x(s,"P",{class:!0});var u=O(e);t=re(u,i),l=re(u,", "),o=re(u,r),c=me(u),u.forEach(P),this.h()},h(){m(e,"class","svelte-1hvvvdt"),ce(e,"gray-background",n[11]%2===1),ce(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},m(s,u){j(s,e,u),q(e,t),q(e,l),q(e,o),q(e,c),f||(h=In(e,"click",a),f=!0)},p(s,u){n=s,u&4&&i!==(i=n[9].name+"")&&we(t,i),u&4&&r!==(r=n[9].year+"")&&we(o,r),u&5&&ce(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},d(s){s&&P(e),f=!1,h()}}}function Qi(n){let e,i,t,l,r,o,c,f,h,a=ee(n[2]),s=[];for(let u=0;u<a.length;u+=1)s[u]=lt(it(n,a,u));return o=new Xi({}),{c(){e=K("article"),i=K("input"),t=ve(),l=K("div");for(let u=0;u<s.length;u+=1)s[u].c();r=ve(),He(o.$$.fragment),this.h()},l(u){e=x(u,"ARTICLE",{class:!0});var g=O(e);i=x(g,"INPUT",{type:!0,placeholder:!0,class:!0}),t=me(g),l=x(g,"DIV",{class:!0});var p=O(l);for(let w=0;w<s.length;w+=1)s[w].l(p);p.forEach(P),g.forEach(P),r=me(u),je(o.$$.fragment,u),this.h()},h(){m(i,"type","text"),m(i,"placeholder","Search..."),m(i,"class","svelte-1hvvvdt"),m(l,"class","svelte-1hvvvdt"),m(e,"class","svelte-1hvvvdt")},m(u,g){j(u,e,g),q(e,i),Tn(i,n[1]),q(e,t),q(e,l);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(l,null);j(u,r,g),Ue(o,u,g),c=!0,f||(h=In(i,"input",n[6]),f=!0)},p(u,[g]){if(g&2&&i.value!==u[1]&&Tn(i,u[1]),g&13){a=ee(u[2]);let p;for(p=0;p<a.length;p+=1){const w=it(u,a,p);s[p]?s[p].p(w,g):(s[p]=lt(w),s[p].c(),s[p].m(l,null))}for(;p<s.length;p+=1)s[p].d(1);s.length=a.length}},i(u){c||(Pe(o.$$.fragment,u),c=!0)},o(u){Me(o.$$.fragment,u),c=!1},d(u){u&&(P(e),P(r)),Ee(s,u),Ve(o,u),f=!1,h()}}}function Ji(n,e,i){let t,l,{points:r}=e,{highlighted:o}=e;const c=kt();let f="";function h(u){c("updateId",t[u])}function a(){f=this.value,i(1,f)}const s=u=>h(u);return n.$$set=u=>{"points"in u&&i(4,r=u.points),"highlighted"in u&&i(0,o=u.highlighted)},n.$$.update=()=>{n.$$.dirty&16&&i(5,l=r.reduce((u,g)=>u.find(w=>w.name===g.name&&w.year===g.year)?u:u.concat([g]),[])),n.$$.dirty&34&&i(2,t=l.filter(u=>u.name.toLowerCase().includes(f.toLowerCase())))},[o,f,t,h,r,l,a,s]}class Ki extends qe{constructor(e){super(),Le(this,e,Ji,Qi,Ce,{points:4,highlighted:0})}}function rt(n,e,i){const t=n.slice();return t[22]=e[i].cx,t[23]=e[i].cy,t[24]=e[i].name,t}function ot(n,e,i){const t=n.slice();return t[27]=e[i],t[29]=i,t}function at(n,e,i){const t=n.slice();return t[22]=e[i].cx,t[23]=e[i].cy,t[24]=e[i].name,t[30]=e[i].r,t[29]=i,t}function st(n,e,i){const t=n.slice();return t[32]=e[i],t[29]=i,t}function ut(n,e,i){const t=n.slice();return t[27]=e[i],t[29]=i,t}function ct(n,e,i){const t=n.slice();return t[27]=e[i],t[29]=i,t}function ft(n,e,i){const t=n.slice();return t[27]=e[i],t[29]=i,t}function ht(n){let e,i,t,l,r,o,c,f,h,a,s,u,g,p,w,S,M,y,A,E=n[0].length>0&&pt(n),z=ee(n[6]),R=[];for(let v=0;v<z.length;v+=1)R[v]=gt(ft(n,z,v));let $=ee(n[5]),D=[];for(let v=0;v<$.length;v+=1)D[v]=dt(ct(n,$,v));let I=ee(n[7]),b=[];for(let v=0;v<I.length;v+=1)b[v]=_t(ut(n,I,v));let N=n[0].length>0&&vt(n),Z=ee(n[0]),k=[];for(let v=0;v<Z.length;v+=1)k[v]=yt(at(n,Z,v));let T=ee(n[8]),_=[];for(let v=0;v<T.length;v+=1)_[v]=Pt(ot(n,T,v));let C=ee(n[4]),B=[];for(let v=0;v<C.length;v+=1)B[v]=Nt(rt(n,C,v));return{c(){e=V("svg"),i=V("defs"),t=V("path"),r=V("clipPath"),o=V("use"),E&&E.c(),c=V("g"),f=V("circle"),u=V("g");for(let v=0;v<R.length;v+=1)R[v].c();g=V("g");for(let v=0;v<D.length;v+=1)D[v].c();p=V("g");for(let v=0;v<b.length;v+=1)b[v].c();w=V("g"),N&&N.c(),S=V("g");for(let v=0;v<k.length;v+=1)k[v].c();M=V("g");for(let v=0;v<_.length;v+=1)_[v].c();y=V("g");for(let v=0;v<B.length;v+=1)B[v].c();this.h()},l(v){e=G(v,"svg",{viewBox:!0});var L=O(e);i=G(L,"defs",{});var d=O(i);t=G(d,"path",{id:!0,d:!0}),O(t).forEach(P),r=G(d,"clipPath",{class:!0,id:!0});var H=O(r);o=G(H,"use",{href:!0}),O(o).forEach(P),H.forEach(P),d.forEach(P),E&&E.l(L),c=G(L,"g",{"clip-path":!0,class:!0});var J=O(c);f=G(J,"circle",{cx:!0,cy:!0,r:!0,class:!0}),O(f).forEach(P),u=G(J,"g",{class:!0,fill:!0,stroke:!0});var te=O(u);for(let X=0;X<R.length;X+=1)R[X].l(te);te.forEach(P),g=G(J,"g",{class:!0,stroke:!0});var ye=O(g);for(let X=0;X<D.length;X+=1)D[X].l(ye);ye.forEach(P),p=G(J,"g",{class:!0,fill:!0,stroke:!0});var ge=O(p);for(let X=0;X<b.length;X+=1)b[X].l(ge);ge.forEach(P),w=G(J,"g",{class:!0});var bn=O(w);N&&N.l(bn),bn.forEach(P),S=G(J,"g",{class:!0});var Cn=O(S);for(let X=0;X<k.length;X+=1)k[X].l(Cn);Cn.forEach(P),M=G(J,"g",{class:!0});var qn=O(M);for(let X=0;X<_.length;X+=1)_[X].l(qn);qn.forEach(P),y=G(J,"g",{class:!0});var Ln=O(y);for(let X=0;X<B.length;X+=1)B[X].l(Ln);Ln.forEach(P),J.forEach(P),L.forEach(P),this.h()},h(){m(t,"id","sphere"),m(t,"d",l=n[12]({type:"Sphere"})),m(o,"href","#sphere"),m(r,"class","clip"),m(r,"id","clip"),m(f,"cx",h=n[2]/2),m(f,"cy",a=n[3]/2),m(f,"r",s=n[2]*2),m(f,"class","bg svelte-1cw2uqn"),m(u,"class","marine svelte-1cw2uqn"),m(u,"fill","#e9f4ff"),m(u,"stroke","blue"),m(g,"class","world svelte-1cw2uqn"),m(g,"stroke","none"),m(p,"class","contour svelte-1cw2uqn"),m(p,"fill","none"),m(p,"stroke","none"),m(w,"class","svelte-1cw2uqn"),m(S,"class","svelte-1cw2uqn"),m(M,"class","spoua svelte-1cw2uqn"),m(y,"class","nemo svelte-1cw2uqn"),m(c,"clip-path","url(#clip)"),m(c,"class","svelte-1cw2uqn"),m(e,"viewBox",A="0 0 "+n[2]+" "+n[3])},m(v,L){j(v,e,L),q(e,i),q(i,t),q(i,r),q(r,o),E&&E.m(e,null),q(e,c),q(c,f),q(c,u);for(let d=0;d<R.length;d+=1)R[d]&&R[d].m(u,null);q(c,g);for(let d=0;d<D.length;d+=1)D[d]&&D[d].m(g,null);q(c,p);for(let d=0;d<b.length;d+=1)b[d]&&b[d].m(p,null);q(c,w),N&&N.m(w,null),q(c,S);for(let d=0;d<k.length;d+=1)k[d]&&k[d].m(S,null);q(c,M);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(M,null);q(c,y);for(let d=0;d<B.length;d+=1)B[d]&&B[d].m(y,null)},p(v,L){if(L[0]&4096&&l!==(l=v[12]({type:"Sphere"}))&&m(t,"d",l),v[0].length>0?E?E.p(v,L):(E=pt(v),E.c(),E.m(e,c)):E&&(E.d(1),E=null),L[0]&4&&h!==(h=v[2]/2)&&m(f,"cx",h),L[0]&8&&a!==(a=v[3]/2)&&m(f,"cy",a),L[0]&4&&s!==(s=v[2]*2)&&m(f,"r",s),L[0]&4160){z=ee(v[6]);let d;for(d=0;d<z.length;d+=1){const H=ft(v,z,d);R[d]?R[d].p(H,L):(R[d]=gt(H),R[d].c(),R[d].m(u,null))}for(;d<R.length;d+=1)R[d].d(1);R.length=z.length}if(L[0]&4128){$=ee(v[5]);let d;for(d=0;d<$.length;d+=1){const H=ct(v,$,d);D[d]?D[d].p(H,L):(D[d]=dt(H),D[d].c(),D[d].m(g,null))}for(;d<D.length;d+=1)D[d].d(1);D.length=$.length}if(L[0]&4224){I=ee(v[7]);let d;for(d=0;d<I.length;d+=1){const H=ut(v,I,d);b[d]?b[d].p(H,L):(b[d]=_t(H),b[d].c(),b[d].m(p,null))}for(;d<b.length;d+=1)b[d].d(1);b.length=I.length}if(v[0].length>0?N?N.p(v,L):(N=vt(v),N.c(),N.m(w,null)):N&&(N.d(1),N=null),L[0]&1){Z=ee(v[0]);let d;for(d=0;d<Z.length;d+=1){const H=at(v,Z,d);k[d]?k[d].p(H,L):(k[d]=yt(H),k[d].c(),k[d].m(S,null))}for(;d<k.length;d+=1)k[d].d(1);k.length=Z.length}if(L[0]&4352){T=ee(v[8]);let d;for(d=0;d<T.length;d+=1){const H=ot(v,T,d);_[d]?_[d].p(H,L):(_[d]=Pt(H),_[d].c(),_[d].m(M,null))}for(;d<_.length;d+=1)_[d].d(1);_.length=T.length}if(L[0]&16){C=ee(v[4]);let d;for(d=0;d<C.length;d+=1){const H=rt(v,C,d);B[d]?B[d].p(H,L):(B[d]=Nt(H),B[d].c(),B[d].m(y,null))}for(;d<B.length;d+=1)B[d].d(1);B.length=C.length}L[0]&12&&A!==(A="0 0 "+v[2]+" "+v[3])&&m(e,"viewBox",A)},d(v){v&&P(e),E&&E.d(),Ee(R,v),Ee(D,v),Ee(b,v),N&&N.d(),Ee(k,v),Ee(_,v),Ee(B,v)}}}function pt(n){var f,h;let e,i,t=((f=n[0][n[0].length-1])==null?void 0:f.name)+"",l,r,o=((h=n[0][n[0].length-1])==null?void 0:h.year)+"",c;return{c(){e=V("text"),i=V("textPath"),l=le(t),r=le(" — "),c=le(o),this.h()},l(a){e=G(a,"text",{"text-anchor":!0,dy:!0,"font-size":!0,fill:!0});var s=O(e);i=G(s,"textPath",{href:!0,startOffset:!0});var u=O(i);l=re(u,t),r=re(u," — "),c=re(u,o),u.forEach(P),s.forEach(P),this.h()},h(){m(i,"href","#sphere"),m(i,"startOffset","15%"),m(e,"text-anchor","left"),m(e,"dy","-5"),m(e,"font-size","36"),m(e,"fill","blue")},m(a,s){j(a,e,s),q(e,i),q(i,l),q(i,r),q(i,c)},p(a,s){var u,g;s[0]&1&&t!==(t=((u=a[0][a[0].length-1])==null?void 0:u.name)+"")&&we(l,t),s[0]&1&&o!==(o=((g=a[0][a[0].length-1])==null?void 0:g.year)+"")&&we(c,o)},d(a){a&&P(e)}}}function gt(n){let e,i;return{c(){e=V("path"),this.h()},l(t){e=G(t,"path",{d:!0,class:!0}),O(e).forEach(P),this.h()},h(){m(e,"d",i=n[12](n[27])),m(e,"class","marineBorders")},m(t,l){j(t,e,l)},p(t,l){l[0]&4160&&i!==(i=t[12](t[27]))&&m(e,"d",i)},d(t){t&&P(e)}}}function dt(n){let e,i;return{c(){e=V("path"),this.h()},l(t){e=G(t,"path",{d:!0,class:!0}),O(e).forEach(P),this.h()},h(){m(e,"d",i=n[12](n[27])),m(e,"class","country")},m(t,l){j(t,e,l)},p(t,l){l[0]&4128&&i!==(i=t[12](t[27]))&&m(e,"d",i)},d(t){t&&P(e)}}}function _t(n){let e,i;return{c(){e=V("path"),this.h()},l(t){e=G(t,"path",{d:!0,class:!0}),O(e).forEach(P),this.h()},h(){m(e,"d",i=n[12](n[27])),m(e,"class","contour svelte-1cw2uqn")},m(t,l){j(t,e,l)},p(t,l){l[0]&4224&&i!==(i=t[12](t[27]))&&m(e,"d",i)},d(t){t&&P(e)}}}function vt(n){let e,i=ee(n[0]),t=[];for(let l=0;l<i.length;l+=1)t[l]=Et(st(n,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=oe()},l(l){for(let r=0;r<t.length;r+=1)t[r].l(l);e=oe()},m(l,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(l,r);j(l,e,r)},p(l,r){if(r[0]&16777217){i=ee(l[0]);let o;for(o=0;o<i.length;o+=1){const c=st(l,i,o);t[o]?t[o].p(c,r):(t[o]=Et(c),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=i.length}},d(l){l&&P(e),Ee(t,l)}}}function mt(n){let e,i,t,l,r;return{c(){e=V("line"),this.h()},l(o){e=G(o,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),O(e).forEach(P),this.h()},h(){m(e,"x1",i=n[0][n[29]-1].cx),m(e,"y1",t=n[0][n[29]-1].cy),m(e,"x2",l=n[32].cx),m(e,"y2",r=n[32].cy),m(e,"class","svelte-1cw2uqn"),ce(e,"highlite",n[29]===n[0].length-1),ce(e,"old",n[29]!==n[0].length-1),ce(e,"debris",name.includes("DEB"))},m(o,c){j(o,e,c)},p(o,c){c[0]&1&&i!==(i=o[0][o[29]-1].cx)&&m(e,"x1",i),c[0]&1&&t!==(t=o[0][o[29]-1].cy)&&m(e,"y1",t),c[0]&1&&l!==(l=o[32].cx)&&m(e,"x2",l),c[0]&1&&r!==(r=o[32].cy)&&m(e,"y2",r),c[0]&1&&ce(e,"highlite",o[29]===o[0].length-1),c[0]&1&&ce(e,"old",o[29]!==o[0].length-1),c[0]&16777216&&ce(e,"debris",name.includes("DEB"))},d(o){o&&P(e)}}}function Et(n){let e,i=n[29]>0&&n[0][n[29]].name===n[0][n[29]-1].name&&mt(n);return{c(){i&&i.c(),e=oe()},l(t){i&&i.l(t),e=oe()},m(t,l){i&&i.m(t,l),j(t,e,l)},p(t,l){t[29]>0&&t[0][t[29]].name===t[0][t[29]-1].name?i?i.p(t,l):(i=mt(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&P(e),i&&i.d(t)}}}function wt(n){let e,i,t,l;return{c(){e=V("circle"),this.h()},l(r){e=G(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),O(e).forEach(P),this.h()},h(){m(e,"cx",i=n[22]),m(e,"cy",t=n[23]),m(e,"r",l=n[30]),m(e,"fill","blue"),m(e,"class","highlite svelte-1cw2uqn"),ce(e,"debris",n[24].includes("DEB"))},m(r,o){j(r,e,o)},p(r,o){o[0]&1&&i!==(i=r[22])&&m(e,"cx",i),o[0]&1&&t!==(t=r[23])&&m(e,"cy",t),o[0]&1&&l!==(l=r[30])&&m(e,"r",l),o[0]&1&&ce(e,"debris",r[24].includes("DEB"))},d(r){r&&P(e)}}}function St(n){let e,i=n[24]+"",t,l,r;return{c(){e=V("text"),t=le(i),this.h()},l(o){e=G(o,"text",{x:!0,y:!0,class:!0,"font-size":!0});var c=O(e);t=re(c,i),c.forEach(P),this.h()},h(){m(e,"x",l=n[30]+n[22]+8),m(e,"y",r=n[23]+2),m(e,"class","satellite-name svelte-1cw2uqn"),m(e,"font-size","8")},m(o,c){j(o,e,c),q(e,t)},p(o,c){c[0]&1&&i!==(i=o[24]+"")&&we(t,i),c[0]&1&&l!==(l=o[30]+o[22]+8)&&m(e,"x",l),c[0]&1&&r!==(r=o[23]+2)&&m(e,"y",r)},d(o){o&&P(e)}}}function yt(n){let e,i,t=n[29]===n[0].length-1&&wt(n),l=n[29]===n[0].length-1&&St(n);return{c(){t&&t.c(),e=oe(),l&&l.c(),i=oe()},l(r){t&&t.l(r),e=oe(),l&&l.l(r),i=oe()},m(r,o){t&&t.m(r,o),j(r,e,o),l&&l.m(r,o),j(r,i,o)},p(r,o){r[29]===r[0].length-1?t?t.p(r,o):(t=wt(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),r[29]===r[0].length-1?l?l.p(r,o):(l=St(r),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},d(r){r&&(P(e),P(i)),t&&t.d(r),l&&l.d(r)}}}function Pt(n){let e,i;return{c(){e=V("path"),this.h()},l(t){e=G(t,"path",{d:!0,class:!0}),O(e).forEach(P),this.h()},h(){m(e,"d",i=n[12](n[27])),m(e,"class","spoua svelte-1cw2uqn")},m(t,l){j(t,e,l)},p(t,l){l[0]&4352&&i!==(i=t[12](t[27]))&&m(e,"d",i)},d(t){t&&P(e)}}}function Mt(n){let e,i,t,l,r=n[24]+"",o,c,f;return{c(){e=V("circle"),l=V("text"),o=le(r),this.h()},l(h){e=G(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),O(e).forEach(P),l=G(h,"text",{x:!0,y:!0,"font-size":!0,class:!0});var a=O(l);o=re(a,r),a.forEach(P),this.h()},h(){m(e,"cx",i=n[22]),m(e,"cy",t=n[23]),m(e,"r",1),m(e,"fill","black"),m(e,"class","svelte-1cw2uqn"),m(l,"x",c=n[22]+4),m(l,"y",f=n[23]+2),m(l,"font-size","8"),m(l,"class","svelte-1cw2uqn")},m(h,a){j(h,e,a),j(h,l,a),q(l,o)},p(h,a){a[0]&16&&i!==(i=h[22])&&m(e,"cx",i),a[0]&16&&t!==(t=h[23])&&m(e,"cy",t),a[0]&16&&r!==(r=h[24]+"")&&we(o,r),a[0]&16&&c!==(c=h[22]+4)&&m(l,"x",c),a[0]&16&&f!==(f=h[23]+2)&&m(l,"y",f)},d(h){h&&(P(e),P(l))}}}function Nt(n){let e,i=n[22]&&n[23]&&Mt(n);return{c(){i&&i.c(),e=oe()},l(t){i&&i.l(t),e=oe()},m(t,l){i&&i.m(t,l),j(t,e,l)},p(t,l){t[22]&&t[23]?i?i.p(t,l):(i=Mt(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&P(e),i&&i.d(t)}}}function xi(n){let e,i,t,l,r,o,c,f,h;e=new Vi({props:{currentPoint:n[10]}}),t=new Zi({props:{index:n[11],points:n[9]}}),t.$on("updateIndex",n[14]);let a=n[0].length>0&&ht(n);return f=new Ki({props:{points:n[9],highlighted:n[13]}}),f.$on("updateId",n[15]),{c(){He(e.$$.fragment),i=ve(),He(t.$$.fragment),l=ve(),r=K("article"),o=K("div"),a&&a.c(),c=ve(),He(f.$$.fragment),this.h()},l(s){je(e.$$.fragment,s),i=me(s),je(t.$$.fragment,s),l=me(s),r=x(s,"ARTICLE",{class:!0});var u=O(r);o=x(u,"DIV",{class:!0});var g=O(o);a&&a.l(g),g.forEach(P),c=me(u),je(f.$$.fragment,u),u.forEach(P),this.h()},h(){m(o,"class","svelte-1cw2uqn"),m(r,"class","svelte-1cw2uqn")},m(s,u){Ue(e,s,u),j(s,i,u),Ue(t,s,u),j(s,l,u),j(s,r,u),q(r,o),a&&a.m(o,null),n[17](o),q(r,c),Ue(f,r,null),h=!0},p(s,u){const g={};u[0]&1024&&(g.currentPoint=s[10]),e.$set(g);const p={};u[0]&2048&&(p.index=s[11]),u[0]&512&&(p.points=s[9]),t.$set(p),s[0].length>0?a?a.p(s,u):(a=ht(s),a.c(),a.m(o,null)):a&&(a.d(1),a=null);const w={};u[0]&512&&(w.points=s[9]),u[0]&8192&&(w.highlighted=s[13]),f.$set(w)},i(s){h||(Pe(e.$$.fragment,s),Pe(t.$$.fragment,s),Pe(f.$$.fragment,s),h=!0)},o(s){Me(e.$$.fragment,s),Me(t.$$.fragment,s),Me(f.$$.fragment,s),h=!1},d(s){s&&(P(i),P(l),P(r)),Ve(e,s),Ve(t,s),a&&a.d(),n[17](null),Ve(f)}}}function el(n,e,i){let t,{data:l}=e,r,o=0,c=0,f,h=[{lon:-126.3622344,lat:-72.9741938,name:"Maher Island"},{lon:-109.452777777778,lat:-27.2013888888889,name:"Easter Island"},{lon:-124.787888,lat:-24.6807263,name:"Ducie Island"},{lon:-123.3933333,lat:-48.8766667,name:"Point Nemo"}],a=[],s=[],u=[],g=[],p=[],w=[],S=null,M=0,y,A;Rt(async()=>{E();try{const I=await fetch("world.json").then(k=>k.json()),b=await fetch("EEZ_land_v2_201410.json").then(k=>k.json()),N=await fetch("contour.json").then(k=>k.json()),Z=await fetch("spoua.json").then(k=>k.json());i(5,a=Ye(I,I.objects.land).features),i(6,s=Ye(b,b.objects.EEZ_land_v2_201410).features),i(7,u=Ye(N,N.objects.collection).features),i(8,g=Ye(Z,Z.objects.spoua).features),i(9,p=l.map(k=>{const[T,_]=f([k.lon,k.lat]);return{cx:T,cy:_,name:k.satellite_name,year:k.satellite_decay,r:k.rcs}}).filter(k=>!isNaN(k.cx)&&!isNaN(k.cy))),i(4,h=h.map(k=>{const[T,_]=f([k.lon,k.lat]);return{cx:T,cy:_,name:k.name}})),z()}catch(I){console.error("Error loading or processing data:",I)}window.addEventListener("resize",E)});function E(){r&&(i(2,o=r.clientWidth),i(3,c=r.clientHeight),f=Hi().rotate([123,48]).scale(260).precision(1).clipAngle(100).translate([o/2,c/2]),i(12,A=Ri().projection(f)))}const z=()=>{y&&clearInterval(y),i(11,M=0),i(0,w=[]),y=setInterval(()=>{M<p.length?(i(0,w=[...w,p[M]]),i(10,S=p[M]),i(11,M=(M+1)%p.length)):clearInterval(y)},500)},R=I=>{i(11,M=I.detail),i(0,w=p.slice(0,M+1)),i(10,S=w[w.length-1]),i(13,t=p[M+1])},$=I=>{i(11,M=p.findIndex(b=>b.name==I.detail.name&&b.year==I.detail.year)),i(0,w=p.slice(0,M+1))};function D(I){Wt[I?"unshift":"push"](()=>{r=I,i(1,r)})}return n.$$set=I=>{"data"in I&&i(16,l=I.data)},n.$$.update=()=>{n.$$.dirty[0]&1&&i(13,t=w.slice(-1)[0])},[w,r,o,c,h,a,s,u,g,p,S,M,A,t,R,$,l,D]}let nl=class extends qe{constructor(e){super(),Le(this,e,el,xi,Ce,{data:16},null,[-1,-1])}};function tl(n){let e,i,t,l;return i=new nl({props:{data:n[0]}}),{c(){e=K("article"),He(i.$$.fragment),this.h()},l(r){e=x(r,"ARTICLE",{class:!0});var o=O(e);je(i.$$.fragment,o),o.forEach(P),this.h()},h(){m(e,"class","svelte-3qdlah"),Zt(()=>n[3].call(e))},m(r,o){j(r,e,o),Ue(i,e,null),t=Yt(e,n[3].bind(e)),l=!0},p(r,o){const c={};o&1&&(c.data=r[0]),i.$set(c)},i(r){l||(Pe(i.$$.fragment,r),l=!0)},o(r){Me(i.$$.fragment,r),l=!1},d(r){r&&P(e),Ve(i),t()}}}function il(n){let e,i="Loading...";return{c(){e=K("p"),e.textContent=i,this.h()},l(t){e=x(t,"P",{class:!0,"data-svelte-h":!0}),An(e)!=="svelte-qdsr2u"&&(e.textContent=i),this.h()},h(){m(e,"class","svelte-3qdlah")},m(t,l){j(t,e,l)},p:pe,i:pe,o:pe,d(t){t&&P(e)}}}function ll(n){let e,i,t,l;const r=[il,tl],o=[];function c(f,h){return f[0].length===0?0:1}return e=c(n),i=o[e]=r[e](n),{c(){i.c(),t=oe()},l(f){i.l(f),t=oe()},m(f,h){o[e].m(f,h),j(f,t,h),l=!0},p(f,[h]){let a=e;e=c(f),e===a?o[e].p(f,h):(Qt(),Me(o[a],1,1,()=>{o[a]=null}),Xt(),i=o[e],i?i.p(f,h):(i=o[e]=r[e](f),i.c()),Pe(i,1),i.m(t.parentNode,t))},i(f){l||(Pe(i),l=!0)},o(f){Me(i),l=!1},d(f){f&&P(t),o[e].d(f)}}}function rl(n,e,i){let t=[],l,r;Rt(async()=>{const f=await(await fetch("data.json")).json(),h=Math.min(...f.map(s=>s.rcs)),a=Math.max(...f.map(s=>s.rcs));i(0,t=f.sort((s,u)=>new Date(s.satellite_decay)-new Date(u.satellite_decay)).map(s=>({...s,rcs:1+(s.rcs-h)*9/(a-h)})))});function o(){l=this.clientWidth,r=this.clientHeight,i(1,l),i(2,r)}return[t,l,r,o]}class ul extends qe{constructor(e){super(),Le(this,e,rl,ll,Ce,{})}}export{ul as component};
