import{s as Ce,e as K,b as ve,t as le,d as x,f as T,O as In,j as _e,h as re,i as P,v as _,k as H,l as L,m as ye,n as he,w as We,P as zn,Q as Nt,R as On,S as me,T as un,r as Rt,U,V,p as oe,x as Wt,W as xe,F as Zt,X as Xt}from"../chunks/scheduler.DaTIAbnN.js";import{S as je,i as Le,b as Fe,d as qe,m as He,t as we,a as Pe,e as Ue,c as Yt,g as Qt}from"../chunks/index.BuLhkFgH.js";function ee(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Jt(n){return n}function Kt(n){if(n==null)return Jt;var e,i,t=n.scale[0],l=n.scale[1],r=n.translate[0],o=n.translate[1];return function(a,c){c||(e=i=0);var h=2,s=a.length,u=new Array(s);for(u[0]=(e+=a[0])*t+r,u[1]=(i+=a[1])*l+o;h<s;)u[h]=a[h],++h;return u}}function xt(n,e){for(var i,t=n.length,l=t-e;l<--t;)i=n[l],n[l++]=n[t],n[t]=i}function Ze(n,e){return typeof e=="string"&&(e=n.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(i){return $n(n,i)})}:$n(n,e)}function $n(n,e){var i=e.id,t=e.bbox,l=e.properties==null?{}:e.properties,r=ei(n,e);return i==null&&t==null?{type:"Feature",properties:l,geometry:r}:t==null?{type:"Feature",id:i,properties:l,geometry:r}:{type:"Feature",id:i,bbox:t,properties:l,geometry:r}}function ei(n,e){var i=Kt(n.transform),t=n.arcs;function l(s,u){u.length&&u.pop();for(var f=t[s<0?~s:s],g=0,p=f.length;g<p;++g)u.push(i(f[g],g));s<0&&xt(u,p)}function r(s){return i(s)}function o(s){for(var u=[],f=0,g=s.length;f<g;++f)l(s[f],u);return u.length<2&&u.push(u[0]),u}function a(s){for(var u=o(s);u.length<4;)u.push(u[0]);return u}function c(s){return s.map(a)}function h(s){var u=s.type,f;switch(u){case"GeometryCollection":return{type:u,geometries:s.geometries.map(h)};case"Point":f=r(s.coordinates);break;case"MultiPoint":f=s.coordinates.map(r);break;case"LineString":f=o(s.arcs);break;case"MultiLineString":f=s.arcs.map(o);break;case"Polygon":f=c(s.arcs);break;case"MultiPolygon":f=s.arcs.map(c);break;default:return null}return{type:u,coordinates:f}}return h(e)}class ke{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let t=0;for(let l=0;l<this._n&&l<32;l++){const r=i[l],o=e+r,a=Math.abs(e)<Math.abs(r)?e-(o-r):r-(o-e);a&&(i[t++]=a),e=o}return i[t]=e,this._n=t+1,this}valueOf(){const e=this._partials;let i=this._n,t,l,r,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,l=e[--i],o=t+l,r=l-(o-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(l=r*2,t=o+l,l==t-o&&(o=t))}return o}}function*ni(n){for(const e of n)yield*e}function At(n){return Array.from(ni(n))}var G=1e-6,ti=1e-12,F=Math.PI,ae=F/2,Bn=F/4,ue=F*2,ge=180/F,ne=F/180,Q=Math.abs,ii=Math.atan,Ae=Math.atan2,X=Math.cos,W=Math.sin,li=Math.sign||function(n){return n>0?1:n<0?-1:0},Ee=Math.sqrt;function It(n){return n>1?0:n<-1?F:Math.acos(n)}function Ie(n){return n>1?ae:n<-1?-ae:Math.asin(n)}function se(){}function en(n,e){n&&qn.hasOwnProperty(n.type)&&qn[n.type](n,e)}var Fn={Feature:function(n,e){en(n.geometry,e)},FeatureCollection:function(n,e){for(var i=n.features,t=-1,l=i.length;++t<l;)en(i[t].geometry,e)}},qn={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)n=i[t],e.point(n[0],n[1],n[2])},LineString:function(n,e){gn(n.coordinates,e,0)},MultiLineString:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)gn(i[t],e,0)},Polygon:function(n,e){Hn(n.coordinates,e)},MultiPolygon:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)Hn(i[t],e)},GeometryCollection:function(n,e){for(var i=n.geometries,t=-1,l=i.length;++t<l;)en(i[t],e)}};function gn(n,e,i){var t=-1,l=n.length-i,r;for(e.lineStart();++t<l;)r=n[t],e.point(r[0],r[1],r[2]);e.lineEnd()}function Hn(n,e){var i=-1,t=n.length;for(e.polygonStart();++i<t;)gn(n[i],e,1);e.polygonEnd()}function Ne(n,e){n&&Fn.hasOwnProperty(n.type)?Fn[n.type](n,e):en(n,e)}function dn(n){return[Ae(n[1],n[0]),Ie(n[2])]}function ze(n){var e=n[0],i=n[1],t=X(i);return[t*X(e),t*W(e),W(i)]}function Xe(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function nn(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function fn(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function Ye(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function vn(n){var e=Ee(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function _n(n,e){function i(t,l){return t=n(t,l),e(t[0],t[1])}return n.invert&&e.invert&&(i.invert=function(t,l){return t=e.invert(t,l),t&&n.invert(t[0],t[1])}),i}function mn(n,e){return Q(n)>F&&(n-=Math.round(n/ue)*ue),[n,e]}mn.invert=mn;function ri(n,e,i){return(n%=ue)?e||i?_n(Vn(n),Gn(e,i)):Vn(n):e||i?Gn(e,i):mn}function Un(n){return function(e,i){return e+=n,Q(e)>F&&(e-=Math.round(e/ue)*ue),[e,i]}}function Vn(n){var e=Un(n);return e.invert=Un(-n),e}function Gn(n,e){var i=X(n),t=W(n),l=X(e),r=W(e);function o(a,c){var h=X(c),s=X(a)*h,u=W(a)*h,f=W(c),g=f*i+s*t;return[Ae(u*l-g*r,s*i-f*t),Ie(g*l+u*r)]}return o.invert=function(a,c){var h=X(c),s=X(a)*h,u=W(a)*h,f=W(c),g=f*l-u*r;return[Ae(u*l+f*r,s*i+g*t),Ie(g*i-s*t)]},o}function oi(n,e,i,t,l,r){if(i){var o=X(e),a=W(e),c=t*i;l==null?(l=e+t*ue,r=e-c/2):(l=Wn(o,l),r=Wn(o,r),(t>0?l<r:l>r)&&(l+=t*ue));for(var h,s=l;t>0?s>r:s<r;s-=c)h=dn([o,-a*X(s),-a*W(s)]),n.point(h[0],h[1])}}function Wn(n,e){e=ze(e),e[0]-=n,vn(e);var i=It(-e[1]);return((-e[2]<0?-i:i)+ue-G)%ue}function zt(){var n=[],e;return{point:function(i,t,l){e.push([i,t,l])},lineStart:function(){n.push(e=[])},lineEnd:se,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var i=n;return n=[],e=null,i}}}function Ke(n,e){return Q(n[0]-e[0])<G&&Q(n[1]-e[1])<G}function Qe(n,e,i,t){this.x=n,this.z=e,this.o=i,this.e=t,this.v=!1,this.n=this.p=null}function bt(n,e,i,t,l){var r=[],o=[],a,c;if(n.forEach(function(p){if(!((E=p.length-1)<=0)){var E,S=p[0],k=p[E],w;if(Ke(S,k)){if(!S[2]&&!k[2]){for(l.lineStart(),a=0;a<E;++a)l.point((S=p[a])[0],S[1]);l.lineEnd();return}k[0]+=2*G}r.push(w=new Qe(S,p,null,!0)),o.push(w.o=new Qe(S,null,w,!1)),r.push(w=new Qe(k,p,null,!1)),o.push(w.o=new Qe(k,null,w,!0))}}),!!r.length){for(o.sort(e),Zn(r),Zn(o),a=0,c=o.length;a<c;++a)o[a].e=i=!i;for(var h=r[0],s,u;;){for(var f=h,g=!0;f.v;)if((f=f.n)===h)return;s=f.z,l.lineStart();do{if(f.v=f.o.v=!0,f.e){if(g)for(a=0,c=s.length;a<c;++a)l.point((u=s[a])[0],u[1]);else t(f.x,f.n.x,1,l);f=f.n}else{if(g)for(s=f.p.z,a=s.length-1;a>=0;--a)l.point((u=s[a])[0],u[1]);else t(f.x,f.p.x,-1,l);f=f.p}f=f.o,s=f.z,g=!g}while(!f.v);l.lineEnd()}}}function Zn(n){if(e=n.length){for(var e,i=0,t=n[0],l;++i<e;)t.n=l=n[i],l.p=t,t=l;t.n=l=n[0],l.p=t}}function cn(n){return Q(n[0])<=F?n[0]:li(n[0])*((Q(n[0])+F)%ue-F)}function ai(n,e){var i=cn(e),t=e[1],l=W(t),r=[W(i),-X(i),0],o=0,a=0,c=new ke;l===1?t=ae+G:l===-1&&(t=-ae-G);for(var h=0,s=n.length;h<s;++h)if(f=(u=n[h]).length)for(var u,f,g=u[f-1],p=cn(g),E=g[1]/2+Bn,S=W(E),k=X(E),w=0;w<f;++w,p=y,S=R,k=$,g=A){var A=u[w],y=cn(A),z=A[1]/2+Bn,R=W(z),$=X(z),b=y-p,I=b>=0?1:-1,C=I*b,M=C>F,Z=S*R;if(c.add(Ae(Z*I*W(C),k*$+Z*X(C))),o+=M?b+I*ue:b,M^p>=i^y>=i){var N=nn(ze(g),ze(A));vn(N);var O=nn(r,N);vn(O);var v=(M^b>=0?-1:1)*Ie(O[2]);(t>v||t===v&&(N[0]||N[1]))&&(a+=M^b>=0?1:-1)}}return(o<-G||o<G&&c<-ti)^a&1}function Ct(n,e,i,t){return function(l){var r=e(l),o=zt(),a=e(o),c=!1,h,s,u,f={point:g,lineStart:E,lineEnd:S,polygonStart:function(){f.point=k,f.lineStart=w,f.lineEnd=A,s=[],h=[]},polygonEnd:function(){f.point=g,f.lineStart=E,f.lineEnd=S,s=At(s);var y=ai(h,t);s.length?(c||(l.polygonStart(),c=!0),bt(s,ui,y,i,l)):y&&(c||(l.polygonStart(),c=!0),l.lineStart(),i(null,null,1,l),l.lineEnd()),c&&(l.polygonEnd(),c=!1),s=h=null},sphere:function(){l.polygonStart(),l.lineStart(),i(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function g(y,z){n(y,z)&&l.point(y,z)}function p(y,z){r.point(y,z)}function E(){f.point=p,r.lineStart()}function S(){f.point=g,r.lineEnd()}function k(y,z){u.push([y,z]),a.point(y,z)}function w(){a.lineStart(),u=[]}function A(){k(u[0][0],u[0][1]),a.lineEnd();var y=a.clean(),z=o.result(),R,$=z.length,b,I,C;if(u.pop(),h.push(u),u=null,!!$){if(y&1){if(I=z[0],(b=I.length-1)>0){for(c||(l.polygonStart(),c=!0),l.lineStart(),R=0;R<b;++R)l.point((C=I[R])[0],C[1]);l.lineEnd()}return}$>1&&y&2&&z.push(z.pop().concat(z.shift())),s.push(z.filter(si))}}return f}}function si(n){return n.length>1}function ui(n,e){return((n=n.x)[0]<0?n[1]-ae-G:ae-n[1])-((e=e.x)[0]<0?e[1]-ae-G:ae-e[1])}const Xn=Ct(function(){return!0},fi,hi,[-F,-ae]);function fi(n){var e=NaN,i=NaN,t=NaN,l;return{lineStart:function(){n.lineStart(),l=1},point:function(r,o){var a=r>0?F:-F,c=Q(r-e);Q(c-F)<G?(n.point(e,i=(i+o)/2>0?ae:-ae),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(a,i),n.point(r,i),l=0):t!==a&&c>=F&&(Q(e-t)<G&&(e-=t*G),Q(r-a)<G&&(r-=a*G),i=ci(e,i,r,o),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(a,i),l=0),n.point(e=r,i=o),t=a},lineEnd:function(){n.lineEnd(),e=i=NaN},clean:function(){return 2-l}}}function ci(n,e,i,t){var l,r,o=W(n-i);return Q(o)>G?ii((W(e)*(r=X(t))*W(i)-W(t)*(l=X(e))*W(n))/(l*r*o)):(e+t)/2}function hi(n,e,i,t){var l;if(n==null)l=i*ae,t.point(-F,l),t.point(0,l),t.point(F,l),t.point(F,0),t.point(F,-l),t.point(0,-l),t.point(-F,-l),t.point(-F,0),t.point(-F,l);else if(Q(n[0]-e[0])>G){var r=n[0]<e[0]?F:-F;l=i*r/2,t.point(-r,l),t.point(0,l),t.point(r,l)}else t.point(e[0],e[1])}function pi(n){var e=X(n),i=2*ne,t=e>0,l=Q(e)>G;function r(s,u,f,g){oi(g,n,i,f,s,u)}function o(s,u){return X(s)*X(u)>e}function a(s){var u,f,g,p,E;return{lineStart:function(){p=g=!1,E=1},point:function(S,k){var w=[S,k],A,y=o(S,k),z=t?y?0:h(S,k):y?h(S+(S<0?F:-F),k):0;if(!u&&(p=g=y)&&s.lineStart(),y!==g&&(A=c(u,w),(!A||Ke(u,A)||Ke(w,A))&&(w[2]=1)),y!==g)E=0,y?(s.lineStart(),A=c(w,u),s.point(A[0],A[1])):(A=c(u,w),s.point(A[0],A[1],2),s.lineEnd()),u=A;else if(l&&u&&t^y){var R;!(z&f)&&(R=c(w,u,!0))&&(E=0,t?(s.lineStart(),s.point(R[0][0],R[0][1]),s.point(R[1][0],R[1][1]),s.lineEnd()):(s.point(R[1][0],R[1][1]),s.lineEnd(),s.lineStart(),s.point(R[0][0],R[0][1],3)))}y&&(!u||!Ke(u,w))&&s.point(w[0],w[1]),u=w,g=y,f=z},lineEnd:function(){g&&s.lineEnd(),u=null},clean:function(){return E|(p&&g)<<1}}}function c(s,u,f){var g=ze(s),p=ze(u),E=[1,0,0],S=nn(g,p),k=Xe(S,S),w=S[0],A=k-w*w;if(!A)return!f&&s;var y=e*k/A,z=-e*w/A,R=nn(E,S),$=Ye(E,y),b=Ye(S,z);fn($,b);var I=R,C=Xe($,I),M=Xe(I,I),Z=C*C-M*(Xe($,$)-1);if(!(Z<0)){var N=Ee(Z),O=Ye(I,(-C-N)/M);if(fn(O,$),O=dn(O),!f)return O;var v=s[0],j=u[0],B=s[1],m=u[1],D;j<v&&(D=v,v=j,j=D);var d=j-v,q=Q(d-F)<G,J=q||d<G;if(!q&&m<B&&(D=B,B=m,m=D),J?q?B+m>0^O[1]<(Q(O[0]-v)<G?B:m):B<=O[1]&&O[1]<=m:d>F^(v<=O[0]&&O[0]<=j)){var te=Ye(I,(-C+N)/M);return fn(te,$),[O,dn(te)]}}}function h(s,u){var f=t?n:F-n,g=0;return s<-f?g|=1:s>f&&(g|=2),u<-f?g|=4:u>f&&(g|=8),g}return Ct(o,a,r,t?[0,-n]:[-F,n-F])}function gi(n,e,i,t,l,r){var o=n[0],a=n[1],c=e[0],h=e[1],s=0,u=1,f=c-o,g=h-a,p;if(p=i-o,!(!f&&p>0)){if(p/=f,f<0){if(p<s)return;p<u&&(u=p)}else if(f>0){if(p>u)return;p>s&&(s=p)}if(p=l-o,!(!f&&p<0)){if(p/=f,f<0){if(p>u)return;p>s&&(s=p)}else if(f>0){if(p<s)return;p<u&&(u=p)}if(p=t-a,!(!g&&p>0)){if(p/=g,g<0){if(p<s)return;p<u&&(u=p)}else if(g>0){if(p>u)return;p>s&&(s=p)}if(p=r-a,!(!g&&p<0)){if(p/=g,g<0){if(p>u)return;p>s&&(s=p)}else if(g>0){if(p<s)return;p<u&&(u=p)}return s>0&&(n[0]=o+s*f,n[1]=a+s*g),u<1&&(e[0]=o+u*f,e[1]=a+u*g),!0}}}}}var De=1e9,Je=-De;function di(n,e,i,t){function l(h,s){return n<=h&&h<=i&&e<=s&&s<=t}function r(h,s,u,f){var g=0,p=0;if(h==null||(g=o(h,u))!==(p=o(s,u))||c(h,s)<0^u>0)do f.point(g===0||g===3?n:i,g>1?t:e);while((g=(g+u+4)%4)!==p);else f.point(s[0],s[1])}function o(h,s){return Q(h[0]-n)<G?s>0?0:3:Q(h[0]-i)<G?s>0?2:1:Q(h[1]-e)<G?s>0?1:0:s>0?3:2}function a(h,s){return c(h.x,s.x)}function c(h,s){var u=o(h,1),f=o(s,1);return u!==f?u-f:u===0?s[1]-h[1]:u===1?h[0]-s[0]:u===2?h[1]-s[1]:s[0]-h[0]}return function(h){var s=h,u=zt(),f,g,p,E,S,k,w,A,y,z,R,$={point:b,lineStart:Z,lineEnd:N,polygonStart:C,polygonEnd:M};function b(v,j){l(v,j)&&s.point(v,j)}function I(){for(var v=0,j=0,B=g.length;j<B;++j)for(var m=g[j],D=1,d=m.length,q=m[0],J,te,Se=q[0],pe=q[1];D<d;++D)J=Se,te=pe,q=m[D],Se=q[0],pe=q[1],te<=t?pe>t&&(Se-J)*(t-te)>(pe-te)*(n-J)&&++v:pe<=t&&(Se-J)*(t-te)<(pe-te)*(n-J)&&--v;return v}function C(){s=u,f=[],g=[],R=!0}function M(){var v=I(),j=R&&v,B=(f=At(f)).length;(j||B)&&(h.polygonStart(),j&&(h.lineStart(),r(null,null,1,h),h.lineEnd()),B&&bt(f,a,v,r,h),h.polygonEnd()),s=h,f=g=p=null}function Z(){$.point=O,g&&g.push(p=[]),z=!0,y=!1,w=A=NaN}function N(){f&&(O(E,S),k&&y&&u.rejoin(),f.push(u.result())),$.point=b,y&&s.lineEnd()}function O(v,j){var B=l(v,j);if(g&&p.push([v,j]),z)E=v,S=j,k=B,z=!1,B&&(s.lineStart(),s.point(v,j));else if(B&&y)s.point(v,j);else{var m=[w=Math.max(Je,Math.min(De,w)),A=Math.max(Je,Math.min(De,A))],D=[v=Math.max(Je,Math.min(De,v)),j=Math.max(Je,Math.min(De,j))];gi(m,D,n,e,i,t)?(y||(s.lineStart(),s.point(m[0],m[1])),s.point(D[0],D[1]),B||s.lineEnd(),R=!1):B&&(s.lineStart(),s.point(v,j),R=!1)}w=v,A=j,y=B}return $}}const yn=n=>n;var hn=new ke,En=new ke,jt,Lt,Sn,wn,de={point:se,lineStart:se,lineEnd:se,polygonStart:function(){de.lineStart=vi,de.lineEnd=mi},polygonEnd:function(){de.lineStart=de.lineEnd=de.point=se,hn.add(Q(En)),En=new ke},result:function(){var n=hn/2;return hn=new ke,n}};function vi(){de.point=_i}function _i(n,e){de.point=Dt,jt=Sn=n,Lt=wn=e}function Dt(n,e){En.add(wn*n-Sn*e),Sn=n,wn=e}function mi(){Dt(jt,Lt)}var be=1/0,tn=be,Ve=-be,ln=Ve,rn={point:yi,lineStart:se,lineEnd:se,polygonStart:se,polygonEnd:se,result:function(){var n=[[be,tn],[Ve,ln]];return Ve=ln=-(tn=be=1/0),n}};function yi(n,e){n<be&&(be=n),n>Ve&&(Ve=n),e<tn&&(tn=e),e>ln&&(ln=e)}var Pn=0,kn=0,Te=0,on=0,an=0,Re=0,Mn=0,Nn=0,Oe=0,Tt,Ot,fe,ce,ie={point:Me,lineStart:Yn,lineEnd:Qn,polygonStart:function(){ie.lineStart=wi,ie.lineEnd=Pi},polygonEnd:function(){ie.point=Me,ie.lineStart=Yn,ie.lineEnd=Qn},result:function(){var n=Oe?[Mn/Oe,Nn/Oe]:Re?[on/Re,an/Re]:Te?[Pn/Te,kn/Te]:[NaN,NaN];return Pn=kn=Te=on=an=Re=Mn=Nn=Oe=0,n}};function Me(n,e){Pn+=n,kn+=e,++Te}function Yn(){ie.point=Ei}function Ei(n,e){ie.point=Si,Me(fe=n,ce=e)}function Si(n,e){var i=n-fe,t=e-ce,l=Ee(i*i+t*t);on+=l*(fe+n)/2,an+=l*(ce+e)/2,Re+=l,Me(fe=n,ce=e)}function Qn(){ie.point=Me}function wi(){ie.point=ki}function Pi(){$t(Tt,Ot)}function ki(n,e){ie.point=$t,Me(Tt=fe=n,Ot=ce=e)}function $t(n,e){var i=n-fe,t=e-ce,l=Ee(i*i+t*t);on+=l*(fe+n)/2,an+=l*(ce+e)/2,Re+=l,l=ce*n-fe*e,Mn+=l*(fe+n),Nn+=l*(ce+e),Oe+=l*3,Me(fe=n,ce=e)}function Bt(n){this._context=n}Bt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,ue);break}}},result:se};var Rn=new ke,pn,Ft,qt,$e,Be,Ge={point:se,lineStart:function(){Ge.point=Mi},lineEnd:function(){pn&&Ht(Ft,qt),Ge.point=se},polygonStart:function(){pn=!0},polygonEnd:function(){pn=null},result:function(){var n=+Rn;return Rn=new ke,n}};function Mi(n,e){Ge.point=Ht,Ft=$e=n,qt=Be=e}function Ht(n,e){$e-=n,Be-=e,Rn.add(Ee($e*$e+Be*Be)),$e=n,Be=e}let Jn,sn,Kn,xn;class et{constructor(e){this._append=e==null?Ut:Ni(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,i){switch(this._point){case 0:{this._append`M${e},${i}`,this._point=1;break}case 1:{this._append`L${e},${i}`;break}default:{if(this._append`M${e},${i}`,this._radius!==Kn||this._append!==sn){const t=this._radius,l=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Kn=t,sn=this._append,xn=this._,this._=l}this._+=xn;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Ut(n){let e=1;this._+=n[0];for(const i=n.length;e<i;++e)this._+=arguments[e]+n[e]}function Ni(n){const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);if(e>15)return Ut;if(e!==Jn){const i=10**e;Jn=e,sn=function(l){let r=1;this._+=l[0];for(const o=l.length;r<o;++r)this._+=Math.round(arguments[r]*i)/i+l[r]}}return sn}function Ri(n,e){let i=3,t=4.5,l,r;function o(a){return a&&(typeof t=="function"&&r.pointRadius(+t.apply(this,arguments)),Ne(a,l(r))),r.result()}return o.area=function(a){return Ne(a,l(de)),de.result()},o.measure=function(a){return Ne(a,l(Ge)),Ge.result()},o.bounds=function(a){return Ne(a,l(rn)),rn.result()},o.centroid=function(a){return Ne(a,l(ie)),ie.result()},o.projection=function(a){return arguments.length?(l=a==null?(n=null,yn):(n=a).stream,o):n},o.context=function(a){return arguments.length?(r=a==null?(e=null,new et(i)):new Bt(e=a),typeof t!="function"&&r.pointRadius(t),o):e},o.pointRadius=function(a){return arguments.length?(t=typeof a=="function"?a:(r.pointRadius(+a),+a),o):t},o.digits=function(a){if(!arguments.length)return i;if(a==null)i=null;else{const c=Math.floor(a);if(!(c>=0))throw new RangeError(`invalid digits: ${a}`);i=c}return e===null&&(r=new et(i)),o},o.projection(n).digits(i).context(e)}function bn(n){return function(e){var i=new An;for(var t in n)i[t]=n[t];return i.stream=e,i}}function An(){}An.prototype={constructor:An,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Cn(n,e,i){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),Ne(i,n.stream(rn)),e(rn.result()),t!=null&&n.clipExtent(t),n}function Vt(n,e,i){return Cn(n,function(t){var l=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(l/(t[1][0]-t[0][0]),r/(t[1][1]-t[0][1])),a=+e[0][0]+(l-o*(t[1][0]+t[0][0]))/2,c=+e[0][1]+(r-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([a,c])},i)}function Ai(n,e,i){return Vt(n,[[0,0],e],i)}function Ii(n,e,i){return Cn(n,function(t){var l=+e,r=l/(t[1][0]-t[0][0]),o=(l-r*(t[1][0]+t[0][0]))/2,a=-r*t[0][1];n.scale(150*r).translate([o,a])},i)}function zi(n,e,i){return Cn(n,function(t){var l=+e,r=l/(t[1][1]-t[0][1]),o=-r*t[0][0],a=(l-r*(t[1][1]+t[0][1]))/2;n.scale(150*r).translate([o,a])},i)}var nt=16,bi=X(30*ne);function tt(n,e){return+e?ji(n,e):Ci(n)}function Ci(n){return bn({point:function(e,i){e=n(e,i),this.stream.point(e[0],e[1])}})}function ji(n,e){function i(t,l,r,o,a,c,h,s,u,f,g,p,E,S){var k=h-t,w=s-l,A=k*k+w*w;if(A>4*e&&E--){var y=o+f,z=a+g,R=c+p,$=Ee(y*y+z*z+R*R),b=Ie(R/=$),I=Q(Q(R)-1)<G||Q(r-u)<G?(r+u)/2:Ae(z,y),C=n(I,b),M=C[0],Z=C[1],N=M-t,O=Z-l,v=w*N-k*O;(v*v/A>e||Q((k*N+w*O)/A-.5)>.3||o*f+a*g+c*p<bi)&&(i(t,l,r,o,a,c,M,Z,I,y/=$,z/=$,R,E,S),S.point(M,Z),i(M,Z,I,y,z,R,h,s,u,f,g,p,E,S))}}return function(t){var l,r,o,a,c,h,s,u,f,g,p,E,S={point:k,lineStart:w,lineEnd:y,polygonStart:function(){t.polygonStart(),S.lineStart=z},polygonEnd:function(){t.polygonEnd(),S.lineStart=w}};function k(b,I){b=n(b,I),t.point(b[0],b[1])}function w(){u=NaN,S.point=A,t.lineStart()}function A(b,I){var C=ze([b,I]),M=n(b,I);i(u,f,s,g,p,E,u=M[0],f=M[1],s=b,g=C[0],p=C[1],E=C[2],nt,t),t.point(u,f)}function y(){S.point=k,t.lineEnd()}function z(){w(),S.point=R,S.lineEnd=$}function R(b,I){A(l=b,I),r=u,o=f,a=g,c=p,h=E,S.point=A}function $(){i(u,f,s,g,p,E,r,o,l,a,c,h,nt,t),S.lineEnd=y,y()}return S}}var Li=bn({point:function(n,e){this.stream.point(n*ne,e*ne)}});function Di(n){return bn({point:function(e,i){var t=n(e,i);return this.stream.point(t[0],t[1])}})}function Ti(n,e,i,t,l){function r(o,a){return o*=t,a*=l,[e+n*o,i-n*a]}return r.invert=function(o,a){return[(o-e)/n*t,(i-a)/n*l]},r}function it(n,e,i,t,l,r){if(!r)return Ti(n,e,i,t,l);var o=X(r),a=W(r),c=o*n,h=a*n,s=o/n,u=a/n,f=(a*i-o*e)/n,g=(a*e+o*i)/n;function p(E,S){return E*=t,S*=l,[c*E-h*S+e,i-h*E-c*S]}return p.invert=function(E,S){return[t*(s*E-u*S+f),l*(g-u*E-s*S)]},p}function Oi(n){return $i(function(){return n})()}function $i(n){var e,i=150,t=480,l=250,r=0,o=0,a=0,c=0,h=0,s,u=0,f=1,g=1,p=null,E=Xn,S=null,k,w,A,y=yn,z=.5,R,$,b,I,C;function M(v){return b(v[0]*ne,v[1]*ne)}function Z(v){return v=b.invert(v[0],v[1]),v&&[v[0]*ge,v[1]*ge]}M.stream=function(v){return I&&C===v?I:I=Li(Di(s)(E(R(y(C=v)))))},M.preclip=function(v){return arguments.length?(E=v,p=void 0,O()):E},M.postclip=function(v){return arguments.length?(y=v,S=k=w=A=null,O()):y},M.clipAngle=function(v){return arguments.length?(E=+v?pi(p=v*ne):(p=null,Xn),O()):p*ge},M.clipExtent=function(v){return arguments.length?(y=v==null?(S=k=w=A=null,yn):di(S=+v[0][0],k=+v[0][1],w=+v[1][0],A=+v[1][1]),O()):S==null?null:[[S,k],[w,A]]},M.scale=function(v){return arguments.length?(i=+v,N()):i},M.translate=function(v){return arguments.length?(t=+v[0],l=+v[1],N()):[t,l]},M.center=function(v){return arguments.length?(r=v[0]%360*ne,o=v[1]%360*ne,N()):[r*ge,o*ge]},M.rotate=function(v){return arguments.length?(a=v[0]%360*ne,c=v[1]%360*ne,h=v.length>2?v[2]%360*ne:0,N()):[a*ge,c*ge,h*ge]},M.angle=function(v){return arguments.length?(u=v%360*ne,N()):u*ge},M.reflectX=function(v){return arguments.length?(f=v?-1:1,N()):f<0},M.reflectY=function(v){return arguments.length?(g=v?-1:1,N()):g<0},M.precision=function(v){return arguments.length?(R=tt($,z=v*v),O()):Ee(z)},M.fitExtent=function(v,j){return Vt(M,v,j)},M.fitSize=function(v,j){return Ai(M,v,j)},M.fitWidth=function(v,j){return Ii(M,v,j)},M.fitHeight=function(v,j){return zi(M,v,j)};function N(){var v=it(i,0,0,f,g,u).apply(null,e(r,o)),j=it(i,t-v[0],l-v[1],f,g,u);return s=ri(a,c,h),$=_n(e,j),b=_n(s,$),R=tt($,z),O()}function O(){return I=C=null,M}return function(){return e=n.apply(this,arguments),M.invert=e.invert&&Z,N()}}function Bi(n){return function(e,i){var t=X(e),l=X(i),r=n(t*l);return r===1/0?[2,0]:[r*l*W(e),r*W(i)]}}function Fi(n){return function(e,i){var t=Ee(e*e+i*i),l=n(t),r=W(l),o=X(l);return[Ae(e*r,t*o),Ie(t&&i*r/t)]}}var Gt=Bi(function(n){return(n=It(n))&&n/W(n)});Gt.invert=Fi(function(n){return n});function qi(){return Oi(Gt).scale(79.4188).clipAngle(180-.001)}function Hi(n){var E,S;let e,i,t=`<p class="svelte-wlznm4">An interactive visualization of all the space debris that reenters
            the atmosphere in the South Pacific Ocean. From 1960 until today.</p>`,l,r,o,a,c=((E=n[0])==null?void 0:E.name)+"",h,s,u,f,g=((S=n[0])==null?void 0:S.year)+"",p;return{c(){e=K("div"),i=K("div"),i.innerHTML=t,l=ve(),r=K("div"),o=K("span"),a=le("Satellite: "),h=le(c),s=ve(),u=K("span"),f=le("Year: "),p=le(g),this.h()},l(k){e=x(k,"DIV",{class:!0});var w=T(e);i=x(w,"DIV",{class:!0,"data-svelte-h":!0}),In(i)!=="svelte-9fj3n4"&&(i.innerHTML=t),l=_e(w),r=x(w,"DIV",{class:!0});var A=T(r);o=x(A,"SPAN",{class:!0});var y=T(o);a=re(y,"Satellite: "),h=re(y,c),y.forEach(P),s=_e(A),u=x(A,"SPAN",{class:!0});var z=T(u);f=re(z,"Year: "),p=re(z,g),z.forEach(P),A.forEach(P),w.forEach(P),this.h()},h(){_(i,"class","description svelte-wlznm4"),_(o,"class","svelte-wlznm4"),_(u,"class","svelte-wlznm4"),_(r,"class","satellite-info svelte-wlznm4"),_(e,"class","top-bar svelte-wlznm4")},m(k,w){H(k,e,w),L(e,i),L(e,l),L(e,r),L(r,o),L(o,a),L(o,h),L(r,s),L(r,u),L(u,f),L(u,p)},p(k,[w]){var A,y;w&1&&c!==(c=((A=k[0])==null?void 0:A.name)+"")&&ye(h,c),w&1&&g!==(g=((y=k[0])==null?void 0:y.year)+"")&&ye(p,g)},i:he,o:he,d(k){k&&P(e)}}}function Ui(n,e,i){let{currentPoint:t}=e;return n.$$set=l=>{"currentPoint"in l&&i(0,t=l.currentPoint)},[t]}class Vi extends je{constructor(e){super(),Le(this,e,Ui,Hi,Ce,{currentPoint:0})}}function Gi(n){let e,i,t,l,r,o;return{c(){e=K("div"),i=K("div"),t=ve(),l=K("div"),this.h()},l(a){e=x(a,"DIV",{class:!0});var c=T(e);i=x(c,"DIV",{class:!0,style:!0}),T(i).forEach(P),t=_e(c),l=x(c,"DIV",{class:!0,style:!0}),T(l).forEach(P),c.forEach(P),this.h()},h(){_(i,"class","progress svelte-1aifhpe"),We(i,"width",(n[0]+1)/n[1].length*100+"%"),_(l,"class","draggable svelte-1aifhpe"),We(l,"left",(n[0]+1)/n[1].length*100+"%"),_(e,"class","progress-bar svelte-1aifhpe")},m(a,c){H(a,e,c),L(e,i),L(e,t),L(e,l),r||(o=zn(e,"mousedown",n[2]),r=!0)},p(a,[c]){c&3&&We(i,"width",(a[0]+1)/a[1].length*100+"%"),c&3&&We(l,"left",(a[0]+1)/a[1].length*100+"%")},i:he,o:he,d(a){a&&P(e),r=!1,o()}}}function Wi(n,e,i){const t=Nt();let{index:l}=e,{points:r}=e;function o(a){const c=a.currentTarget.getBoundingClientRect();let h=a.clientX-c.left;const s=c.width;h<0?h=0:h>s&&(h=s);const u=h/s*100,f=Math.floor(u/100*r.length);t("updateIndex",f)}return n.$$set=a=>{"index"in a&&i(0,l=a.index),"points"in a&&i(1,r=a.points)},[l,r,o]}class Zi extends je{constructor(e){super(),Le(this,e,Wi,Gi,Ce,{index:0,points:1})}}function Xi(n){let e,i=`<h2 class="svelte-1vdl53p">Colophon</h2> <p class="svelte-1vdl53p">Since space exploration began in the 1950s, the various technologies
        used for launching and carrying out missions have left their mark,
        gradually creating vast fields and layers of debris both in orbit and in
        the Earth&#39;s marine environment.</p> <p class="svelte-1vdl53p">While space debris is mainly associated with the countless pieces
        scattered around the Earth, its re-entry into the atmosphere and its
        possible re-entry into the sometimes deliberately controlled marine
        environment often goes unnoticed. Media portraits deal with the
        phenomenon of falling debris mainly in the context of the mysterious <em>Point Nemo</em>, also known as the <em>spaceship graveyard</em>. However, the romantic
        and antropomorphic concept of technology finding its final resting place
        is misleading and ignores the reality of a chaotic waste dump 4 embedded
        in a complex legal dilemma around environmental damage.</p> <h2 class="svelte-1vdl53p">Map</h2> <p class="svelte-1vdl53p">A timeline visualising all the artificial space objects that fell within
        the South Pacific Ocean Uninhabited Area (SPOUA) from 1959 until now -
        reflecting on the past, present and future presence of space objects in
        marine environments.</p> <p class="svelte-1vdl53p">By geolocating their predicted reentry, the resulting coordinates are
        juxtaposed with the legal limits of coastal states‘ sovereign rights,
        spanning from Exclusive Economic Zones to Navigational Areas.</p> <p class="svelte-1vdl53p">While the first shows the conflicting intersection with the UN Law of
        the Sea and a possible breach thereof, the latter emphasises the
        constant risk of impact that re-entering spacecraft pose to shipping
        routes within the South Pacific Ocean.</p> <h2 class="svelte-1vdl53p">Data</h2> <ol class="svelte-1vdl53p"><li>ESA (European Space Agency)</li> <li>GEBCO (General bathymetric chart of the oceans)</li> <li>Marineregions.org</li> <li>NASA ODPO (Orbital Debris Programme Office)</li> <li>NASA Distance to the Nearest Coast</li> <li>NOAA (National Oceanic and Atmospheric Administration)</li> <li>NORAD (National Oceanic and Atmospheric Administration)</li> <li>CelesTrak</li> <li>USSTRATCOM (United States Strategic Command)</li></ol>`;return{c(){e=K("article"),e.innerHTML=i,this.h()},l(t){e=x(t,"ARTICLE",{class:!0,"data-svelte-h":!0}),In(e)!=="svelte-1bcz6ln"&&(e.innerHTML=i),this.h()},h(){_(e,"class","svelte-1vdl53p")},m(t,l){H(t,e,l)},p:he,i:he,o:he,d(t){t&&P(e)}}}class Yi extends je{constructor(e){super(),Le(this,e,null,Xi,Ce,{})}}function lt(n,e,i){const t=n.slice();return t[9]=e[i],t[11]=i,t}function rt(n){let e,i=n[9].name+"",t,l,r=n[9].year+"",o,a,c,h;function s(){return n[7](n[11])}return{c(){e=K("p"),t=le(i),l=le(", "),o=le(r),a=ve(),this.h()},l(u){e=x(u,"P",{class:!0});var f=T(e);t=re(f,i),l=re(f,", "),o=re(f,r),a=_e(f),f.forEach(P),this.h()},h(){_(e,"class","svelte-1hvvvdt"),un(e,"gray-background",n[11]%2===1),un(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},m(u,f){H(u,e,f),L(e,t),L(e,l),L(e,o),L(e,a),c||(h=zn(e,"click",s),c=!0)},p(u,f){n=u,f&4&&i!==(i=n[9].name+"")&&ye(t,i),f&4&&r!==(r=n[9].year+"")&&ye(o,r),f&5&&un(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},d(u){u&&P(e),c=!1,h()}}}function Qi(n){let e,i,t,l,r,o,a,c,h,s=ee(n[2]),u=[];for(let f=0;f<s.length;f+=1)u[f]=rt(lt(n,s,f));return o=new Yi({}),{c(){e=K("article"),i=K("input"),t=ve(),l=K("div");for(let f=0;f<u.length;f+=1)u[f].c();r=ve(),Fe(o.$$.fragment),this.h()},l(f){e=x(f,"ARTICLE",{class:!0});var g=T(e);i=x(g,"INPUT",{type:!0,placeholder:!0,class:!0}),t=_e(g),l=x(g,"DIV",{class:!0});var p=T(l);for(let E=0;E<u.length;E+=1)u[E].l(p);p.forEach(P),g.forEach(P),r=_e(f),qe(o.$$.fragment,f),this.h()},h(){_(i,"type","text"),_(i,"placeholder","Search..."),_(i,"class","svelte-1hvvvdt"),_(l,"class","svelte-1hvvvdt"),_(e,"class","svelte-1hvvvdt")},m(f,g){H(f,e,g),L(e,i),On(i,n[1]),L(e,t),L(e,l);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(l,null);H(f,r,g),He(o,f,g),a=!0,c||(h=zn(i,"input",n[6]),c=!0)},p(f,[g]){if(g&2&&i.value!==f[1]&&On(i,f[1]),g&13){s=ee(f[2]);let p;for(p=0;p<s.length;p+=1){const E=lt(f,s,p);u[p]?u[p].p(E,g):(u[p]=rt(E),u[p].c(),u[p].m(l,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=s.length}},i(f){a||(we(o.$$.fragment,f),a=!0)},o(f){Pe(o.$$.fragment,f),a=!1},d(f){f&&(P(e),P(r)),me(u,f),Ue(o,f),c=!1,h()}}}function Ji(n,e,i){let t,l,{points:r}=e,{highlighted:o}=e;const a=Nt();let c="";function h(f){a("updateId",t[f])}function s(){c=this.value,i(1,c)}const u=f=>h(f);return n.$$set=f=>{"points"in f&&i(4,r=f.points),"highlighted"in f&&i(0,o=f.highlighted)},n.$$.update=()=>{n.$$.dirty&16&&i(5,l=r.reduce((f,g)=>f.find(E=>E.name===g.name&&E.year===g.year)?f:f.concat([g]),[])),n.$$.dirty&34&&i(2,t=l.filter(f=>f.name.toLowerCase().includes(c.toLowerCase())))},[o,c,t,h,r,l,s,u]}class Ki extends je{constructor(e){super(),Le(this,e,Ji,Qi,Ce,{points:4,highlighted:0})}}function ot(n,e,i){const t=n.slice();return t[22]=e[i].cx,t[23]=e[i].cy,t[24]=e[i].name,t}function at(n,e,i){const t=n.slice();return t[27]=e[i],t[29]=i,t}function st(n,e,i){const t=n.slice();return t[22]=e[i].cx,t[23]=e[i].cy,t[24]=e[i].name,t[30]=e[i].r,t[29]=i,t}function ut(n,e,i){const t=n.slice();return t[32]=e[i],t[29]=i,t}function ft(n,e,i){const t=n.slice();return t[27]=e[i],t[29]=i,t}function ct(n,e,i){const t=n.slice();return t[27]=e[i],t[29]=i,t}function ht(n,e,i){const t=n.slice();return t[27]=e[i],t[29]=i,t}function pt(n){let e,i,t,l,r,o,a,c,h,s,u,f,g,p,E,S,k,w,A,y=n[0].length>0&&gt(n),z=ee(n[6]),R=[];for(let m=0;m<z.length;m+=1)R[m]=dt(ht(n,z,m));let $=ee(n[5]),b=[];for(let m=0;m<$.length;m+=1)b[m]=vt(ct(n,$,m));let I=ee(n[7]),C=[];for(let m=0;m<I.length;m+=1)C[m]=_t(ft(n,I,m));let M=n[0].length>0&&mt(n),Z=ee(n[0]),N=[];for(let m=0;m<Z.length;m+=1)N[m]=wt(st(n,Z,m));let O=ee(n[8]),v=[];for(let m=0;m<O.length;m+=1)v[m]=Pt(at(n,O,m));let j=ee(n[4]),B=[];for(let m=0;m<j.length;m+=1)B[m]=Mt(ot(n,j,m));return{c(){e=U("svg"),i=U("defs"),t=U("path"),r=U("clipPath"),o=U("use"),y&&y.c(),a=U("g"),c=U("circle"),f=U("g");for(let m=0;m<R.length;m+=1)R[m].c();g=U("g");for(let m=0;m<b.length;m+=1)b[m].c();p=U("g");for(let m=0;m<C.length;m+=1)C[m].c();E=U("g"),M&&M.c(),S=U("g");for(let m=0;m<N.length;m+=1)N[m].c();k=U("g");for(let m=0;m<v.length;m+=1)v[m].c();w=U("g");for(let m=0;m<B.length;m+=1)B[m].c();this.h()},l(m){e=V(m,"svg",{viewBox:!0});var D=T(e);i=V(D,"defs",{});var d=T(i);t=V(d,"path",{id:!0,d:!0}),T(t).forEach(P),r=V(d,"clipPath",{class:!0,id:!0});var q=T(r);o=V(q,"use",{href:!0}),T(o).forEach(P),q.forEach(P),d.forEach(P),y&&y.l(D),a=V(D,"g",{"clip-path":!0,class:!0});var J=T(a);c=V(J,"circle",{cx:!0,cy:!0,r:!0,class:!0}),T(c).forEach(P),f=V(J,"g",{class:!0,fill:!0,stroke:!0});var te=T(f);for(let Y=0;Y<R.length;Y+=1)R[Y].l(te);te.forEach(P),g=V(J,"g",{class:!0,stroke:!0});var Se=T(g);for(let Y=0;Y<b.length;Y+=1)b[Y].l(Se);Se.forEach(P),p=V(J,"g",{class:!0,fill:!0,stroke:!0});var pe=T(p);for(let Y=0;Y<C.length;Y+=1)C[Y].l(pe);pe.forEach(P),E=V(J,"g",{class:!0});var jn=T(E);M&&M.l(jn),jn.forEach(P),S=V(J,"g",{class:!0});var Ln=T(S);for(let Y=0;Y<N.length;Y+=1)N[Y].l(Ln);Ln.forEach(P),k=V(J,"g",{class:!0});var Dn=T(k);for(let Y=0;Y<v.length;Y+=1)v[Y].l(Dn);Dn.forEach(P),w=V(J,"g",{class:!0});var Tn=T(w);for(let Y=0;Y<B.length;Y+=1)B[Y].l(Tn);Tn.forEach(P),J.forEach(P),D.forEach(P),this.h()},h(){_(t,"id","sphere"),_(t,"d",l=n[12]({type:"Sphere"})),_(o,"href","#sphere"),_(r,"class","clip"),_(r,"id","clip"),_(c,"cx",h=n[2]/2),_(c,"cy",s=n[3]/2),_(c,"r",u=n[2]*2),_(c,"class","bg svelte-1yjfvy6"),_(f,"class","marine svelte-1yjfvy6"),_(f,"fill","#e9f4ff"),_(f,"stroke","blue"),_(g,"class","world svelte-1yjfvy6"),_(g,"stroke","none"),_(p,"class","contour svelte-1yjfvy6"),_(p,"fill","none"),_(p,"stroke","none"),_(E,"class","svelte-1yjfvy6"),_(S,"class","svelte-1yjfvy6"),_(k,"class","spoua svelte-1yjfvy6"),_(w,"class","nemo svelte-1yjfvy6"),_(a,"clip-path","url(#clip)"),_(a,"class","svelte-1yjfvy6"),_(e,"viewBox",A="0 0 "+n[2]+" "+n[3])},m(m,D){H(m,e,D),L(e,i),L(i,t),L(i,r),L(r,o),y&&y.m(e,null),L(e,a),L(a,c),L(a,f);for(let d=0;d<R.length;d+=1)R[d]&&R[d].m(f,null);L(a,g);for(let d=0;d<b.length;d+=1)b[d]&&b[d].m(g,null);L(a,p);for(let d=0;d<C.length;d+=1)C[d]&&C[d].m(p,null);L(a,E),M&&M.m(E,null),L(a,S);for(let d=0;d<N.length;d+=1)N[d]&&N[d].m(S,null);L(a,k);for(let d=0;d<v.length;d+=1)v[d]&&v[d].m(k,null);L(a,w);for(let d=0;d<B.length;d+=1)B[d]&&B[d].m(w,null)},p(m,D){if(D[0]&4096&&l!==(l=m[12]({type:"Sphere"}))&&_(t,"d",l),m[0].length>0?y?y.p(m,D):(y=gt(m),y.c(),y.m(e,a)):y&&(y.d(1),y=null),D[0]&4&&h!==(h=m[2]/2)&&_(c,"cx",h),D[0]&8&&s!==(s=m[3]/2)&&_(c,"cy",s),D[0]&4&&u!==(u=m[2]*2)&&_(c,"r",u),D[0]&4160){z=ee(m[6]);let d;for(d=0;d<z.length;d+=1){const q=ht(m,z,d);R[d]?R[d].p(q,D):(R[d]=dt(q),R[d].c(),R[d].m(f,null))}for(;d<R.length;d+=1)R[d].d(1);R.length=z.length}if(D[0]&4128){$=ee(m[5]);let d;for(d=0;d<$.length;d+=1){const q=ct(m,$,d);b[d]?b[d].p(q,D):(b[d]=vt(q),b[d].c(),b[d].m(g,null))}for(;d<b.length;d+=1)b[d].d(1);b.length=$.length}if(D[0]&4224){I=ee(m[7]);let d;for(d=0;d<I.length;d+=1){const q=ft(m,I,d);C[d]?C[d].p(q,D):(C[d]=_t(q),C[d].c(),C[d].m(p,null))}for(;d<C.length;d+=1)C[d].d(1);C.length=I.length}if(m[0].length>0?M?M.p(m,D):(M=mt(m),M.c(),M.m(E,null)):M&&(M.d(1),M=null),D[0]&1){Z=ee(m[0]);let d;for(d=0;d<Z.length;d+=1){const q=st(m,Z,d);N[d]?N[d].p(q,D):(N[d]=wt(q),N[d].c(),N[d].m(S,null))}for(;d<N.length;d+=1)N[d].d(1);N.length=Z.length}if(D[0]&4352){O=ee(m[8]);let d;for(d=0;d<O.length;d+=1){const q=at(m,O,d);v[d]?v[d].p(q,D):(v[d]=Pt(q),v[d].c(),v[d].m(k,null))}for(;d<v.length;d+=1)v[d].d(1);v.length=O.length}if(D[0]&16){j=ee(m[4]);let d;for(d=0;d<j.length;d+=1){const q=ot(m,j,d);B[d]?B[d].p(q,D):(B[d]=Mt(q),B[d].c(),B[d].m(w,null))}for(;d<B.length;d+=1)B[d].d(1);B.length=j.length}D[0]&12&&A!==(A="0 0 "+m[2]+" "+m[3])&&_(e,"viewBox",A)},d(m){m&&P(e),y&&y.d(),me(R,m),me(b,m),me(C,m),M&&M.d(),me(N,m),me(v,m),me(B,m)}}}function gt(n){var c,h;let e,i,t=((c=n[0][n[0].length-1])==null?void 0:c.name)+"",l,r,o=((h=n[0][n[0].length-1])==null?void 0:h.year)+"",a;return{c(){e=U("text"),i=U("textPath"),l=le(t),r=le(" — "),a=le(o),this.h()},l(s){e=V(s,"text",{"text-anchor":!0,dy:!0,"font-size":!0,fill:!0});var u=T(e);i=V(u,"textPath",{href:!0,startOffset:!0});var f=T(i);l=re(f,t),r=re(f," — "),a=re(f,o),f.forEach(P),u.forEach(P),this.h()},h(){_(i,"href","#sphere"),_(i,"startOffset","15%"),_(e,"text-anchor","left"),_(e,"dy","-5"),_(e,"font-size","36"),_(e,"fill","blue")},m(s,u){H(s,e,u),L(e,i),L(i,l),L(i,r),L(i,a)},p(s,u){var f,g;u[0]&1&&t!==(t=((f=s[0][s[0].length-1])==null?void 0:f.name)+"")&&ye(l,t),u[0]&1&&o!==(o=((g=s[0][s[0].length-1])==null?void 0:g.year)+"")&&ye(a,o)},d(s){s&&P(e)}}}function dt(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),T(e).forEach(P),this.h()},h(){_(e,"d",i=n[12](n[27])),_(e,"class","marineBorders")},m(t,l){H(t,e,l)},p(t,l){l[0]&4160&&i!==(i=t[12](t[27]))&&_(e,"d",i)},d(t){t&&P(e)}}}function vt(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),T(e).forEach(P),this.h()},h(){_(e,"d",i=n[12](n[27])),_(e,"class","country")},m(t,l){H(t,e,l)},p(t,l){l[0]&4128&&i!==(i=t[12](t[27]))&&_(e,"d",i)},d(t){t&&P(e)}}}function _t(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),T(e).forEach(P),this.h()},h(){_(e,"d",i=n[12](n[27])),_(e,"class","contour svelte-1yjfvy6")},m(t,l){H(t,e,l)},p(t,l){l[0]&4224&&i!==(i=t[12](t[27]))&&_(e,"d",i)},d(t){t&&P(e)}}}function mt(n){let e,i=ee(n[0]),t=[];for(let l=0;l<i.length;l+=1)t[l]=Et(ut(n,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=oe()},l(l){for(let r=0;r<t.length;r+=1)t[r].l(l);e=oe()},m(l,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(l,r);H(l,e,r)},p(l,r){if(r[0]&1){i=ee(l[0]);let o;for(o=0;o<i.length;o+=1){const a=ut(l,i,o);t[o]?t[o].p(a,r):(t[o]=Et(a),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=i.length}},d(l){l&&P(e),me(t,l)}}}function yt(n){let e,i,t,l,r,o;return{c(){e=U("line"),this.h()},l(a){e=V(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),T(e).forEach(P),this.h()},h(){_(e,"x1",i=n[0][n[29]-1].cx),_(e,"y1",t=n[0][n[29]-1].cy),_(e,"x2",l=n[32].cx),_(e,"y2",r=n[32].cy),_(e,"class",o=xe(n[29]===n[0].length-1?"line highlite":"line old")+" svelte-1yjfvy6")},m(a,c){H(a,e,c)},p(a,c){c[0]&1&&i!==(i=a[0][a[29]-1].cx)&&_(e,"x1",i),c[0]&1&&t!==(t=a[0][a[29]-1].cy)&&_(e,"y1",t),c[0]&1&&l!==(l=a[32].cx)&&_(e,"x2",l),c[0]&1&&r!==(r=a[32].cy)&&_(e,"y2",r),c[0]&1&&o!==(o=xe(a[29]===a[0].length-1?"line highlite":"line old")+" svelte-1yjfvy6")&&_(e,"class",o)},d(a){a&&P(e)}}}function Et(n){let e,i=n[29]>0&&n[0][n[29]].name===n[0][n[29]-1].name&&yt(n);return{c(){i&&i.c(),e=oe()},l(t){i&&i.l(t),e=oe()},m(t,l){i&&i.m(t,l),H(t,e,l)},p(t,l){t[29]>0&&t[0][t[29]].name===t[0][t[29]-1].name?i?i.p(t,l):(i=yt(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&P(e),i&&i.d(t)}}}function xi(n){let e,i,t,l;return{c(){e=U("circle"),this.h()},l(r){e=V(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),T(e).forEach(P),this.h()},h(){_(e,"cx",i=n[22]),_(e,"cy",t=n[23]),_(e,"r",l=n[30]),_(e,"fill","blue"),_(e,"class","highlite svelte-1yjfvy6")},m(r,o){H(r,e,o)},p(r,o){o[0]&1&&i!==(i=r[22])&&_(e,"cx",i),o[0]&1&&t!==(t=r[23])&&_(e,"cy",t),o[0]&1&&l!==(l=r[30])&&_(e,"r",l)},d(r){r&&P(e)}}}function el(n){let e,i,t,l,r;return{c(){e=U("circle"),this.h()},l(o){e=V(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),T(e).forEach(P),this.h()},h(){_(e,"cx",i=n[22]),_(e,"cy",t=n[23]),_(e,"r",l=n[30]),_(e,"fill","blue"),_(e,"class",r=xe(n[29]===n[0].length-1?"dot highlite":"dot old")+" svelte-1yjfvy6")},m(o,a){H(o,e,a)},p(o,a){a[0]&1&&i!==(i=o[22])&&_(e,"cx",i),a[0]&1&&t!==(t=o[23])&&_(e,"cy",t),a[0]&1&&l!==(l=o[30])&&_(e,"r",l),a[0]&1&&r!==(r=xe(o[29]===o[0].length-1?"dot highlite":"dot old")+" svelte-1yjfvy6")&&_(e,"class",r)},d(o){o&&P(e)}}}function St(n){let e,i=n[24]+"",t,l,r;return{c(){e=U("text"),t=le(i),this.h()},l(o){e=V(o,"text",{x:!0,y:!0,class:!0,"font-size":!0});var a=T(e);t=re(a,i),a.forEach(P),this.h()},h(){_(e,"x",l=n[30]+n[22]+8),_(e,"y",r=n[23]+2),_(e,"class","satellite-name svelte-1yjfvy6"),_(e,"font-size","8")},m(o,a){H(o,e,a),L(e,t)},p(o,a){a[0]&1&&i!==(i=o[24]+"")&&ye(t,i),a[0]&1&&l!==(l=o[30]+o[22]+8)&&_(e,"x",l),a[0]&1&&r!==(r=o[23]+2)&&_(e,"y",r)},d(o){o&&P(e)}}}function wt(n){let e,i;function t(a,c){if(a[29]>0&&a[0][a[29]].name===a[0][a[29]-1].name)return el;if(a[29]===a[0].length-1)return xi}let l=t(n),r=l&&l(n),o=n[29]===n[0].length-1&&St(n);return{c(){r&&r.c(),e=oe(),o&&o.c(),i=oe()},l(a){r&&r.l(a),e=oe(),o&&o.l(a),i=oe()},m(a,c){r&&r.m(a,c),H(a,e,c),o&&o.m(a,c),H(a,i,c)},p(a,c){l===(l=t(a))&&r?r.p(a,c):(r&&r.d(1),r=l&&l(a),r&&(r.c(),r.m(e.parentNode,e))),a[29]===a[0].length-1?o?o.p(a,c):(o=St(a),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(a){a&&(P(e),P(i)),r&&r.d(a),o&&o.d(a)}}}function Pt(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),T(e).forEach(P),this.h()},h(){_(e,"d",i=n[12](n[27])),_(e,"class","spoua svelte-1yjfvy6")},m(t,l){H(t,e,l)},p(t,l){l[0]&4352&&i!==(i=t[12](t[27]))&&_(e,"d",i)},d(t){t&&P(e)}}}function kt(n){let e,i,t,l,r=n[24]+"",o,a,c;return{c(){e=U("circle"),l=U("text"),o=le(r),this.h()},l(h){e=V(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),T(e).forEach(P),l=V(h,"text",{x:!0,y:!0,"font-size":!0,class:!0});var s=T(l);o=re(s,r),s.forEach(P),this.h()},h(){_(e,"cx",i=n[22]),_(e,"cy",t=n[23]),_(e,"r",1),_(e,"fill","black"),_(e,"class","svelte-1yjfvy6"),_(l,"x",a=n[22]+4),_(l,"y",c=n[23]+2),_(l,"font-size","8"),_(l,"class","svelte-1yjfvy6")},m(h,s){H(h,e,s),H(h,l,s),L(l,o)},p(h,s){s[0]&16&&i!==(i=h[22])&&_(e,"cx",i),s[0]&16&&t!==(t=h[23])&&_(e,"cy",t),s[0]&16&&r!==(r=h[24]+"")&&ye(o,r),s[0]&16&&a!==(a=h[22]+4)&&_(l,"x",a),s[0]&16&&c!==(c=h[23]+2)&&_(l,"y",c)},d(h){h&&(P(e),P(l))}}}function Mt(n){let e,i=n[22]&&n[23]&&kt(n);return{c(){i&&i.c(),e=oe()},l(t){i&&i.l(t),e=oe()},m(t,l){i&&i.m(t,l),H(t,e,l)},p(t,l){t[22]&&t[23]?i?i.p(t,l):(i=kt(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&P(e),i&&i.d(t)}}}function nl(n){let e,i,t,l,r,o,a,c,h;e=new Vi({props:{currentPoint:n[10]}}),t=new Zi({props:{index:n[11],points:n[9]}}),t.$on("updateIndex",n[14]);let s=n[0].length>0&&pt(n);return c=new Ki({props:{points:n[9],highlighted:n[13]}}),c.$on("updateId",n[15]),{c(){Fe(e.$$.fragment),i=ve(),Fe(t.$$.fragment),l=ve(),r=K("article"),o=K("div"),s&&s.c(),a=ve(),Fe(c.$$.fragment),this.h()},l(u){qe(e.$$.fragment,u),i=_e(u),qe(t.$$.fragment,u),l=_e(u),r=x(u,"ARTICLE",{class:!0});var f=T(r);o=x(f,"DIV",{class:!0});var g=T(o);s&&s.l(g),g.forEach(P),a=_e(f),qe(c.$$.fragment,f),f.forEach(P),this.h()},h(){_(o,"class","svelte-1yjfvy6"),_(r,"class","svelte-1yjfvy6")},m(u,f){He(e,u,f),H(u,i,f),He(t,u,f),H(u,l,f),H(u,r,f),L(r,o),s&&s.m(o,null),n[17](o),L(r,a),He(c,r,null),h=!0},p(u,f){const g={};f[0]&1024&&(g.currentPoint=u[10]),e.$set(g);const p={};f[0]&2048&&(p.index=u[11]),f[0]&512&&(p.points=u[9]),t.$set(p),u[0].length>0?s?s.p(u,f):(s=pt(u),s.c(),s.m(o,null)):s&&(s.d(1),s=null);const E={};f[0]&512&&(E.points=u[9]),f[0]&8192&&(E.highlighted=u[13]),c.$set(E)},i(u){h||(we(e.$$.fragment,u),we(t.$$.fragment,u),we(c.$$.fragment,u),h=!0)},o(u){Pe(e.$$.fragment,u),Pe(t.$$.fragment,u),Pe(c.$$.fragment,u),h=!1},d(u){u&&(P(i),P(l),P(r)),Ue(e,u),Ue(t,u),s&&s.d(),n[17](null),Ue(c)}}}function tl(n,e,i){let t,{data:l}=e,r,o=0,a=0,c,h=[{lon:-126.3622344,lat:-72.9741938,name:"Maher Island"},{lon:-109.452777777778,lat:-27.2013888888889,name:"Easter Island"},{lon:-124.787888,lat:-24.6807263,name:"Ducie Island"},{lon:-123.3933333,lat:-48.8766667,name:"Point Nemo"}],s=[],u=[],f=[],g=[],p=[],E=[],S=null,k=0,w,A;Rt(async()=>{y();try{const I=await fetch("world.json").then(N=>N.json()),C=await fetch("EEZ_land_v2_201410.json").then(N=>N.json()),M=await fetch("contour.json").then(N=>N.json()),Z=await fetch("spoua.json").then(N=>N.json());i(5,s=Ze(I,I.objects.land).features),i(6,u=Ze(C,C.objects.EEZ_land_v2_201410).features),i(7,f=Ze(M,M.objects.collection).features),i(8,g=Ze(Z,Z.objects.spoua).features),i(9,p=l.map(N=>{const[O,v]=c([N.lon,N.lat]);return{cx:O,cy:v,name:N.satellite_name,year:N.satellite_decay,r:N.rcs}}).filter(N=>!isNaN(N.cx)&&!isNaN(N.cy))),i(4,h=h.map(N=>{const[O,v]=c([N.lon,N.lat]);return{cx:O,cy:v,name:N.name}})),z()}catch(I){console.error("Error loading or processing data:",I)}window.addEventListener("resize",y)});function y(){r&&(i(2,o=r.clientWidth),i(3,a=r.clientHeight),c=qi().rotate([123,48]).scale(260).precision(1).clipAngle(100).translate([o/2,a/2]),i(12,A=Ri().projection(c)))}const z=()=>{w&&clearInterval(w),i(11,k=0),i(0,E=[]),w=setInterval(()=>{k<p.length?(i(0,E=[...E,p[k]]),i(10,S=p[k]),i(11,k=(k+1)%p.length)):clearInterval(w)},500)},R=I=>{i(11,k=I.detail),i(0,E=p.slice(0,k+1)),i(10,S=E[E.length-1]),i(13,t=p[k+1])},$=I=>{i(11,k=p.findIndex(C=>C.name==I.detail.name&&C.year==I.detail.year)),i(0,E=p.slice(0,k+1))};function b(I){Wt[I?"unshift":"push"](()=>{r=I,i(1,r)})}return n.$$set=I=>{"data"in I&&i(16,l=I.data)},n.$$.update=()=>{n.$$.dirty[0]&1&&i(13,t=E.slice(-1)[0])},[E,r,o,a,h,s,u,f,g,p,S,k,A,t,R,$,l,b]}let il=class extends je{constructor(e){super(),Le(this,e,tl,nl,Ce,{data:16},null,[-1,-1])}};function ll(n){let e,i,t,l;return i=new il({props:{data:n[0]}}),{c(){e=K("article"),Fe(i.$$.fragment),this.h()},l(r){e=x(r,"ARTICLE",{class:!0});var o=T(e);qe(i.$$.fragment,o),o.forEach(P),this.h()},h(){_(e,"class","svelte-3qdlah"),Zt(()=>n[3].call(e))},m(r,o){H(r,e,o),He(i,e,null),t=Xt(e,n[3].bind(e)),l=!0},p(r,o){const a={};o&1&&(a.data=r[0]),i.$set(a)},i(r){l||(we(i.$$.fragment,r),l=!0)},o(r){Pe(i.$$.fragment,r),l=!1},d(r){r&&P(e),Ue(i),t()}}}function rl(n){let e,i="Loading...";return{c(){e=K("p"),e.textContent=i,this.h()},l(t){e=x(t,"P",{class:!0,"data-svelte-h":!0}),In(e)!=="svelte-qdsr2u"&&(e.textContent=i),this.h()},h(){_(e,"class","svelte-3qdlah")},m(t,l){H(t,e,l)},p:he,i:he,o:he,d(t){t&&P(e)}}}function ol(n){let e,i,t,l;const r=[rl,ll],o=[];function a(c,h){return c[0].length===0?0:1}return e=a(n),i=o[e]=r[e](n),{c(){i.c(),t=oe()},l(c){i.l(c),t=oe()},m(c,h){o[e].m(c,h),H(c,t,h),l=!0},p(c,[h]){let s=e;e=a(c),e===s?o[e].p(c,h):(Qt(),Pe(o[s],1,1,()=>{o[s]=null}),Yt(),i=o[e],i?i.p(c,h):(i=o[e]=r[e](c),i.c()),we(i,1),i.m(t.parentNode,t))},i(c){l||(we(i),l=!0)},o(c){Pe(i),l=!1},d(c){c&&P(t),o[e].d(c)}}}function al(n,e,i){let t=[],l,r;Rt(async()=>{const c=await(await fetch("data.json")).json(),h=Math.min(...c.map(u=>u.rcs)),s=Math.max(...c.map(u=>u.rcs));i(0,t=c.map(u=>({...u,rcs:1+(u.rcs-h)*9/(s-h)})))});function o(){l=this.clientWidth,r=this.clientHeight,i(1,l),i(2,r)}return[t,l,r,o]}class cl extends je{constructor(e){super(),Le(this,e,al,ol,Ce,{})}}export{cl as component};
