import{s as Fe,e as K,b as ve,t as ie,d as x,f as q,O as kt,j as me,h as le,i as k,v as d,k as O,l as b,m as Ee,n as _e,w as Me,P as zn,Q as Mt,R as Dn,S as de,T as sn,F as It,U as Nt,r as Rt,V as H,W as X,p as re,X as xe}from"../chunks/scheduler.BOPF9aT2.js";import{S as Oe,i as Ve,b as We,d as Ue,m as Qe,t as Ne,a as Re,e as Je,c as Gt,g as Wt}from"../chunks/index.-bqUeIaq.js";function J(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Ut(n){return n}function Qt(n){if(n==null)return Ut;var e,i,t=n.scale[0],l=n.scale[1],a=n.translate[0],o=n.translate[1];return function(r,c){c||(e=i=0);var p=2,u=r.length,f=new Array(u);for(f[0]=(e+=r[0])*t+a,f[1]=(i+=r[1])*l+o;p<u;)f[p]=r[p],++p;return f}}function Jt(n,e){for(var i,t=n.length,l=t-e;l<--t;)i=n[l],n[l++]=n[t],n[t]=i}function He(n,e){return typeof e=="string"&&(e=n.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(i){return bn(n,i)})}:bn(n,e)}function bn(n,e){var i=e.id,t=e.bbox,l=e.properties==null?{}:e.properties,a=Kt(n,e);return i==null&&t==null?{type:"Feature",properties:l,geometry:a}:t==null?{type:"Feature",id:i,properties:l,geometry:a}:{type:"Feature",id:i,bbox:t,properties:l,geometry:a}}function Kt(n,e){var i=Qt(n.transform),t=n.arcs;function l(u,f){f.length&&f.pop();for(var s=t[u<0?~u:u],h=0,_=s.length;h<_;++h)f.push(i(s[h],h));u<0&&Jt(f,_)}function a(u){return i(u)}function o(u){for(var f=[],s=0,h=u.length;s<h;++s)l(u[s],f);return f.length<2&&f.push(f[0]),f}function r(u){for(var f=o(u);f.length<4;)f.push(f[0]);return f}function c(u){return u.map(r)}function p(u){var f=u.type,s;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(p)};case"Point":s=a(u.coordinates);break;case"MultiPoint":s=u.coordinates.map(a);break;case"LineString":s=o(u.arcs);break;case"MultiLineString":s=u.arcs.map(o);break;case"Polygon":s=c(u.arcs);break;case"MultiPolygon":s=u.arcs.map(c);break;default:return null}return{type:f,coordinates:s}}return p(e)}class we{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let t=0;for(let l=0;l<this._n&&l<32;l++){const a=i[l],o=e+a,r=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);r&&(i[t++]=r),e=o}return i[t]=e,this._n=t+1,this}valueOf(){const e=this._partials;let i=this._n,t,l,a,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,l=e[--i],o=t+l,a=l-(o-t),!a););i>0&&(a<0&&e[i-1]<0||a>0&&e[i-1]>0)&&(l=a*2,t=o+l,l==t-o&&(o=t))}return o}}function*xt(n){for(const e of n)yield*e}function zt(n){return Array.from(xt(n))}var Y=1e-6,ei=1e-12,B=Math.PI,oe=B/2,qn=B/4,ue=B*2,pe=180/B,ee=B/180,U=Math.abs,ni=Math.atan,ze=Math.atan2,G=Math.cos,Z=Math.sin,ti=Math.sign||function(n){return n>0?1:n<0?-1:0},Se=Math.sqrt;function jt(n){return n>1?0:n<-1?B:Math.acos(n)}function je(n){return n>1?oe:n<-1?-oe:Math.asin(n)}function ae(){}function en(n,e){n&&Bn.hasOwnProperty(n.type)&&Bn[n.type](n,e)}var $n={Feature:function(n,e){en(n.geometry,e)},FeatureCollection:function(n,e){for(var i=n.features,t=-1,l=i.length;++t<l;)en(i[t].geometry,e)}},Bn={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)n=i[t],e.point(n[0],n[1],n[2])},LineString:function(n,e){gn(n.coordinates,e,0)},MultiLineString:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)gn(i[t],e,0)},Polygon:function(n,e){Fn(n.coordinates,e)},MultiPolygon:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)Fn(i[t],e)},GeometryCollection:function(n,e){for(var i=n.geometries,t=-1,l=i.length;++t<l;)en(i[t],e)}};function gn(n,e,i){var t=-1,l=n.length-i,a;for(e.lineStart();++t<l;)a=n[t],e.point(a[0],a[1],a[2]);e.lineEnd()}function Fn(n,e){var i=-1,t=n.length;for(e.polygonStart();++i<t;)gn(n[i],e,1);e.polygonEnd()}function ke(n,e){n&&$n.hasOwnProperty(n.type)?$n[n.type](n,e):en(n,e)}function _n(n){return[ze(n[1],n[0]),je(n[2])]}function Ae(n){var e=n[0],i=n[1],t=G(i);return[t*G(e),t*Z(e),Z(i)]}function Xe(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function nn(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function fn(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function Ye(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function dn(n){var e=Se(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function vn(n,e){function i(t,l){return t=n(t,l),e(t[0],t[1])}return n.invert&&e.invert&&(i.invert=function(t,l){return t=e.invert(t,l),t&&n.invert(t[0],t[1])}),i}function mn(n,e){return U(n)>B&&(n-=Math.round(n/ue)*ue),[n,e]}mn.invert=mn;function ii(n,e,i){return(n%=ue)?e||i?vn(Vn(n),Hn(e,i)):Vn(n):e||i?Hn(e,i):mn}function On(n){return function(e,i){return e+=n,U(e)>B&&(e-=Math.round(e/ue)*ue),[e,i]}}function Vn(n){var e=On(n);return e.invert=On(-n),e}function Hn(n,e){var i=G(n),t=Z(n),l=G(e),a=Z(e);function o(r,c){var p=G(c),u=G(r)*p,f=Z(r)*p,s=Z(c),h=s*i+u*t;return[ze(f*l-h*a,u*i-s*t),je(h*l+f*a)]}return o.invert=function(r,c){var p=G(c),u=G(r)*p,f=Z(r)*p,s=Z(c),h=s*l-f*a;return[ze(f*l+s*a,u*i+h*t),je(h*i-u*t)]},o}function li(n,e,i,t,l,a){if(i){var o=G(e),r=Z(e),c=t*i;l==null?(l=e+t*ue,a=e-c/2):(l=Xn(o,l),a=Xn(o,a),(t>0?l<a:l>a)&&(l+=t*ue));for(var p,u=l;t>0?u>a:u<a;u-=c)p=_n([o,-r*G(u),-r*Z(u)]),n.point(p[0],p[1])}}function Xn(n,e){e=Ae(e),e[0]-=n,dn(e);var i=jt(-e[1]);return((-e[2]<0?-i:i)+ue-Y)%ue}function At(){var n=[],e;return{point:function(i,t,l){e.push([i,t,l])},lineStart:function(){n.push(e=[])},lineEnd:ae,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var i=n;return n=[],e=null,i}}}function Ke(n,e){return U(n[0]-e[0])<Y&&U(n[1]-e[1])<Y}function Ze(n,e,i,t){this.x=n,this.z=e,this.o=i,this.e=t,this.v=!1,this.n=this.p=null}function Lt(n,e,i,t,l){var a=[],o=[],r,c;if(n.forEach(function(_){if(!((S=_.length-1)<=0)){var S,E=_[0],N=_[S],M;if(Ke(E,N)){if(!E[2]&&!N[2]){for(l.lineStart(),r=0;r<S;++r)l.point((E=_[r])[0],E[1]);l.lineEnd();return}N[0]+=2*Y}a.push(M=new Ze(E,_,null,!0)),o.push(M.o=new Ze(E,null,M,!1)),a.push(M=new Ze(N,_,null,!1)),o.push(M.o=new Ze(N,null,M,!0))}}),!!a.length){for(o.sort(e),Yn(a),Yn(o),r=0,c=o.length;r<c;++r)o[r].e=i=!i;for(var p=a[0],u,f;;){for(var s=p,h=!0;s.v;)if((s=s.n)===p)return;u=s.z,l.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(r=0,c=u.length;r<c;++r)l.point((f=u[r])[0],f[1]);else t(s.x,s.n.x,1,l);s=s.n}else{if(h)for(u=s.p.z,r=u.length-1;r>=0;--r)l.point((f=u[r])[0],f[1]);else t(s.x,s.p.x,-1,l);s=s.p}s=s.o,u=s.z,h=!h}while(!s.v);l.lineEnd()}}}function Yn(n){if(e=n.length){for(var e,i=0,t=n[0],l;++i<e;)t.n=l=n[i],l.p=t,t=l;t.n=l=n[0],l.p=t}}function cn(n){return U(n[0])<=B?n[0]:ti(n[0])*((U(n[0])+B)%ue-B)}function ri(n,e){var i=cn(e),t=e[1],l=Z(t),a=[Z(i),-G(i),0],o=0,r=0,c=new we;l===1?t=oe+Y:l===-1&&(t=-oe-Y);for(var p=0,u=n.length;p<u;++p)if(s=(f=n[p]).length)for(var f,s,h=f[s-1],_=cn(h),S=h[1]/2+qn,E=Z(S),N=G(S),M=0;M<s;++M,_=P,E=R,N=z,h=w){var w=f[M],P=cn(w),I=w[1]/2+qn,R=Z(I),z=G(I),T=P-_,A=T>=0?1:-1,C=A*T,y=C>B,$=E*R;if(c.add(ze($*A*Z(C),N*z+$*G(C))),o+=y?T+A*ue:T,y^_>=i^P>=i){var F=nn(Ae(h),Ae(w));dn(F);var L=nn(a,F);dn(L);var m=(y^T>=0?-1:1)*je(L[2]);(t>m||t===m&&(F[0]||F[1]))&&(r+=y^T>=0?1:-1)}}return(o<-Y||o<Y&&c<-ei)^r&1}function Ct(n,e,i,t){return function(l){var a=e(l),o=At(),r=e(o),c=!1,p,u,f,s={point:h,lineStart:S,lineEnd:E,polygonStart:function(){s.point=N,s.lineStart=M,s.lineEnd=w,u=[],p=[]},polygonEnd:function(){s.point=h,s.lineStart=S,s.lineEnd=E,u=zt(u);var P=ri(p,t);u.length?(c||(l.polygonStart(),c=!0),Lt(u,ai,P,i,l)):P&&(c||(l.polygonStart(),c=!0),l.lineStart(),i(null,null,1,l),l.lineEnd()),c&&(l.polygonEnd(),c=!1),u=p=null},sphere:function(){l.polygonStart(),l.lineStart(),i(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function h(P,I){n(P,I)&&l.point(P,I)}function _(P,I){a.point(P,I)}function S(){s.point=_,a.lineStart()}function E(){s.point=h,a.lineEnd()}function N(P,I){f.push([P,I]),r.point(P,I)}function M(){r.lineStart(),f=[]}function w(){N(f[0][0],f[0][1]),r.lineEnd();var P=r.clean(),I=o.result(),R,z=I.length,T,A,C;if(f.pop(),p.push(f),f=null,!!z){if(P&1){if(A=I[0],(T=A.length-1)>0){for(c||(l.polygonStart(),c=!0),l.lineStart(),R=0;R<T;++R)l.point((C=A[R])[0],C[1]);l.lineEnd()}return}z>1&&P&2&&I.push(I.pop().concat(I.shift())),u.push(I.filter(oi))}}return s}}function oi(n){return n.length>1}function ai(n,e){return((n=n.x)[0]<0?n[1]-oe-Y:oe-n[1])-((e=e.x)[0]<0?e[1]-oe-Y:oe-e[1])}const Zn=Ct(function(){return!0},ui,fi,[-B,-oe]);function ui(n){var e=NaN,i=NaN,t=NaN,l;return{lineStart:function(){n.lineStart(),l=1},point:function(a,o){var r=a>0?B:-B,c=U(a-e);U(c-B)<Y?(n.point(e,i=(i+o)/2>0?oe:-oe),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(r,i),n.point(a,i),l=0):t!==r&&c>=B&&(U(e-t)<Y&&(e-=t*Y),U(a-r)<Y&&(a-=r*Y),i=si(e,i,a,o),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(r,i),l=0),n.point(e=a,i=o),t=r},lineEnd:function(){n.lineEnd(),e=i=NaN},clean:function(){return 2-l}}}function si(n,e,i,t){var l,a,o=Z(n-i);return U(o)>Y?ni((Z(e)*(a=G(t))*Z(i)-Z(t)*(l=G(e))*Z(n))/(l*a*o)):(e+t)/2}function fi(n,e,i,t){var l;if(n==null)l=i*oe,t.point(-B,l),t.point(0,l),t.point(B,l),t.point(B,0),t.point(B,-l),t.point(0,-l),t.point(-B,-l),t.point(-B,0),t.point(-B,l);else if(U(n[0]-e[0])>Y){var a=n[0]<e[0]?B:-B;l=i*a/2,t.point(-a,l),t.point(0,l),t.point(a,l)}else t.point(e[0],e[1])}function ci(n){var e=G(n),i=2*ee,t=e>0,l=U(e)>Y;function a(u,f,s,h){li(h,n,i,s,u,f)}function o(u,f){return G(u)*G(f)>e}function r(u){var f,s,h,_,S;return{lineStart:function(){_=h=!1,S=1},point:function(E,N){var M=[E,N],w,P=o(E,N),I=t?P?0:p(E,N):P?p(E+(E<0?B:-B),N):0;if(!f&&(_=h=P)&&u.lineStart(),P!==h&&(w=c(f,M),(!w||Ke(f,w)||Ke(M,w))&&(M[2]=1)),P!==h)S=0,P?(u.lineStart(),w=c(M,f),u.point(w[0],w[1])):(w=c(f,M),u.point(w[0],w[1],2),u.lineEnd()),f=w;else if(l&&f&&t^P){var R;!(I&s)&&(R=c(M,f,!0))&&(S=0,t?(u.lineStart(),u.point(R[0][0],R[0][1]),u.point(R[1][0],R[1][1]),u.lineEnd()):(u.point(R[1][0],R[1][1]),u.lineEnd(),u.lineStart(),u.point(R[0][0],R[0][1],3)))}P&&(!f||!Ke(f,M))&&u.point(M[0],M[1]),f=M,h=P,s=I},lineEnd:function(){h&&u.lineEnd(),f=null},clean:function(){return S|(_&&h)<<1}}}function c(u,f,s){var h=Ae(u),_=Ae(f),S=[1,0,0],E=nn(h,_),N=Xe(E,E),M=E[0],w=N-M*M;if(!w)return!s&&u;var P=e*N/w,I=-e*M/w,R=nn(S,E),z=Ye(S,P),T=Ye(E,I);fn(z,T);var A=R,C=Xe(z,A),y=Xe(A,A),$=C*C-y*(Xe(z,z)-1);if(!($<0)){var F=Se($),L=Ye(A,(-C-F)/y);if(fn(L,z),L=_n(L),!s)return L;var m=u[0],j=f[0],v=u[1],D=f[1],g;j<m&&(g=m,m=j,j=g);var V=j-m,Q=U(V-B)<Y,se=Q||V<Y;if(!Q&&D<v&&(g=v,v=D,D=g),se?Q?v+D>0^L[1]<(U(L[0]-m)<Y?v:D):v<=L[1]&&L[1]<=D:V>B^(m<=L[0]&&L[0]<=j)){var ne=Ye(A,(-C+F)/y);return fn(ne,z),[L,_n(ne)]}}}function p(u,f){var s=t?n:B-n,h=0;return u<-s?h|=1:u>s&&(h|=2),f<-s?h|=4:f>s&&(h|=8),h}return Ct(o,r,a,t?[0,-n]:[-B,n-B])}function hi(n,e,i,t,l,a){var o=n[0],r=n[1],c=e[0],p=e[1],u=0,f=1,s=c-o,h=p-r,_;if(_=i-o,!(!s&&_>0)){if(_/=s,s<0){if(_<u)return;_<f&&(f=_)}else if(s>0){if(_>f)return;_>u&&(u=_)}if(_=l-o,!(!s&&_<0)){if(_/=s,s<0){if(_>f)return;_>u&&(u=_)}else if(s>0){if(_<u)return;_<f&&(f=_)}if(_=t-r,!(!h&&_>0)){if(_/=h,h<0){if(_<u)return;_<f&&(f=_)}else if(h>0){if(_>f)return;_>u&&(u=_)}if(_=a-r,!(!h&&_<0)){if(_/=h,h<0){if(_>f)return;_>u&&(u=_)}else if(h>0){if(_<u)return;_<f&&(f=_)}return u>0&&(n[0]=o+u*s,n[1]=r+u*h),f<1&&(e[0]=o+f*s,e[1]=r+f*h),!0}}}}}var Ce=1e9,Ge=-Ce;function pi(n,e,i,t){function l(p,u){return n<=p&&p<=i&&e<=u&&u<=t}function a(p,u,f,s){var h=0,_=0;if(p==null||(h=o(p,f))!==(_=o(u,f))||c(p,u)<0^f>0)do s.point(h===0||h===3?n:i,h>1?t:e);while((h=(h+f+4)%4)!==_);else s.point(u[0],u[1])}function o(p,u){return U(p[0]-n)<Y?u>0?0:3:U(p[0]-i)<Y?u>0?2:1:U(p[1]-e)<Y?u>0?1:0:u>0?3:2}function r(p,u){return c(p.x,u.x)}function c(p,u){var f=o(p,1),s=o(u,1);return f!==s?f-s:f===0?u[1]-p[1]:f===1?p[0]-u[0]:f===2?p[1]-u[1]:u[0]-p[0]}return function(p){var u=p,f=At(),s,h,_,S,E,N,M,w,P,I,R,z={point:T,lineStart:$,lineEnd:F,polygonStart:C,polygonEnd:y};function T(m,j){l(m,j)&&u.point(m,j)}function A(){for(var m=0,j=0,v=h.length;j<v;++j)for(var D=h[j],g=1,V=D.length,Q=D[0],se,ne,ye=Q[0],he=Q[1];g<V;++g)se=ye,ne=he,Q=D[g],ye=Q[0],he=Q[1],ne<=t?he>t&&(ye-se)*(t-ne)>(he-ne)*(n-se)&&++m:he<=t&&(ye-se)*(t-ne)<(he-ne)*(n-se)&&--m;return m}function C(){u=f,s=[],h=[],R=!0}function y(){var m=A(),j=R&&m,v=(s=zt(s)).length;(j||v)&&(p.polygonStart(),j&&(p.lineStart(),a(null,null,1,p),p.lineEnd()),v&&Lt(s,r,m,a,p),p.polygonEnd()),u=p,s=h=_=null}function $(){z.point=L,h&&h.push(_=[]),I=!0,P=!1,M=w=NaN}function F(){s&&(L(S,E),N&&P&&f.rejoin(),s.push(f.result())),z.point=T,P&&u.lineEnd()}function L(m,j){var v=l(m,j);if(h&&_.push([m,j]),I)S=m,E=j,N=v,I=!1,v&&(u.lineStart(),u.point(m,j));else if(v&&P)u.point(m,j);else{var D=[M=Math.max(Ge,Math.min(Ce,M)),w=Math.max(Ge,Math.min(Ce,w))],g=[m=Math.max(Ge,Math.min(Ce,m)),j=Math.max(Ge,Math.min(Ce,j))];hi(D,g,n,e,i,t)?(P||(u.lineStart(),u.point(D[0],D[1])),u.point(g[0],g[1]),v||u.lineEnd(),R=!1):v&&(u.lineStart(),u.point(m,j),R=!1)}M=m,w=j,P=v}return z}}const En=n=>n;var hn=new we,Sn=new we,Tt,Dt,yn,wn,ge={point:ae,lineStart:ae,lineEnd:ae,polygonStart:function(){ge.lineStart=gi,ge.lineEnd=di},polygonEnd:function(){ge.lineStart=ge.lineEnd=ge.point=ae,hn.add(U(Sn)),Sn=new we},result:function(){var n=hn/2;return hn=new we,n}};function gi(){ge.point=_i}function _i(n,e){ge.point=bt,Tt=yn=n,Dt=wn=e}function bt(n,e){Sn.add(wn*n-yn*e),yn=n,wn=e}function di(){bt(Tt,Dt)}var Le=1/0,tn=Le,$e=-Le,ln=$e,rn={point:vi,lineStart:ae,lineEnd:ae,polygonStart:ae,polygonEnd:ae,result:function(){var n=[[Le,tn],[$e,ln]];return $e=ln=-(tn=Le=1/0),n}};function vi(n,e){n<Le&&(Le=n),n>$e&&($e=n),e<tn&&(tn=e),e>ln&&(ln=e)}var Pn=0,kn=0,Te=0,on=0,an=0,Ie=0,Mn=0,In=0,De=0,qt,$t,fe,ce,te={point:Pe,lineStart:Gn,lineEnd:Wn,polygonStart:function(){te.lineStart=Si,te.lineEnd=yi},polygonEnd:function(){te.point=Pe,te.lineStart=Gn,te.lineEnd=Wn},result:function(){var n=De?[Mn/De,In/De]:Ie?[on/Ie,an/Ie]:Te?[Pn/Te,kn/Te]:[NaN,NaN];return Pn=kn=Te=on=an=Ie=Mn=In=De=0,n}};function Pe(n,e){Pn+=n,kn+=e,++Te}function Gn(){te.point=mi}function mi(n,e){te.point=Ei,Pe(fe=n,ce=e)}function Ei(n,e){var i=n-fe,t=e-ce,l=Se(i*i+t*t);on+=l*(fe+n)/2,an+=l*(ce+e)/2,Ie+=l,Pe(fe=n,ce=e)}function Wn(){te.point=Pe}function Si(){te.point=wi}function yi(){Bt(qt,$t)}function wi(n,e){te.point=Bt,Pe(qt=fe=n,$t=ce=e)}function Bt(n,e){var i=n-fe,t=e-ce,l=Se(i*i+t*t);on+=l*(fe+n)/2,an+=l*(ce+e)/2,Ie+=l,l=ce*n-fe*e,Mn+=l*(fe+n),In+=l*(ce+e),De+=l*3,Pe(fe=n,ce=e)}function Ft(n){this._context=n}Ft.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,ue);break}}},result:ae};var Nn=new we,pn,Ot,Vt,be,qe,Be={point:ae,lineStart:function(){Be.point=Pi},lineEnd:function(){pn&&Ht(Ot,Vt),Be.point=ae},polygonStart:function(){pn=!0},polygonEnd:function(){pn=null},result:function(){var n=+Nn;return Nn=new we,n}};function Pi(n,e){Be.point=Ht,Ot=be=n,Vt=qe=e}function Ht(n,e){be-=n,qe-=e,Nn.add(Se(be*be+qe*qe)),be=n,qe=e}let Un,un,Qn,Jn;class Kn{constructor(e){this._append=e==null?Xt:ki(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,i){switch(this._point){case 0:{this._append`M${e},${i}`,this._point=1;break}case 1:{this._append`L${e},${i}`;break}default:{if(this._append`M${e},${i}`,this._radius!==Qn||this._append!==un){const t=this._radius,l=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Qn=t,un=this._append,Jn=this._,this._=l}this._+=Jn;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Xt(n){let e=1;this._+=n[0];for(const i=n.length;e<i;++e)this._+=arguments[e]+n[e]}function ki(n){const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);if(e>15)return Xt;if(e!==Un){const i=10**e;Un=e,un=function(l){let a=1;this._+=l[0];for(const o=l.length;a<o;++a)this._+=Math.round(arguments[a]*i)/i+l[a]}}return un}function Mi(n,e){let i=3,t=4.5,l,a;function o(r){return r&&(typeof t=="function"&&a.pointRadius(+t.apply(this,arguments)),ke(r,l(a))),a.result()}return o.area=function(r){return ke(r,l(ge)),ge.result()},o.measure=function(r){return ke(r,l(Be)),Be.result()},o.bounds=function(r){return ke(r,l(rn)),rn.result()},o.centroid=function(r){return ke(r,l(te)),te.result()},o.projection=function(r){return arguments.length?(l=r==null?(n=null,En):(n=r).stream,o):n},o.context=function(r){return arguments.length?(a=r==null?(e=null,new Kn(i)):new Ft(e=r),typeof t!="function"&&a.pointRadius(t),o):e},o.pointRadius=function(r){return arguments.length?(t=typeof r=="function"?r:(a.pointRadius(+r),+r),o):t},o.digits=function(r){if(!arguments.length)return i;if(r==null)i=null;else{const c=Math.floor(r);if(!(c>=0))throw new RangeError(`invalid digits: ${r}`);i=c}return e===null&&(a=new Kn(i)),o},o.projection(n).digits(i).context(e)}function jn(n){return function(e){var i=new Rn;for(var t in n)i[t]=n[t];return i.stream=e,i}}function Rn(){}Rn.prototype={constructor:Rn,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function An(n,e,i){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),ke(i,n.stream(rn)),e(rn.result()),t!=null&&n.clipExtent(t),n}function Yt(n,e,i){return An(n,function(t){var l=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(l/(t[1][0]-t[0][0]),a/(t[1][1]-t[0][1])),r=+e[0][0]+(l-o*(t[1][0]+t[0][0]))/2,c=+e[0][1]+(a-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([r,c])},i)}function Ii(n,e,i){return Yt(n,[[0,0],e],i)}function Ni(n,e,i){return An(n,function(t){var l=+e,a=l/(t[1][0]-t[0][0]),o=(l-a*(t[1][0]+t[0][0]))/2,r=-a*t[0][1];n.scale(150*a).translate([o,r])},i)}function Ri(n,e,i){return An(n,function(t){var l=+e,a=l/(t[1][1]-t[0][1]),o=-a*t[0][0],r=(l-a*(t[1][1]+t[0][1]))/2;n.scale(150*a).translate([o,r])},i)}var xn=16,zi=G(30*ee);function et(n,e){return+e?Ai(n,e):ji(n)}function ji(n){return jn({point:function(e,i){e=n(e,i),this.stream.point(e[0],e[1])}})}function Ai(n,e){function i(t,l,a,o,r,c,p,u,f,s,h,_,S,E){var N=p-t,M=u-l,w=N*N+M*M;if(w>4*e&&S--){var P=o+s,I=r+h,R=c+_,z=Se(P*P+I*I+R*R),T=je(R/=z),A=U(U(R)-1)<Y||U(a-f)<Y?(a+f)/2:ze(I,P),C=n(A,T),y=C[0],$=C[1],F=y-t,L=$-l,m=M*F-N*L;(m*m/w>e||U((N*F+M*L)/w-.5)>.3||o*s+r*h+c*_<zi)&&(i(t,l,a,o,r,c,y,$,A,P/=z,I/=z,R,S,E),E.point(y,$),i(y,$,A,P,I,R,p,u,f,s,h,_,S,E))}}return function(t){var l,a,o,r,c,p,u,f,s,h,_,S,E={point:N,lineStart:M,lineEnd:P,polygonStart:function(){t.polygonStart(),E.lineStart=I},polygonEnd:function(){t.polygonEnd(),E.lineStart=M}};function N(T,A){T=n(T,A),t.point(T[0],T[1])}function M(){f=NaN,E.point=w,t.lineStart()}function w(T,A){var C=Ae([T,A]),y=n(T,A);i(f,s,u,h,_,S,f=y[0],s=y[1],u=T,h=C[0],_=C[1],S=C[2],xn,t),t.point(f,s)}function P(){E.point=N,t.lineEnd()}function I(){M(),E.point=R,E.lineEnd=z}function R(T,A){w(l=T,A),a=f,o=s,r=h,c=_,p=S,E.point=w}function z(){i(f,s,u,h,_,S,a,o,l,r,c,p,xn,t),E.lineEnd=P,P()}return E}}var Li=jn({point:function(n,e){this.stream.point(n*ee,e*ee)}});function Ci(n){return jn({point:function(e,i){var t=n(e,i);return this.stream.point(t[0],t[1])}})}function Ti(n,e,i,t,l){function a(o,r){return o*=t,r*=l,[e+n*o,i-n*r]}return a.invert=function(o,r){return[(o-e)/n*t,(i-r)/n*l]},a}function nt(n,e,i,t,l,a){if(!a)return Ti(n,e,i,t,l);var o=G(a),r=Z(a),c=o*n,p=r*n,u=o/n,f=r/n,s=(r*i-o*e)/n,h=(r*e+o*i)/n;function _(S,E){return S*=t,E*=l,[c*S-p*E+e,i-p*S-c*E]}return _.invert=function(S,E){return[t*(u*S-f*E+s),l*(h-f*S-u*E)]},_}function Di(n){return bi(function(){return n})()}function bi(n){var e,i=150,t=480,l=250,a=0,o=0,r=0,c=0,p=0,u,f=0,s=1,h=1,_=null,S=Zn,E=null,N,M,w,P=En,I=.5,R,z,T,A,C;function y(m){return T(m[0]*ee,m[1]*ee)}function $(m){return m=T.invert(m[0],m[1]),m&&[m[0]*pe,m[1]*pe]}y.stream=function(m){return A&&C===m?A:A=Li(Ci(u)(S(R(P(C=m)))))},y.preclip=function(m){return arguments.length?(S=m,_=void 0,L()):S},y.postclip=function(m){return arguments.length?(P=m,E=N=M=w=null,L()):P},y.clipAngle=function(m){return arguments.length?(S=+m?ci(_=m*ee):(_=null,Zn),L()):_*pe},y.clipExtent=function(m){return arguments.length?(P=m==null?(E=N=M=w=null,En):pi(E=+m[0][0],N=+m[0][1],M=+m[1][0],w=+m[1][1]),L()):E==null?null:[[E,N],[M,w]]},y.scale=function(m){return arguments.length?(i=+m,F()):i},y.translate=function(m){return arguments.length?(t=+m[0],l=+m[1],F()):[t,l]},y.center=function(m){return arguments.length?(a=m[0]%360*ee,o=m[1]%360*ee,F()):[a*pe,o*pe]},y.rotate=function(m){return arguments.length?(r=m[0]%360*ee,c=m[1]%360*ee,p=m.length>2?m[2]%360*ee:0,F()):[r*pe,c*pe,p*pe]},y.angle=function(m){return arguments.length?(f=m%360*ee,F()):f*pe},y.reflectX=function(m){return arguments.length?(s=m?-1:1,F()):s<0},y.reflectY=function(m){return arguments.length?(h=m?-1:1,F()):h<0},y.precision=function(m){return arguments.length?(R=et(z,I=m*m),L()):Se(I)},y.fitExtent=function(m,j){return Yt(y,m,j)},y.fitSize=function(m,j){return Ii(y,m,j)},y.fitWidth=function(m,j){return Ni(y,m,j)},y.fitHeight=function(m,j){return Ri(y,m,j)};function F(){var m=nt(i,0,0,s,h,f).apply(null,e(a,o)),j=nt(i,t-m[0],l-m[1],s,h,f);return u=ii(r,c,p),z=vn(e,j),T=vn(u,z),R=et(z,I),L()}function L(){return A=C=null,y}return function(){return e=n.apply(this,arguments),y.invert=e.invert&&$,F()}}function qi(n){return function(e,i){var t=G(e),l=G(i),a=n(t*l);return a===1/0?[2,0]:[a*l*Z(e),a*Z(i)]}}function $i(n){return function(e,i){var t=Se(e*e+i*i),l=n(t),a=Z(l),o=G(l);return[ze(e*a,t*o),je(t&&i*a/t)]}}var Zt=qi(function(n){return(n=jt(n))&&n/Z(n)});Zt.invert=$i(function(n){return n});function Bi(){return Di(Zt).scale(79.4188).clipAngle(180-.001)}function Fi(n){var S,E;let e,i,t=`<p class="svelte-1w7z1qb">An interactive visualization of all the space debris that reenters
            the atmosphere in the South Pacific Ocean. From 1960 until today.</p>`,l,a,o,r,c=((S=n[0])==null?void 0:S.name)+"",p,u,f,s,h=((E=n[0])==null?void 0:E.year)+"",_;return{c(){e=K("div"),i=K("div"),i.innerHTML=t,l=ve(),a=K("div"),o=K("span"),r=ie("Satellite: "),p=ie(c),u=ve(),f=K("span"),s=ie("Year: "),_=ie(h),this.h()},l(N){e=x(N,"DIV",{class:!0});var M=q(e);i=x(M,"DIV",{class:!0,"data-svelte-h":!0}),kt(i)!=="svelte-9fj3n4"&&(i.innerHTML=t),l=me(M),a=x(M,"DIV",{class:!0});var w=q(a);o=x(w,"SPAN",{class:!0});var P=q(o);r=le(P,"Satellite: "),p=le(P,c),P.forEach(k),u=me(w),f=x(w,"SPAN",{class:!0});var I=q(f);s=le(I,"Year: "),_=le(I,h),I.forEach(k),w.forEach(k),M.forEach(k),this.h()},h(){d(i,"class","description svelte-1w7z1qb"),d(o,"class","svelte-1w7z1qb"),d(f,"class","svelte-1w7z1qb"),d(a,"class","satellite-info svelte-1w7z1qb"),d(e,"class","top-bar svelte-1w7z1qb")},m(N,M){O(N,e,M),b(e,i),b(e,l),b(e,a),b(a,o),b(o,r),b(o,p),b(a,u),b(a,f),b(f,s),b(f,_)},p(N,[M]){var w,P;M&1&&c!==(c=((w=N[0])==null?void 0:w.name)+"")&&Ee(p,c),M&1&&h!==(h=((P=N[0])==null?void 0:P.year)+"")&&Ee(_,h)},i:_e,o:_e,d(N){N&&k(e)}}}function Oi(n,e,i){let{currentPoint:t}=e;return n.$$set=l=>{"currentPoint"in l&&i(0,t=l.currentPoint)},[t]}class Vi extends Oe{constructor(e){super(),Ve(this,e,Oi,Fi,Fe,{currentPoint:0})}}function Hi(n){let e,i,t,l,a,o;return{c(){e=K("div"),i=K("div"),t=ve(),l=K("div"),this.h()},l(r){e=x(r,"DIV",{class:!0});var c=q(e);i=x(c,"DIV",{class:!0,style:!0}),q(i).forEach(k),t=me(c),l=x(c,"DIV",{class:!0,style:!0}),q(l).forEach(k),c.forEach(k),this.h()},h(){d(i,"class","progress svelte-1aifhpe"),Me(i,"width",(n[0]+1)/n[1].length*100+"%"),d(l,"class","draggable svelte-1aifhpe"),Me(l,"left",(n[0]+1)/n[1].length*100+"%"),d(e,"class","progress-bar svelte-1aifhpe")},m(r,c){O(r,e,c),b(e,i),b(e,t),b(e,l),a||(o=zn(e,"mousedown",n[2]),a=!0)},p(r,[c]){c&3&&Me(i,"width",(r[0]+1)/r[1].length*100+"%"),c&3&&Me(l,"left",(r[0]+1)/r[1].length*100+"%")},i:_e,o:_e,d(r){r&&k(e),a=!1,o()}}}function Xi(n,e,i){const t=Mt();let{index:l}=e,{points:a}=e;function o(r){const c=r.currentTarget.getBoundingClientRect();let p=r.clientX-c.left;const u=c.width;p<0?p=0:p>u&&(p=u);const f=p/u*100,s=Math.floor(f/100*a.length);t("updateIndex",s)}return n.$$set=r=>{"index"in r&&i(0,l=r.index),"points"in r&&i(1,a=r.points)},[l,a,o]}class Yi extends Oe{constructor(e){super(),Ve(this,e,Xi,Hi,Fe,{index:0,points:1})}}function tt(n,e,i){const t=n.slice();return t[9]=e[i],t[11]=i,t}function it(n){let e,i=n[9].name+"",t,l,a=n[9].year+"",o,r,c,p;function u(){return n[7](n[11])}return{c(){e=K("p"),t=ie(i),l=ie(", "),o=ie(a),r=ve(),this.h()},l(f){e=x(f,"P",{class:!0});var s=q(e);t=le(s,i),l=le(s,", "),o=le(s,a),r=me(s),s.forEach(k),this.h()},h(){d(e,"class","svelte-1k1hpjv"),sn(e,"gray-background",n[11]%2===1),sn(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},m(f,s){O(f,e,s),b(e,t),b(e,l),b(e,o),b(e,r),c||(p=zn(e,"click",u),c=!0)},p(f,s){n=f,s&4&&i!==(i=n[9].name+"")&&Ee(t,i),s&4&&a!==(a=n[9].year+"")&&Ee(o,a),s&5&&sn(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},d(f){f&&k(e),c=!1,p()}}}function Zi(n){let e,i,t,l,a,o=J(n[2]),r=[];for(let c=0;c<o.length;c+=1)r[c]=it(tt(n,o,c));return{c(){e=K("article"),i=K("input"),t=ve();for(let c=0;c<r.length;c+=1)r[c].c();this.h()},l(c){e=x(c,"ARTICLE",{class:!0});var p=q(e);i=x(p,"INPUT",{type:!0,placeholder:!0,class:!0}),t=me(p);for(let u=0;u<r.length;u+=1)r[u].l(p);p.forEach(k),this.h()},h(){d(i,"type","text"),d(i,"placeholder","Search..."),d(i,"class","svelte-1k1hpjv"),d(e,"class","svelte-1k1hpjv")},m(c,p){O(c,e,p),b(e,i),Dn(i,n[1]),b(e,t);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);l||(a=zn(i,"input",n[6]),l=!0)},p(c,[p]){if(p&2&&i.value!==c[1]&&Dn(i,c[1]),p&13){o=J(c[2]);let u;for(u=0;u<o.length;u+=1){const f=tt(c,o,u);r[u]?r[u].p(f,p):(r[u]=it(f),r[u].c(),r[u].m(e,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=o.length}},i:_e,o:_e,d(c){c&&k(e),de(r,c),l=!1,a()}}}function Gi(n,e,i){let t,l,{points:a}=e,{highlighted:o}=e;const r=Mt();let c="";function p(s){r("updateId",t[s])}function u(){c=this.value,i(1,c)}const f=s=>p(s);return n.$$set=s=>{"points"in s&&i(4,a=s.points),"highlighted"in s&&i(0,o=s.highlighted)},n.$$.update=()=>{n.$$.dirty&16&&i(5,l=a.reduce((s,h)=>s.find(S=>S.name===h.name&&S.year===h.year)?s:s.concat([h]),[])),n.$$.dirty&34&&i(2,t=l.filter(s=>s.name.toLowerCase().includes(c.toLowerCase())))},[o,c,t,p,a,l,u,f]}class Wi extends Oe{constructor(e){super(),Ve(this,e,Gi,Zi,Fe,{points:4,highlighted:0})}}function lt(n,e,i){const t=n.slice();return t[19]=e[i].cx,t[20]=e[i].cy,t[21]=e[i].name,t}function rt(n,e,i){const t=n.slice();return t[24]=e[i],t[26]=i,t}function ot(n,e,i){const t=n.slice();return t[19]=e[i].cx,t[20]=e[i].cy,t[21]=e[i].name,t[27]=e[i].r,t[26]=i,t}function at(n,e,i){const t=n.slice();return t[29]=e[i],t[26]=i,t}function ut(n,e,i){const t=n.slice();return t[24]=e[i],t[26]=i,t}function st(n,e,i){const t=n.slice();return t[24]=e[i],t[26]=i,t}function ft(n,e,i){const t=n.slice();return t[24]=e[i],t[26]=i,t}function ct(n){let e,i,t,l,a,o,r,c,p,u,f,s,h,_,S,E,N,M,w=n[1].length>1&&ht(n),P=J(n[5]),I=[];for(let v=0;v<P.length;v+=1)I[v]=pt(ft(n,P,v));let R=J(n[4]),z=[];for(let v=0;v<R.length;v+=1)z[v]=gt(st(n,R,v));let T=J(n[6]),A=[];for(let v=0;v<T.length;v+=1)A[v]=_t(ut(n,T,v));let C=n[1].length>1&&dt(n),y=J(n[1]),$=[];for(let v=0;v<y.length;v+=1)$[v]=St(ot(n,y,v));let F=J(n[7]),L=[];for(let v=0;v<F.length;v+=1)L[v]=yt(rt(n,F,v));let m=J(n[3]),j=[];for(let v=0;v<m.length;v+=1)j[v]=Pt(lt(n,m,v));return{c(){e=H("svg"),i=H("defs"),t=H("path"),a=H("clipPath"),o=H("use"),w&&w.c(),r=H("g"),c=H("circle"),f=H("g");for(let v=0;v<I.length;v+=1)I[v].c();s=H("g");for(let v=0;v<z.length;v+=1)z[v].c();h=H("g");for(let v=0;v<A.length;v+=1)A[v].c();_=H("g"),C&&C.c(),S=H("g");for(let v=0;v<$.length;v+=1)$[v].c();E=H("g");for(let v=0;v<L.length;v+=1)L[v].c();N=H("g");for(let v=0;v<j.length;v+=1)j[v].c();this.h()},l(v){e=X(v,"svg",{viewBox:!0,style:!0});var D=q(e);i=X(D,"defs",{});var g=q(i);t=X(g,"path",{id:!0,d:!0}),q(t).forEach(k),a=X(g,"clipPath",{class:!0,id:!0});var V=q(a);o=X(V,"use",{href:!0}),q(o).forEach(k),V.forEach(k),g.forEach(k),w&&w.l(D),r=X(D,"g",{"clip-path":!0,class:!0});var Q=q(r);c=X(Q,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),q(c).forEach(k),f=X(Q,"g",{class:!0,fill:!0,stroke:!0});var se=q(f);for(let W=0;W<I.length;W+=1)I[W].l(se);se.forEach(k),s=X(Q,"g",{class:!0,fill:!0,stroke:!0});var ne=q(s);for(let W=0;W<z.length;W+=1)z[W].l(ne);ne.forEach(k),h=X(Q,"g",{class:!0,fill:!0,stroke:!0});var ye=q(h);for(let W=0;W<A.length;W+=1)A[W].l(ye);ye.forEach(k),_=X(Q,"g",{class:!0});var he=q(_);C&&C.l(he),he.forEach(k),S=X(Q,"g",{class:!0});var Ln=q(S);for(let W=0;W<$.length;W+=1)$[W].l(Ln);Ln.forEach(k),E=X(Q,"g",{class:!0});var Cn=q(E);for(let W=0;W<L.length;W+=1)L[W].l(Cn);Cn.forEach(k),N=X(Q,"g",{class:!0});var Tn=q(N);for(let W=0;W<j.length;W+=1)j[W].l(Tn);Tn.forEach(k),Q.forEach(k),D.forEach(k),this.h()},h(){d(t,"id","sphere"),d(t,"d",l=n[11]({type:"Sphere"})),d(o,"href","#sphere"),d(a,"class","clip"),d(a,"id","clip"),d(c,"cx",p=n[0]/2),d(c,"cy",u=n[2]/2),d(c,"r",n[0]),d(c,"fill","#eeffff"),d(f,"class","marine svelte-12lti0j"),d(f,"fill","#e9f4ff"),d(f,"stroke","blue"),d(s,"class","world svelte-12lti0j"),d(s,"fill","white"),d(s,"stroke","none"),d(h,"class","contour svelte-12lti0j"),d(h,"fill","none"),d(h,"stroke","none"),d(_,"class","svelte-12lti0j"),d(S,"class","svelte-12lti0j"),d(E,"class","spoua svelte-12lti0j"),d(N,"class","nemo svelte-12lti0j"),d(r,"clip-path","url(#clip)"),d(r,"class","svelte-12lti0j"),d(e,"viewBox",M="0 0 "+n[0]+" "+n[2]),Me(e,"width","100%"),Me(e,"height","100vh")},m(v,D){O(v,e,D),b(e,i),b(i,t),b(i,a),b(a,o),w&&w.m(e,null),b(e,r),b(r,c),b(r,f);for(let g=0;g<I.length;g+=1)I[g]&&I[g].m(f,null);b(r,s);for(let g=0;g<z.length;g+=1)z[g]&&z[g].m(s,null);b(r,h);for(let g=0;g<A.length;g+=1)A[g]&&A[g].m(h,null);b(r,_),C&&C.m(_,null),b(r,S);for(let g=0;g<$.length;g+=1)$[g]&&$[g].m(S,null);b(r,E);for(let g=0;g<L.length;g+=1)L[g]&&L[g].m(E,null);b(r,N);for(let g=0;g<j.length;g+=1)j[g]&&j[g].m(N,null)},p(v,D){if(D[0]&2048&&l!==(l=v[11]({type:"Sphere"}))&&d(t,"d",l),v[1].length>1?w?w.p(v,D):(w=ht(v),w.c(),w.m(e,r)):w&&(w.d(1),w=null),D[0]&1&&p!==(p=v[0]/2)&&d(c,"cx",p),D[0]&4&&u!==(u=v[2]/2)&&d(c,"cy",u),D[0]&1&&d(c,"r",v[0]),D[0]&2080){P=J(v[5]);let g;for(g=0;g<P.length;g+=1){const V=ft(v,P,g);I[g]?I[g].p(V,D):(I[g]=pt(V),I[g].c(),I[g].m(f,null))}for(;g<I.length;g+=1)I[g].d(1);I.length=P.length}if(D[0]&2064){R=J(v[4]);let g;for(g=0;g<R.length;g+=1){const V=st(v,R,g);z[g]?z[g].p(V,D):(z[g]=gt(V),z[g].c(),z[g].m(s,null))}for(;g<z.length;g+=1)z[g].d(1);z.length=R.length}if(D[0]&2112){T=J(v[6]);let g;for(g=0;g<T.length;g+=1){const V=ut(v,T,g);A[g]?A[g].p(V,D):(A[g]=_t(V),A[g].c(),A[g].m(h,null))}for(;g<A.length;g+=1)A[g].d(1);A.length=T.length}if(v[1].length>1?C?C.p(v,D):(C=dt(v),C.c(),C.m(_,null)):C&&(C.d(1),C=null),D[0]&2){y=J(v[1]);let g;for(g=0;g<y.length;g+=1){const V=ot(v,y,g);$[g]?$[g].p(V,D):($[g]=St(V),$[g].c(),$[g].m(S,null))}for(;g<$.length;g+=1)$[g].d(1);$.length=y.length}if(D[0]&2176){F=J(v[7]);let g;for(g=0;g<F.length;g+=1){const V=rt(v,F,g);L[g]?L[g].p(V,D):(L[g]=yt(V),L[g].c(),L[g].m(E,null))}for(;g<L.length;g+=1)L[g].d(1);L.length=F.length}if(D[0]&8){m=J(v[3]);let g;for(g=0;g<m.length;g+=1){const V=lt(v,m,g);j[g]?j[g].p(V,D):(j[g]=Pt(V),j[g].c(),j[g].m(N,null))}for(;g<j.length;g+=1)j[g].d(1);j.length=m.length}D[0]&5&&M!==(M="0 0 "+v[0]+" "+v[2])&&d(e,"viewBox",M)},d(v){v&&k(e),w&&w.d(),de(I,v),de(z,v),de(A,v),C&&C.d(),de($,v),de(L,v),de(j,v)}}}function ht(n){var c,p;let e,i,t=((c=n[1][n[1].length-1])==null?void 0:c.name)+"",l,a,o=((p=n[1][n[1].length-1])==null?void 0:p.year)+"",r;return{c(){e=H("text"),i=H("textPath"),l=ie(t),a=ie(" — "),r=ie(o),this.h()},l(u){e=X(u,"text",{"text-anchor":!0,dy:!0,"font-size":!0,fill:!0});var f=q(e);i=X(f,"textPath",{href:!0,startOffset:!0});var s=q(i);l=le(s,t),a=le(s," — "),r=le(s,o),s.forEach(k),f.forEach(k),this.h()},h(){d(i,"href","#sphere"),d(i,"startOffset","20%"),d(e,"text-anchor","left"),d(e,"dy","-5"),d(e,"font-size","36"),d(e,"fill","blue")},m(u,f){O(u,e,f),b(e,i),b(i,l),b(i,a),b(i,r)},p(u,f){var s,h;f[0]&2&&t!==(t=((s=u[1][u[1].length-1])==null?void 0:s.name)+"")&&Ee(l,t),f[0]&2&&o!==(o=((h=u[1][u[1].length-1])==null?void 0:h.year)+"")&&Ee(r,o)},d(u){u&&k(e)}}}function pt(n){let e,i;return{c(){e=H("path"),this.h()},l(t){e=X(t,"path",{d:!0,class:!0}),q(e).forEach(k),this.h()},h(){d(e,"d",i=n[11](n[24])),d(e,"class","marineBorders")},m(t,l){O(t,e,l)},p(t,l){l[0]&2080&&i!==(i=t[11](t[24]))&&d(e,"d",i)},d(t){t&&k(e)}}}function gt(n){let e,i;return{c(){e=H("path"),this.h()},l(t){e=X(t,"path",{d:!0,class:!0}),q(e).forEach(k),this.h()},h(){d(e,"d",i=n[11](n[24])),d(e,"class","country")},m(t,l){O(t,e,l)},p(t,l){l[0]&2064&&i!==(i=t[11](t[24]))&&d(e,"d",i)},d(t){t&&k(e)}}}function _t(n){let e,i;return{c(){e=H("path"),this.h()},l(t){e=X(t,"path",{d:!0,class:!0}),q(e).forEach(k),this.h()},h(){d(e,"d",i=n[11](n[24])),d(e,"class","contour svelte-12lti0j")},m(t,l){O(t,e,l)},p(t,l){l[0]&2112&&i!==(i=t[11](t[24]))&&d(e,"d",i)},d(t){t&&k(e)}}}function dt(n){let e,i=J(n[1]),t=[];for(let l=0;l<i.length;l+=1)t[l]=mt(at(n,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=re()},l(l){for(let a=0;a<t.length;a+=1)t[a].l(l);e=re()},m(l,a){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(l,a);O(l,e,a)},p(l,a){if(a[0]&2){i=J(l[1]);let o;for(o=0;o<i.length;o+=1){const r=at(l,i,o);t[o]?t[o].p(r,a):(t[o]=mt(r),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=i.length}},d(l){l&&k(e),de(t,l)}}}function vt(n){let e,i,t,l,a,o;return{c(){e=H("line"),this.h()},l(r){e=X(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),q(e).forEach(k),this.h()},h(){d(e,"x1",i=n[1][n[26]-1].cx),d(e,"y1",t=n[1][n[26]-1].cy),d(e,"x2",l=n[29].cx),d(e,"y2",a=n[29].cy),d(e,"class",o=xe(n[26]===n[1].length-1?"line highlite":"line old")+" svelte-12lti0j")},m(r,c){O(r,e,c)},p(r,c){c[0]&2&&i!==(i=r[1][r[26]-1].cx)&&d(e,"x1",i),c[0]&2&&t!==(t=r[1][r[26]-1].cy)&&d(e,"y1",t),c[0]&2&&l!==(l=r[29].cx)&&d(e,"x2",l),c[0]&2&&a!==(a=r[29].cy)&&d(e,"y2",a),c[0]&2&&o!==(o=xe(r[26]===r[1].length-1?"line highlite":"line old")+" svelte-12lti0j")&&d(e,"class",o)},d(r){r&&k(e)}}}function mt(n){let e,i=n[26]>0&&n[1][n[26]].name===n[1][n[26]-1].name&&vt(n);return{c(){i&&i.c(),e=re()},l(t){i&&i.l(t),e=re()},m(t,l){i&&i.m(t,l),O(t,e,l)},p(t,l){t[26]>0&&t[1][t[26]].name===t[1][t[26]-1].name?i?i.p(t,l):(i=vt(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&k(e),i&&i.d(t)}}}function Ui(n){let e,i,t,l;return{c(){e=H("circle"),this.h()},l(a){e=X(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),q(e).forEach(k),this.h()},h(){d(e,"cx",i=n[19]),d(e,"cy",t=n[20]),d(e,"r",l=n[27]),d(e,"fill","blue"),d(e,"class","highlite svelte-12lti0j")},m(a,o){O(a,e,o)},p(a,o){o[0]&2&&i!==(i=a[19])&&d(e,"cx",i),o[0]&2&&t!==(t=a[20])&&d(e,"cy",t),o[0]&2&&l!==(l=a[27])&&d(e,"r",l)},d(a){a&&k(e)}}}function Qi(n){let e,i,t,l,a;return{c(){e=H("circle"),this.h()},l(o){e=X(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),q(e).forEach(k),this.h()},h(){d(e,"cx",i=n[19]),d(e,"cy",t=n[20]),d(e,"r",l=n[27]),d(e,"fill","blue"),d(e,"class",a=xe(n[26]===n[1].length-1?"dot highlite":"dot old")+" svelte-12lti0j")},m(o,r){O(o,e,r)},p(o,r){r[0]&2&&i!==(i=o[19])&&d(e,"cx",i),r[0]&2&&t!==(t=o[20])&&d(e,"cy",t),r[0]&2&&l!==(l=o[27])&&d(e,"r",l),r[0]&2&&a!==(a=xe(o[26]===o[1].length-1?"dot highlite":"dot old")+" svelte-12lti0j")&&d(e,"class",a)},d(o){o&&k(e)}}}function Et(n){let e,i=n[21]+"",t,l,a;return{c(){e=H("text"),t=ie(i),this.h()},l(o){e=X(o,"text",{x:!0,y:!0,class:!0,"font-size":!0});var r=q(e);t=le(r,i),r.forEach(k),this.h()},h(){d(e,"x",l=n[27]+n[19]+8),d(e,"y",a=n[20]+2),d(e,"class","satellite-name svelte-12lti0j"),d(e,"font-size","8")},m(o,r){O(o,e,r),b(e,t)},p(o,r){r[0]&2&&i!==(i=o[21]+"")&&Ee(t,i),r[0]&2&&l!==(l=o[27]+o[19]+8)&&d(e,"x",l),r[0]&2&&a!==(a=o[20]+2)&&d(e,"y",a)},d(o){o&&k(e)}}}function St(n){let e,i;function t(r,c){if(r[26]>0&&r[1][r[26]].name===r[1][r[26]-1].name)return Qi;if(r[26]===r[1].length-1)return Ui}let l=t(n),a=l&&l(n),o=n[26]===n[1].length-1&&Et(n);return{c(){a&&a.c(),e=re(),o&&o.c(),i=re()},l(r){a&&a.l(r),e=re(),o&&o.l(r),i=re()},m(r,c){a&&a.m(r,c),O(r,e,c),o&&o.m(r,c),O(r,i,c)},p(r,c){l===(l=t(r))&&a?a.p(r,c):(a&&a.d(1),a=l&&l(r),a&&(a.c(),a.m(e.parentNode,e))),r[26]===r[1].length-1?o?o.p(r,c):(o=Et(r),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(r){r&&(k(e),k(i)),a&&a.d(r),o&&o.d(r)}}}function yt(n){let e,i;return{c(){e=H("path"),this.h()},l(t){e=X(t,"path",{d:!0,class:!0}),q(e).forEach(k),this.h()},h(){d(e,"d",i=n[11](n[24])),d(e,"class","spoua svelte-12lti0j")},m(t,l){O(t,e,l)},p(t,l){l[0]&2176&&i!==(i=t[11](t[24]))&&d(e,"d",i)},d(t){t&&k(e)}}}function wt(n){let e,i,t,l,a=n[21]+"",o,r,c;return{c(){e=H("circle"),l=H("text"),o=ie(a),this.h()},l(p){e=X(p,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),q(e).forEach(k),l=X(p,"text",{x:!0,y:!0,"font-size":!0,class:!0});var u=q(l);o=le(u,a),u.forEach(k),this.h()},h(){d(e,"cx",i=n[19]),d(e,"cy",t=n[20]),d(e,"r",1),d(e,"fill","black"),d(e,"class","svelte-12lti0j"),d(l,"x",r=n[19]+4),d(l,"y",c=n[20]+2),d(l,"font-size","8"),d(l,"class","svelte-12lti0j")},m(p,u){O(p,e,u),O(p,l,u),b(l,o)},p(p,u){u[0]&8&&i!==(i=p[19])&&d(e,"cx",i),u[0]&8&&t!==(t=p[20])&&d(e,"cy",t),u[0]&8&&a!==(a=p[21]+"")&&Ee(o,a),u[0]&8&&r!==(r=p[19]+4)&&d(l,"x",r),u[0]&8&&c!==(c=p[20]+2)&&d(l,"y",c)},d(p){p&&(k(e),k(l))}}}function Pt(n){let e,i=n[19]&&n[20]&&wt(n);return{c(){i&&i.c(),e=re()},l(t){i&&i.l(t),e=re()},m(t,l){i&&i.m(t,l),O(t,e,l)},p(t,l){t[19]&&t[20]?i?i.p(t,l):(i=wt(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&k(e),i&&i.d(t)}}}function Ji(n){let e,i,t,l,a,o,r,c,p,u,f;i=new Vi({props:{currentPoint:n[9]}}),l=new Yi({props:{index:n[10],points:n[8]}}),l.$on("updateIndex",n[13]);let s=n[1].length>1&&ct(n);return u=new Wi({props:{points:n[8],highlighted:n[12]}}),u.$on("updateId",n[14]),{c(){e=K("section"),We(i.$$.fragment),t=ve(),We(l.$$.fragment),a=ve(),o=K("article"),r=K("div"),s&&s.c(),p=ve(),We(u.$$.fragment),this.h()},l(h){e=x(h,"SECTION",{});var _=q(e);Ue(i.$$.fragment,_),t=me(_),Ue(l.$$.fragment,_),_.forEach(k),a=me(h),o=x(h,"ARTICLE",{class:!0});var S=q(o);r=x(S,"DIV",{class:!0});var E=q(r);s&&s.l(E),E.forEach(k),p=me(S),Ue(u.$$.fragment,S),S.forEach(k),this.h()},h(){d(r,"class","svelte-12lti0j"),It(()=>n[16].call(r)),d(o,"class","svelte-12lti0j")},m(h,_){O(h,e,_),Qe(i,e,null),b(e,t),Qe(l,e,null),O(h,a,_),O(h,o,_),b(o,r),s&&s.m(r,null),c=Nt(r,n[16].bind(r)),b(o,p),Qe(u,o,null),f=!0},p(h,_){const S={};_[0]&512&&(S.currentPoint=h[9]),i.$set(S);const E={};_[0]&1024&&(E.index=h[10]),_[0]&256&&(E.points=h[8]),l.$set(E),h[1].length>1?s?s.p(h,_):(s=ct(h),s.c(),s.m(r,null)):s&&(s.d(1),s=null);const N={};_[0]&256&&(N.points=h[8]),_[0]&4096&&(N.highlighted=h[12]),u.$set(N)},i(h){f||(Ne(i.$$.fragment,h),Ne(l.$$.fragment,h),Ne(u.$$.fragment,h),f=!0)},o(h){Re(i.$$.fragment,h),Re(l.$$.fragment,h),Re(u.$$.fragment,h),f=!1},d(h){h&&(k(e),k(a),k(o)),Je(i),Je(l),s&&s.d(),c(),Je(u)}}}function Ki(n,e,i){let t,l,a,{data:o}=e,r=[{lon:-126.3622344,lat:-72.9741938,name:"Maher Island"},{lon:-109.452777777778,lat:-27.2013888888889,name:"Easter Island"},{lon:-124.787888,lat:-24.6807263,name:"Ducie Island"},{lon:-123.3933333,lat:-48.8766667,name:"Point Nemo"}],c=[],p=[],u=[],f=[],s=[],h=[],_=null,S=0,E,N;Rt(async()=>{const R=Bi().rotate([123,48]).scale(300).precision(1).clipAngle(100).translate([l/2,a/2]);i(11,N=Mi().projection(R));try{const z=await fetch("world.json").then(y=>y.json()),T=await fetch("EEZ_land_v2_201410.json").then(y=>y.json()),A=await fetch("contour.json").then(y=>y.json()),C=await fetch("spoua.json").then(y=>y.json());i(4,c=He(z,z.objects.land).features),i(5,p=He(T,T.objects.EEZ_land_v2_201410).features),i(6,u=He(A,A.objects.collection).features),i(7,f=He(C,C.objects.spoua).features),i(8,s=o.map(y=>{const[$,F]=R([y.lon,y.lat]);return{cx:$,cy:F,name:y.satellite_name,year:y.satellite_decay,r:y.rcs}}).filter(y=>!isNaN(y.cx)&&!isNaN(y.cy))),i(3,r=r.map(y=>{const[$,F]=R([y.lon,y.lat]);return{cx:$,cy:F,name:y.name}})),M()}catch(z){console.error("Error loading or processing data:",z)}});const M=()=>{E&&clearInterval(E),i(10,S=0),i(1,h=[]),E=setInterval(()=>{S<s.length?(i(1,h=[...h,s[S]]),i(9,_=s[S]),i(10,S+=1)):clearInterval(E)},500)},w=R=>{i(10,S=R.detail),i(1,h=s.slice(0,S+1)),i(9,_=h[h.length-1]),i(12,t=s[S+1])},P=R=>{i(10,S=s.findIndex(z=>z.name==R.detail.name&&z.year==R.detail.year)),i(1,h=s.slice(0,S+1))};function I(){l=this.clientWidth,a=this.clientHeight,i(0,l),i(2,a)}return n.$$set=R=>{"data"in R&&i(15,o=R.data)},n.$$.update=()=>{n.$$.dirty[0]&1&&console.log(l),n.$$.dirty[0]&2&&i(12,t=h.slice(-1)[0])},[l,h,a,r,c,p,u,f,s,_,S,N,t,w,P,o,I]}let xi=class extends Oe{constructor(e){super(),Ve(this,e,Ki,Ji,Fe,{data:15},null,[-1,-1])}};function el(n){let e,i,t,l;return i=new xi({props:{data:n[0]}}),{c(){e=K("article"),We(i.$$.fragment),this.h()},l(a){e=x(a,"ARTICLE",{class:!0});var o=q(e);Ue(i.$$.fragment,o),o.forEach(k),this.h()},h(){d(e,"class","svelte-26fxms"),It(()=>n[3].call(e))},m(a,o){O(a,e,o),Qe(i,e,null),t=Nt(e,n[3].bind(e)),l=!0},p(a,o){const r={};o&1&&(r.data=a[0]),i.$set(r)},i(a){l||(Ne(i.$$.fragment,a),l=!0)},o(a){Re(i.$$.fragment,a),l=!1},d(a){a&&k(e),Je(i),t()}}}function nl(n){let e,i="Loading...";return{c(){e=K("p"),e.textContent=i,this.h()},l(t){e=x(t,"P",{class:!0,"data-svelte-h":!0}),kt(e)!=="svelte-qdsr2u"&&(e.textContent=i),this.h()},h(){d(e,"class","svelte-26fxms")},m(t,l){O(t,e,l)},p:_e,i:_e,o:_e,d(t){t&&k(e)}}}function tl(n){let e,i,t,l;const a=[nl,el],o=[];function r(c,p){return c[0].length===0?0:1}return e=r(n),i=o[e]=a[e](n),{c(){i.c(),t=re()},l(c){i.l(c),t=re()},m(c,p){o[e].m(c,p),O(c,t,p),l=!0},p(c,[p]){let u=e;e=r(c),e===u?o[e].p(c,p):(Wt(),Re(o[u],1,1,()=>{o[u]=null}),Gt(),i=o[e],i?i.p(c,p):(i=o[e]=a[e](c),i.c()),Ne(i,1),i.m(t.parentNode,t))},i(c){l||(Ne(i),l=!0)},o(c){Re(i),l=!1},d(c){c&&k(t),o[e].d(c)}}}function il(n,e,i){let t=[],l,a;Rt(async()=>{const c=await(await fetch("data.json")).json(),p=Math.min(...c.map(f=>f.rcs)),u=Math.max(...c.map(f=>f.rcs));i(0,t=c.map(f=>({...f,rcs:1+(f.rcs-p)*19/(u-p)})))});function o(){l=this.clientWidth,a=this.clientHeight,i(1,l),i(2,a)}return[t,l,a,o]}class al extends Oe{constructor(e){super(),Ve(this,e,il,tl,Fe,{})}}export{al as component};
