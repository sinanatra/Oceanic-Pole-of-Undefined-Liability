import{s as Oe,e as ne,b as Se,t as oe,d as te,f as q,O as Cn,j as we,h as ae,i as P,v as g,k as H,l as $,m as Pe,n as ce,w as Re,P as An,Q as zt,R as On,S as me,T as fn,r as Ct,U as W,V as X,F as At,W as Lt,p as ue,X as Qe}from"../chunks/scheduler.BqjlRv6d.js";import{S as He,i as Ve,b as Je,d as Ke,m as xe,g as bt,a as Ee,c as Tt,t as ye,e as en}from"../chunks/index.kE8oDDsW.js";function ie(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function xt(n){return n}function ei(n){if(n==null)return xt;var e,t,i=n.scale[0],l=n.scale[1],a=n.translate[0],o=n.translate[1];return function(r,s){s||(e=t=0);var h=2,u=r.length,f=new Array(u);for(f[0]=(e+=r[0])*i+a,f[1]=(t+=r[1])*l+o;h<u;)f[h]=r[h],++h;return f}}function ni(n,e){for(var t,i=n.length,l=i-e;l<--i;)t=n[l],n[l++]=n[i],n[i]=t}function We(n,e){return typeof e=="string"&&(e=n.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(t){return Hn(n,t)})}:Hn(n,e)}function Hn(n,e){var t=e.id,i=e.bbox,l=e.properties==null?{}:e.properties,a=ti(n,e);return t==null&&i==null?{type:"Feature",properties:l,geometry:a}:i==null?{type:"Feature",id:t,properties:l,geometry:a}:{type:"Feature",id:t,bbox:i,properties:l,geometry:a}}function ti(n,e){var t=ei(n.transform),i=n.arcs;function l(u,f){f.length&&f.pop();for(var c=i[u<0?~u:u],p=0,_=c.length;p<_;++p)f.push(t(c[p],p));u<0&&ni(f,_)}function a(u){return t(u)}function o(u){for(var f=[],c=0,p=u.length;c<p;++c)l(u[c],f);return f.length<2&&f.push(f[0]),f}function r(u){for(var f=o(u);f.length<4;)f.push(f[0]);return f}function s(u){return u.map(r)}function h(u){var f=u.type,c;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(h)};case"Point":c=a(u.coordinates);break;case"MultiPoint":c=u.coordinates.map(a);break;case"LineString":c=o(u.arcs);break;case"MultiLineString":c=u.arcs.map(o);break;case"Polygon":c=s(u.arcs);break;case"MultiPolygon":c=u.arcs.map(s);break;default:return null}return{type:f,coordinates:c}}return h(e)}class Me{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let i=0;for(let l=0;l<this._n&&l<32;l++){const a=t[l],o=e+a,r=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);r&&(t[i++]=r),e=o}return t[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let t=this._n,i,l,a,o=0;if(t>0){for(o=e[--t];t>0&&(i=o,l=e[--t],o=i+l,a=l-(o-i),!a););t>0&&(a<0&&e[t-1]<0||a>0&&e[t-1]>0)&&(l=a*2,i=o+l,l==i-o&&(o=i))}return o}}function*ii(n){for(const e of n)yield*e}function Dt(n){return Array.from(ii(n))}var Y=1e-6,li=1e-12,j=Math.PI,se=j/2,Vn=j/4,he=j*2,de=180/j,le=j/180,x=Math.abs,ri=Math.atan,Ce=Math.atan2,Q=Math.cos,U=Math.sin,oi=Math.sign||function(n){return n>0?1:n<0?-1:0},ke=Math.sqrt;function $t(n){return n>1?0:n<-1?j:Math.acos(n)}function Ae(n){return n>1?se:n<-1?-se:Math.asin(n)}function fe(){}function nn(n,e){n&&Xn.hasOwnProperty(n.type)&&Xn[n.type](n,e)}var Wn={Feature:function(n,e){nn(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,i=-1,l=t.length;++i<l;)nn(t[i].geometry,e)}},Xn={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,i=-1,l=t.length;++i<l;)n=t[i],e.point(n[0],n[1],n[2])},LineString:function(n,e){gn(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,i=-1,l=t.length;++i<l;)gn(t[i],e,0)},Polygon:function(n,e){Yn(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,i=-1,l=t.length;++i<l;)Yn(t[i],e)},GeometryCollection:function(n,e){for(var t=n.geometries,i=-1,l=t.length;++i<l;)nn(t[i],e)}};function gn(n,e,t){var i=-1,l=n.length-t,a;for(e.lineStart();++i<l;)a=n[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function Yn(n,e){var t=-1,i=n.length;for(e.polygonStart();++t<i;)gn(n[t],e,1);e.polygonEnd()}function Ne(n,e){n&&Wn.hasOwnProperty(n.type)?Wn[n.type](n,e):nn(n,e)}function dn(n){return[Ce(n[1],n[0]),Ae(n[2])]}function Le(n){var e=n[0],t=n[1],i=Q(t);return[i*Q(e),i*U(e),U(t)]}function Xe(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function tn(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function cn(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function Ye(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function vn(n){var e=ke(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function mn(n,e){function t(i,l){return i=n(i,l),e(i[0],i[1])}return n.invert&&e.invert&&(t.invert=function(i,l){return i=e.invert(i,l),i&&n.invert(i[0],i[1])}),t}function En(n,e){return x(n)>j&&(n-=Math.round(n/he)*he),[n,e]}En.invert=En;function ai(n,e,t){return(n%=he)?e||t?mn(Gn(n),Un(e,t)):Gn(n):e||t?Un(e,t):En}function Zn(n){return function(e,t){return e+=n,x(e)>j&&(e-=Math.round(e/he)*he),[e,t]}}function Gn(n){var e=Zn(n);return e.invert=Zn(-n),e}function Un(n,e){var t=Q(n),i=U(n),l=Q(e),a=U(e);function o(r,s){var h=Q(s),u=Q(r)*h,f=U(r)*h,c=U(s),p=c*t+u*i;return[Ce(f*l-p*a,u*t-c*i),Ae(p*l+f*a)]}return o.invert=function(r,s){var h=Q(s),u=Q(r)*h,f=U(r)*h,c=U(s),p=c*l-f*a;return[Ce(f*l+c*a,u*t+p*i),Ae(p*t-u*i)]},o}function ui(n,e,t,i,l,a){if(t){var o=Q(e),r=U(e),s=i*t;l==null?(l=e+i*he,a=e-s/2):(l=Qn(o,l),a=Qn(o,a),(i>0?l<a:l>a)&&(l+=i*he));for(var h,u=l;i>0?u>a:u<a;u-=s)h=dn([o,-r*Q(u),-r*U(u)]),n.point(h[0],h[1])}}function Qn(n,e){e=Le(e),e[0]-=n,vn(e);var t=$t(-e[1]);return((-e[2]<0?-t:t)+he-Y)%he}function qt(){var n=[],e;return{point:function(t,i,l){e.push([t,i,l])},lineStart:function(){n.push(e=[])},lineEnd:fe,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function Ue(n,e){return x(n[0]-e[0])<Y&&x(n[1]-e[1])<Y}function Ze(n,e,t,i){this.x=n,this.z=e,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function Bt(n,e,t,i,l){var a=[],o=[],r,s;if(n.forEach(function(_){if(!((S=_.length-1)<=0)){var S,y=_[0],w=_[S],k;if(Ue(y,w)){if(!y[2]&&!w[2]){for(l.lineStart(),r=0;r<S;++r)l.point((y=_[r])[0],y[1]);l.lineEnd();return}w[0]+=2*Y}a.push(k=new Ze(y,_,null,!0)),o.push(k.o=new Ze(y,null,k,!1)),a.push(k=new Ze(w,_,null,!1)),o.push(k.o=new Ze(w,null,k,!0))}}),!!a.length){for(o.sort(e),Jn(a),Jn(o),r=0,s=o.length;r<s;++r)o[r].e=t=!t;for(var h=a[0],u,f;;){for(var c=h,p=!0;c.v;)if((c=c.n)===h)return;u=c.z,l.lineStart();do{if(c.v=c.o.v=!0,c.e){if(p)for(r=0,s=u.length;r<s;++r)l.point((f=u[r])[0],f[1]);else i(c.x,c.n.x,1,l);c=c.n}else{if(p)for(u=c.p.z,r=u.length-1;r>=0;--r)l.point((f=u[r])[0],f[1]);else i(c.x,c.p.x,-1,l);c=c.p}c=c.o,u=c.z,p=!p}while(!c.v);l.lineEnd()}}}function Jn(n){if(e=n.length){for(var e,t=0,i=n[0],l;++t<e;)i.n=l=n[t],l.p=i,i=l;i.n=l=n[0],l.p=i}}function hn(n){return x(n[0])<=j?n[0]:oi(n[0])*((x(n[0])+j)%he-j)}function si(n,e){var t=hn(e),i=e[1],l=U(i),a=[U(t),-Q(t),0],o=0,r=0,s=new Me;l===1?i=se+Y:l===-1&&(i=-se-Y);for(var h=0,u=n.length;h<u;++h)if(c=(f=n[h]).length)for(var f,c,p=f[c-1],_=hn(p),S=p[1]/2+Vn,y=U(S),w=Q(S),k=0;k<c;++k,_=M,y=A,w=I,p=R){var R=f[k],M=hn(R),N=R[1]/2+Vn,A=U(N),I=Q(N),b=M-_,C=b>=0?1:-1,F=C*b,E=F>j,Z=y*A;if(s.add(Ce(Z*C*U(F),w*I+Z*Q(F))),o+=E?b+C*he:b,E^_>=t^M>=t){var D=tn(Le(p),Le(R));vn(D);var T=tn(a,D);vn(T);var v=(E^b>=0?-1:1)*Ae(T[2]);(i>v||i===v&&(D[0]||D[1]))&&(r+=E^b>=0?1:-1)}}return(o<-Y||o<Y&&s<-li)^r&1}function Ft(n,e,t,i){return function(l){var a=e(l),o=qt(),r=e(o),s=!1,h,u,f,c={point:p,lineStart:S,lineEnd:y,polygonStart:function(){c.point=w,c.lineStart=k,c.lineEnd=R,u=[],h=[]},polygonEnd:function(){c.point=p,c.lineStart=S,c.lineEnd=y,u=Dt(u);var M=si(h,i);u.length?(s||(l.polygonStart(),s=!0),Bt(u,ci,M,t,l)):M&&(s||(l.polygonStart(),s=!0),l.lineStart(),t(null,null,1,l),l.lineEnd()),s&&(l.polygonEnd(),s=!1),u=h=null},sphere:function(){l.polygonStart(),l.lineStart(),t(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function p(M,N){n(M,N)&&l.point(M,N)}function _(M,N){a.point(M,N)}function S(){c.point=_,a.lineStart()}function y(){c.point=p,a.lineEnd()}function w(M,N){f.push([M,N]),r.point(M,N)}function k(){r.lineStart(),f=[]}function R(){w(f[0][0],f[0][1]),r.lineEnd();var M=r.clean(),N=o.result(),A,I=N.length,b,C,F;if(f.pop(),h.push(f),f=null,!!I){if(M&1){if(C=N[0],(b=C.length-1)>0){for(s||(l.polygonStart(),s=!0),l.lineStart(),A=0;A<b;++A)l.point((F=C[A])[0],F[1]);l.lineEnd()}return}I>1&&M&2&&N.push(N.pop().concat(N.shift())),u.push(N.filter(fi))}}return c}}function fi(n){return n.length>1}function ci(n,e){return((n=n.x)[0]<0?n[1]-se-Y:se-n[1])-((e=e.x)[0]<0?e[1]-se-Y:se-e[1])}const Kn=Ft(function(){return!0},hi,_i,[-j,-se]);function hi(n){var e=NaN,t=NaN,i=NaN,l;return{lineStart:function(){n.lineStart(),l=1},point:function(a,o){var r=a>0?j:-j,s=x(a-e);x(s-j)<Y?(n.point(e,t=(t+o)/2>0?se:-se),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(r,t),n.point(a,t),l=0):i!==r&&s>=j&&(x(e-i)<Y&&(e-=i*Y),x(a-r)<Y&&(a-=r*Y),t=pi(e,t,a,o),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(r,t),l=0),n.point(e=a,t=o),i=r},lineEnd:function(){n.lineEnd(),e=t=NaN},clean:function(){return 2-l}}}function pi(n,e,t,i){var l,a,o=U(n-t);return x(o)>Y?ri((U(e)*(a=Q(i))*U(t)-U(i)*(l=Q(e))*U(n))/(l*a*o)):(e+i)/2}function _i(n,e,t,i){var l;if(n==null)l=t*se,i.point(-j,l),i.point(0,l),i.point(j,l),i.point(j,0),i.point(j,-l),i.point(0,-l),i.point(-j,-l),i.point(-j,0),i.point(-j,l);else if(x(n[0]-e[0])>Y){var a=n[0]<e[0]?j:-j;l=t*a/2,i.point(-a,l),i.point(0,l),i.point(a,l)}else i.point(e[0],e[1])}function gi(n){var e=Q(n),t=2*le,i=e>0,l=x(e)>Y;function a(u,f,c,p){ui(p,n,t,c,u,f)}function o(u,f){return Q(u)*Q(f)>e}function r(u){var f,c,p,_,S;return{lineStart:function(){_=p=!1,S=1},point:function(y,w){var k=[y,w],R,M=o(y,w),N=i?M?0:h(y,w):M?h(y+(y<0?j:-j),w):0;if(!f&&(_=p=M)&&u.lineStart(),M!==p&&(R=s(f,k),(!R||Ue(f,R)||Ue(k,R))&&(k[2]=1)),M!==p)S=0,M?(u.lineStart(),R=s(k,f),u.point(R[0],R[1])):(R=s(f,k),u.point(R[0],R[1],2),u.lineEnd()),f=R;else if(l&&f&&i^M){var A;!(N&c)&&(A=s(k,f,!0))&&(S=0,i?(u.lineStart(),u.point(A[0][0],A[0][1]),u.point(A[1][0],A[1][1]),u.lineEnd()):(u.point(A[1][0],A[1][1]),u.lineEnd(),u.lineStart(),u.point(A[0][0],A[0][1],3)))}M&&(!f||!Ue(f,k))&&u.point(k[0],k[1]),f=k,p=M,c=N},lineEnd:function(){p&&u.lineEnd(),f=null},clean:function(){return S|(_&&p)<<1}}}function s(u,f,c){var p=Le(u),_=Le(f),S=[1,0,0],y=tn(p,_),w=Xe(y,y),k=y[0],R=w-k*k;if(!R)return!c&&u;var M=e*w/R,N=-e*k/R,A=tn(S,y),I=Ye(S,M),b=Ye(y,N);cn(I,b);var C=A,F=Xe(I,C),E=Xe(C,C),Z=F*F-E*(Xe(I,I)-1);if(!(Z<0)){var D=ke(Z),T=Ye(C,(-F-D)/E);if(cn(T,I),T=dn(T),!c)return T;var v=u[0],z=f[0],G=u[1],O=f[1],ee;z<v&&(ee=v,v=z,z=ee);var J=z-v,d=x(J-j)<Y,B=d||J<Y;if(!d&&O<G&&(ee=G,G=O,O=ee),B?d?G+O>0^T[1]<(x(T[0]-v)<Y?G:O):G<=T[1]&&T[1]<=O:J>j^(v<=T[0]&&T[0]<=z)){var L=Ye(C,(-F+D)/E);return cn(L,I),[T,dn(L)]}}}function h(u,f){var c=i?n:j-n,p=0;return u<-c?p|=1:u>c&&(p|=2),f<-c?p|=4:f>c&&(p|=8),p}return Ft(o,r,a,i?[0,-n]:[-j,n-j])}function di(n,e,t,i,l,a){var o=n[0],r=n[1],s=e[0],h=e[1],u=0,f=1,c=s-o,p=h-r,_;if(_=t-o,!(!c&&_>0)){if(_/=c,c<0){if(_<u)return;_<f&&(f=_)}else if(c>0){if(_>f)return;_>u&&(u=_)}if(_=l-o,!(!c&&_<0)){if(_/=c,c<0){if(_>f)return;_>u&&(u=_)}else if(c>0){if(_<u)return;_<f&&(f=_)}if(_=i-r,!(!p&&_>0)){if(_/=p,p<0){if(_<u)return;_<f&&(f=_)}else if(p>0){if(_>f)return;_>u&&(u=_)}if(_=a-r,!(!p&&_<0)){if(_/=p,p<0){if(_>f)return;_>u&&(u=_)}else if(p>0){if(_<u)return;_<f&&(f=_)}return u>0&&(n[0]=o+u*c,n[1]=r+u*p),f<1&&(e[0]=o+f*c,e[1]=r+f*p),!0}}}}}var Te=1e9,Ge=-Te;function vi(n,e,t,i){function l(h,u){return n<=h&&h<=t&&e<=u&&u<=i}function a(h,u,f,c){var p=0,_=0;if(h==null||(p=o(h,f))!==(_=o(u,f))||s(h,u)<0^f>0)do c.point(p===0||p===3?n:t,p>1?i:e);while((p=(p+f+4)%4)!==_);else c.point(u[0],u[1])}function o(h,u){return x(h[0]-n)<Y?u>0?0:3:x(h[0]-t)<Y?u>0?2:1:x(h[1]-e)<Y?u>0?1:0:u>0?3:2}function r(h,u){return s(h.x,u.x)}function s(h,u){var f=o(h,1),c=o(u,1);return f!==c?f-c:f===0?u[1]-h[1]:f===1?h[0]-u[0]:f===2?h[1]-u[1]:u[0]-h[0]}return function(h){var u=h,f=qt(),c,p,_,S,y,w,k,R,M,N,A,I={point:b,lineStart:Z,lineEnd:D,polygonStart:F,polygonEnd:E};function b(v,z){l(v,z)&&u.point(v,z)}function C(){for(var v=0,z=0,G=p.length;z<G;++z)for(var O=p[z],ee=1,J=O.length,d=O[0],B,L,m=d[0],V=d[1];ee<J;++ee)B=m,L=V,d=O[ee],m=d[0],V=d[1],L<=i?V>i&&(m-B)*(i-L)>(V-L)*(n-B)&&++v:V<=i&&(m-B)*(i-L)<(V-L)*(n-B)&&--v;return v}function F(){u=f,c=[],p=[],A=!0}function E(){var v=C(),z=A&&v,G=(c=Dt(c)).length;(z||G)&&(h.polygonStart(),z&&(h.lineStart(),a(null,null,1,h),h.lineEnd()),G&&Bt(c,r,v,a,h),h.polygonEnd()),u=h,c=p=_=null}function Z(){I.point=T,p&&p.push(_=[]),N=!0,M=!1,k=R=NaN}function D(){c&&(T(S,y),w&&M&&f.rejoin(),c.push(f.result())),I.point=b,M&&u.lineEnd()}function T(v,z){var G=l(v,z);if(p&&_.push([v,z]),N)S=v,y=z,w=G,N=!1,G&&(u.lineStart(),u.point(v,z));else if(G&&M)u.point(v,z);else{var O=[k=Math.max(Ge,Math.min(Te,k)),R=Math.max(Ge,Math.min(Te,R))],ee=[v=Math.max(Ge,Math.min(Te,v)),z=Math.max(Ge,Math.min(Te,z))];di(O,ee,n,e,t,i)?(M||(u.lineStart(),u.point(O[0],O[1])),u.point(ee[0],ee[1]),G||u.lineEnd(),A=!1):G&&(u.lineStart(),u.point(v,z),A=!1)}k=v,R=z,M=G}return I}}const yn=n=>n;var pn=new Me,Sn=new Me,jt,Ot,wn,Pn,ve={point:fe,lineStart:fe,lineEnd:fe,polygonStart:function(){ve.lineStart=mi,ve.lineEnd=yi},polygonEnd:function(){ve.lineStart=ve.lineEnd=ve.point=fe,pn.add(x(Sn)),Sn=new Me},result:function(){var n=pn/2;return pn=new Me,n}};function mi(){ve.point=Ei}function Ei(n,e){ve.point=Ht,jt=wn=n,Ot=Pn=e}function Ht(n,e){Sn.add(Pn*n-wn*e),wn=n,Pn=e}function yi(){Ht(jt,Ot)}var be=1/0,ln=be,Fe=-be,rn=Fe,on={point:Si,lineStart:fe,lineEnd:fe,polygonStart:fe,polygonEnd:fe,result:function(){var n=[[be,ln],[Fe,rn]];return Fe=rn=-(ln=be=1/0),n}};function Si(n,e){n<be&&(be=n),n>Fe&&(Fe=n),e<ln&&(ln=e),e>rn&&(rn=e)}var kn=0,Mn=0,De=0,an=0,un=0,ze=0,In=0,Nn=0,$e=0,Vt,Wt,pe,_e,re={point:Ie,lineStart:xn,lineEnd:et,polygonStart:function(){re.lineStart=ki,re.lineEnd=Mi},polygonEnd:function(){re.point=Ie,re.lineStart=xn,re.lineEnd=et},result:function(){var n=$e?[In/$e,Nn/$e]:ze?[an/ze,un/ze]:De?[kn/De,Mn/De]:[NaN,NaN];return kn=Mn=De=an=un=ze=In=Nn=$e=0,n}};function Ie(n,e){kn+=n,Mn+=e,++De}function xn(){re.point=wi}function wi(n,e){re.point=Pi,Ie(pe=n,_e=e)}function Pi(n,e){var t=n-pe,i=e-_e,l=ke(t*t+i*i);an+=l*(pe+n)/2,un+=l*(_e+e)/2,ze+=l,Ie(pe=n,_e=e)}function et(){re.point=Ie}function ki(){re.point=Ii}function Mi(){Xt(Vt,Wt)}function Ii(n,e){re.point=Xt,Ie(Vt=pe=n,Wt=_e=e)}function Xt(n,e){var t=n-pe,i=e-_e,l=ke(t*t+i*i);an+=l*(pe+n)/2,un+=l*(_e+e)/2,ze+=l,l=_e*n-pe*e,In+=l*(pe+n),Nn+=l*(_e+e),$e+=l*3,Ie(pe=n,_e=e)}function Yt(n){this._context=n}Yt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,he);break}}},result:fe};var Rn=new Me,_n,Zt,Gt,qe,Be,je={point:fe,lineStart:function(){je.point=Ni},lineEnd:function(){_n&&Ut(Zt,Gt),je.point=fe},polygonStart:function(){_n=!0},polygonEnd:function(){_n=null},result:function(){var n=+Rn;return Rn=new Me,n}};function Ni(n,e){je.point=Ut,Zt=qe=n,Gt=Be=e}function Ut(n,e){qe-=n,Be-=e,Rn.add(ke(qe*qe+Be*Be)),qe=n,Be=e}let nt,sn,tt,it;class lt{constructor(e){this._append=e==null?Qt:Ri(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:{this._append`M${e},${t}`,this._point=1;break}case 1:{this._append`L${e},${t}`;break}default:{if(this._append`M${e},${t}`,this._radius!==tt||this._append!==sn){const i=this._radius,l=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,tt=i,sn=this._append,it=this._,this._=l}this._+=it;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Qt(n){let e=1;this._+=n[0];for(const t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function Ri(n){const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);if(e>15)return Qt;if(e!==nt){const t=10**e;nt=e,sn=function(l){let a=1;this._+=l[0];for(const o=l.length;a<o;++a)this._+=Math.round(arguments[a]*t)/t+l[a]}}return sn}function zi(n,e){let t=3,i=4.5,l,a;function o(r){return r&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),Ne(r,l(a))),a.result()}return o.area=function(r){return Ne(r,l(ve)),ve.result()},o.measure=function(r){return Ne(r,l(je)),je.result()},o.bounds=function(r){return Ne(r,l(on)),on.result()},o.centroid=function(r){return Ne(r,l(re)),re.result()},o.projection=function(r){return arguments.length?(l=r==null?(n=null,yn):(n=r).stream,o):n},o.context=function(r){return arguments.length?(a=r==null?(e=null,new lt(t)):new Yt(e=r),typeof i!="function"&&a.pointRadius(i),o):e},o.pointRadius=function(r){return arguments.length?(i=typeof r=="function"?r:(a.pointRadius(+r),+r),o):i},o.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e===null&&(a=new lt(t)),o},o.projection(n).digits(t).context(e)}function Ln(n){return function(e){var t=new zn;for(var i in n)t[i]=n[i];return t.stream=e,t}}function zn(){}zn.prototype={constructor:zn,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function bn(n,e,t){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),Ne(t,n.stream(on)),e(on.result()),i!=null&&n.clipExtent(i),n}function Jt(n,e,t){return bn(n,function(i){var l=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(l/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),r=+e[0][0]+(l-o*(i[1][0]+i[0][0]))/2,s=+e[0][1]+(a-o*(i[1][1]+i[0][1]))/2;n.scale(150*o).translate([r,s])},t)}function Ci(n,e,t){return Jt(n,[[0,0],e],t)}function Ai(n,e,t){return bn(n,function(i){var l=+e,a=l/(i[1][0]-i[0][0]),o=(l-a*(i[1][0]+i[0][0]))/2,r=-a*i[0][1];n.scale(150*a).translate([o,r])},t)}function Li(n,e,t){return bn(n,function(i){var l=+e,a=l/(i[1][1]-i[0][1]),o=-a*i[0][0],r=(l-a*(i[1][1]+i[0][1]))/2;n.scale(150*a).translate([o,r])},t)}var rt=16,bi=Q(30*le);function ot(n,e){return+e?Di(n,e):Ti(n)}function Ti(n){return Ln({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}function Di(n,e){function t(i,l,a,o,r,s,h,u,f,c,p,_,S,y){var w=h-i,k=u-l,R=w*w+k*k;if(R>4*e&&S--){var M=o+c,N=r+p,A=s+_,I=ke(M*M+N*N+A*A),b=Ae(A/=I),C=x(x(A)-1)<Y||x(a-f)<Y?(a+f)/2:Ce(N,M),F=n(C,b),E=F[0],Z=F[1],D=E-i,T=Z-l,v=k*D-w*T;(v*v/R>e||x((w*D+k*T)/R-.5)>.3||o*c+r*p+s*_<bi)&&(t(i,l,a,o,r,s,E,Z,C,M/=I,N/=I,A,S,y),y.point(E,Z),t(E,Z,C,M,N,A,h,u,f,c,p,_,S,y))}}return function(i){var l,a,o,r,s,h,u,f,c,p,_,S,y={point:w,lineStart:k,lineEnd:M,polygonStart:function(){i.polygonStart(),y.lineStart=N},polygonEnd:function(){i.polygonEnd(),y.lineStart=k}};function w(b,C){b=n(b,C),i.point(b[0],b[1])}function k(){f=NaN,y.point=R,i.lineStart()}function R(b,C){var F=Le([b,C]),E=n(b,C);t(f,c,u,p,_,S,f=E[0],c=E[1],u=b,p=F[0],_=F[1],S=F[2],rt,i),i.point(f,c)}function M(){y.point=w,i.lineEnd()}function N(){k(),y.point=A,y.lineEnd=I}function A(b,C){R(l=b,C),a=f,o=c,r=p,s=_,h=S,y.point=R}function I(){t(f,c,u,p,_,S,a,o,l,r,s,h,rt,i),y.lineEnd=M,M()}return y}}var $i=Ln({point:function(n,e){this.stream.point(n*le,e*le)}});function qi(n){return Ln({point:function(e,t){var i=n(e,t);return this.stream.point(i[0],i[1])}})}function Bi(n,e,t,i,l){function a(o,r){return o*=i,r*=l,[e+n*o,t-n*r]}return a.invert=function(o,r){return[(o-e)/n*i,(t-r)/n*l]},a}function at(n,e,t,i,l,a){if(!a)return Bi(n,e,t,i,l);var o=Q(a),r=U(a),s=o*n,h=r*n,u=o/n,f=r/n,c=(r*t-o*e)/n,p=(r*e+o*t)/n;function _(S,y){return S*=i,y*=l,[s*S-h*y+e,t-h*S-s*y]}return _.invert=function(S,y){return[i*(u*S-f*y+c),l*(p-f*S-u*y)]},_}function Fi(n){return ji(function(){return n})()}function ji(n){var e,t=150,i=480,l=250,a=0,o=0,r=0,s=0,h=0,u,f=0,c=1,p=1,_=null,S=Kn,y=null,w,k,R,M=yn,N=.5,A,I,b,C,F;function E(v){return b(v[0]*le,v[1]*le)}function Z(v){return v=b.invert(v[0],v[1]),v&&[v[0]*de,v[1]*de]}E.stream=function(v){return C&&F===v?C:C=$i(qi(u)(S(A(M(F=v)))))},E.preclip=function(v){return arguments.length?(S=v,_=void 0,T()):S},E.postclip=function(v){return arguments.length?(M=v,y=w=k=R=null,T()):M},E.clipAngle=function(v){return arguments.length?(S=+v?gi(_=v*le):(_=null,Kn),T()):_*de},E.clipExtent=function(v){return arguments.length?(M=v==null?(y=w=k=R=null,yn):vi(y=+v[0][0],w=+v[0][1],k=+v[1][0],R=+v[1][1]),T()):y==null?null:[[y,w],[k,R]]},E.scale=function(v){return arguments.length?(t=+v,D()):t},E.translate=function(v){return arguments.length?(i=+v[0],l=+v[1],D()):[i,l]},E.center=function(v){return arguments.length?(a=v[0]%360*le,o=v[1]%360*le,D()):[a*de,o*de]},E.rotate=function(v){return arguments.length?(r=v[0]%360*le,s=v[1]%360*le,h=v.length>2?v[2]%360*le:0,D()):[r*de,s*de,h*de]},E.angle=function(v){return arguments.length?(f=v%360*le,D()):f*de},E.reflectX=function(v){return arguments.length?(c=v?-1:1,D()):c<0},E.reflectY=function(v){return arguments.length?(p=v?-1:1,D()):p<0},E.precision=function(v){return arguments.length?(A=ot(I,N=v*v),T()):ke(N)},E.fitExtent=function(v,z){return Jt(E,v,z)},E.fitSize=function(v,z){return Ci(E,v,z)},E.fitWidth=function(v,z){return Ai(E,v,z)},E.fitHeight=function(v,z){return Li(E,v,z)};function D(){var v=at(t,0,0,c,p,f).apply(null,e(a,o)),z=at(t,i-v[0],l-v[1],c,p,f);return u=ai(r,s,h),I=mn(e,z),b=mn(u,I),A=ot(I,N),T()}function T(){return C=F=null,E}return function(){return e=n.apply(this,arguments),E.invert=e.invert&&Z,D()}}function Oi(n){return function(e,t){var i=Q(e),l=Q(t),a=n(i*l);return a===1/0?[2,0]:[a*l*U(e),a*U(t)]}}function Hi(n){return function(e,t){var i=ke(e*e+t*t),l=n(i),a=U(l),o=Q(l);return[Ce(e*a,i*o),Ae(i&&t*a/i)]}}var Kt=Oi(function(n){return(n=$t(n))&&n/U(n)});Kt.invert=Hi(function(n){return n});function Vi(){return Fi(Kt).scale(79.4188).clipAngle(180-.001)}function Wi(n){var S,y;let e,t,i=`<p class="svelte-1w7z1qb">An interactive visualization of all the space debris that reenters
            the atmosphere in the South Pacific Ocean. From 1960 until today.</p>`,l,a,o,r,s=((S=n[0])==null?void 0:S.name)+"",h,u,f,c,p=((y=n[0])==null?void 0:y.year)+"",_;return{c(){e=ne("div"),t=ne("div"),t.innerHTML=i,l=Se(),a=ne("div"),o=ne("span"),r=oe("Satellite: "),h=oe(s),u=Se(),f=ne("span"),c=oe("Year: "),_=oe(p),this.h()},l(w){e=te(w,"DIV",{class:!0});var k=q(e);t=te(k,"DIV",{class:!0,"data-svelte-h":!0}),Cn(t)!=="svelte-9fj3n4"&&(t.innerHTML=i),l=we(k),a=te(k,"DIV",{class:!0});var R=q(a);o=te(R,"SPAN",{class:!0});var M=q(o);r=ae(M,"Satellite: "),h=ae(M,s),M.forEach(P),u=we(R),f=te(R,"SPAN",{class:!0});var N=q(f);c=ae(N,"Year: "),_=ae(N,p),N.forEach(P),R.forEach(P),k.forEach(P),this.h()},h(){g(t,"class","description svelte-1w7z1qb"),g(o,"class","svelte-1w7z1qb"),g(f,"class","svelte-1w7z1qb"),g(a,"class","satellite-info svelte-1w7z1qb"),g(e,"class","top-bar svelte-1w7z1qb")},m(w,k){H(w,e,k),$(e,t),$(e,l),$(e,a),$(a,o),$(o,r),$(o,h),$(a,u),$(a,f),$(f,c),$(f,_)},p(w,[k]){var R,M;k&1&&s!==(s=((R=w[0])==null?void 0:R.name)+"")&&Pe(h,s),k&1&&p!==(p=((M=w[0])==null?void 0:M.year)+"")&&Pe(_,p)},i:ce,o:ce,d(w){w&&P(e)}}}function Xi(n,e,t){let{currentPoint:i}=e;return n.$$set=l=>{"currentPoint"in l&&t(0,i=l.currentPoint)},[i]}class Yi extends He{constructor(e){super(),Ve(this,e,Xi,Wi,Oe,{currentPoint:0})}}function Zi(n){let e,t,i,l,a,o;return{c(){e=ne("div"),t=ne("div"),i=Se(),l=ne("div"),this.h()},l(r){e=te(r,"DIV",{class:!0});var s=q(e);t=te(s,"DIV",{class:!0,style:!0}),q(t).forEach(P),i=we(s),l=te(s,"DIV",{class:!0,style:!0}),q(l).forEach(P),s.forEach(P),this.h()},h(){g(t,"class","progress svelte-1aifhpe"),Re(t,"width",(n[0]+1)/n[1].length*100+"%"),g(l,"class","draggable svelte-1aifhpe"),Re(l,"left",(n[0]+1)/n[1].length*100+"%"),g(e,"class","progress-bar svelte-1aifhpe")},m(r,s){H(r,e,s),$(e,t),$(e,i),$(e,l),a||(o=An(e,"mousedown",n[2]),a=!0)},p(r,[s]){s&3&&Re(t,"width",(r[0]+1)/r[1].length*100+"%"),s&3&&Re(l,"left",(r[0]+1)/r[1].length*100+"%")},i:ce,o:ce,d(r){r&&P(e),a=!1,o()}}}function Gi(n,e,t){const i=zt();let{index:l}=e,{points:a}=e;function o(r){const s=r.currentTarget.getBoundingClientRect();let h=r.clientX-s.left;const u=s.width;h<0?h=0:h>u&&(h=u);const f=h/u*100,c=Math.floor(f/100*a.length);i("updateIndex",c)}return n.$$set=r=>{"index"in r&&t(0,l=r.index),"points"in r&&t(1,a=r.points)},[l,a,o]}class Ui extends He{constructor(e){super(),Ve(this,e,Gi,Zi,Oe,{index:0,points:1})}}function ut(n,e,t){const i=n.slice();return i[9]=e[t],i[11]=t,i}function st(n){let e,t=n[9].name+"",i,l,a=n[9].year+"",o,r,s,h;function u(){return n[7](n[11])}return{c(){e=ne("p"),i=oe(t),l=oe(", "),o=oe(a),r=Se(),this.h()},l(f){e=te(f,"P",{class:!0});var c=q(e);i=ae(c,t),l=ae(c,", "),o=ae(c,a),r=we(c),c.forEach(P),this.h()},h(){g(e,"class","svelte-w62jlu"),fn(e,"gray-background",n[11]%2===1),fn(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},m(f,c){H(f,e,c),$(e,i),$(e,l),$(e,o),$(e,r),s||(h=An(e,"click",u),s=!0)},p(f,c){n=f,c&4&&t!==(t=n[9].name+"")&&Pe(i,t),c&4&&a!==(a=n[9].year+"")&&Pe(o,a),c&5&&fn(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},d(f){f&&P(e),s=!1,h()}}}function Qi(n){let e,t,i,l,a,o=ie(n[2]),r=[];for(let s=0;s<o.length;s+=1)r[s]=st(ut(n,o,s));return{c(){e=ne("article"),t=ne("input"),i=Se();for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=te(s,"ARTICLE",{class:!0});var h=q(e);t=te(h,"INPUT",{type:!0,placeholder:!0,class:!0}),i=we(h);for(let u=0;u<r.length;u+=1)r[u].l(h);h.forEach(P),this.h()},h(){g(t,"type","text"),g(t,"placeholder","Search..."),g(t,"class","svelte-w62jlu"),g(e,"class","svelte-w62jlu")},m(s,h){H(s,e,h),$(e,t),On(t,n[1]),$(e,i);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);l||(a=An(t,"input",n[6]),l=!0)},p(s,[h]){if(h&2&&t.value!==s[1]&&On(t,s[1]),h&13){o=ie(s[2]);let u;for(u=0;u<o.length;u+=1){const f=ut(s,o,u);r[u]?r[u].p(f,h):(r[u]=st(f),r[u].c(),r[u].m(e,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=o.length}},i:ce,o:ce,d(s){s&&P(e),me(r,s),l=!1,a()}}}function Ji(n,e,t){let i,l,{points:a}=e,{highlighted:o}=e;const r=zt();let s="";function h(c){r("updateId",i[c])}function u(){s=this.value,t(1,s)}const f=c=>h(c);return n.$$set=c=>{"points"in c&&t(4,a=c.points),"highlighted"in c&&t(0,o=c.highlighted)},n.$$.update=()=>{n.$$.dirty&16&&t(5,l=a.reduce((c,p)=>c.find(S=>S.name===p.name&&S.year===p.year)?c:c.concat([p]),[])),n.$$.dirty&34&&t(2,i=l.filter(c=>c.name.toLowerCase().includes(s.toLowerCase())))},[o,s,i,h,a,l,u,f]}class Ki extends He{constructor(e){super(),Ve(this,e,Ji,Qi,Oe,{points:4,highlighted:0})}}function ft(n,e,t){const i=n.slice();return i[20]=e[t].cx,i[21]=e[t].cy,i[22]=e[t].name,i}function ct(n,e,t){const i=n.slice();return i[25]=e[t],i[27]=t,i}function ht(n,e,t){const i=n.slice();return i[20]=e[t].cx,i[21]=e[t].cy,i[22]=e[t].name,i[28]=e[t].r,i[27]=t,i}function pt(n,e,t){const i=n.slice();return i[30]=e[t],i[27]=t,i}function _t(n,e,t){const i=n.slice();return i[25]=e[t],i[27]=t,i}function gt(n,e,t){const i=n.slice();return i[25]=e[t],i[27]=t,i}function dt(n,e,t){const i=n.slice();return i[25]=e[t],i[27]=t,i}function xi(n){let e,t="Loading...";return{c(){e=ne("p"),e.textContent=t,this.h()},l(i){e=te(i,"P",{class:!0,"data-svelte-h":!0}),Cn(e)!=="svelte-qdsr2u"&&(e.textContent=t),this.h()},h(){g(e,"class","svelte-ppdyav")},m(i,l){H(i,e,l)},p:ce,i:ce,o:ce,d(i){i&&P(e)}}}function el(n){let e,t,i,l,a,o,r,s,h,u,f,c,p,_,S,y,w,k,R,M,N,A,I=n[0].length>1&&vt(n),b=ie(n[5]),C=[];for(let d=0;d<b.length;d+=1)C[d]=mt(dt(n,b,d));let F=ie(n[4]),E=[];for(let d=0;d<F.length;d+=1)E[d]=Et(gt(n,F,d));let Z=ie(n[6]),D=[];for(let d=0;d<Z.length;d+=1)D[d]=yt(_t(n,Z,d));let T=n[0].length>1&&St(n),v=ie(n[0]),z=[];for(let d=0;d<v.length;d+=1)z[d]=Mt(ht(n,v,d));let G=ie(n[7]),O=[];for(let d=0;d<G.length;d+=1)O[d]=It(ct(n,G,d));let ee=ie(n[3]),J=[];for(let d=0;d<ee.length;d+=1)J[d]=Rt(ft(n,ee,d));return N=new Ki({props:{points:n[8],highlighted:n[11]}}),N.$on("updateId",n[14]),{c(){e=ne("div"),t=W("svg"),i=W("defs"),l=W("path"),a=W("clipPath"),o=W("use"),I&&I.c(),r=W("g"),s=W("circle"),f=W("g");for(let d=0;d<C.length;d+=1)C[d].c();c=W("g");for(let d=0;d<E.length;d+=1)E[d].c();p=W("g");for(let d=0;d<D.length;d+=1)D[d].c();_=W("g"),T&&T.c(),S=W("g");for(let d=0;d<z.length;d+=1)z[d].c();y=W("g");for(let d=0;d<O.length;d+=1)O[d].c();w=W("g");for(let d=0;d<J.length;d+=1)J[d].c();M=Se(),Je(N.$$.fragment),this.h()},l(d){e=te(d,"DIV",{class:!0});var B=q(e);t=X(B,"svg",{viewBox:!0,style:!0});var L=q(t);i=X(L,"defs",{});var m=q(i);l=X(m,"path",{id:!0,d:!0}),q(l).forEach(P),a=X(m,"clipPath",{class:!0,id:!0});var V=q(a);o=X(V,"use",{href:!0}),q(o).forEach(P),V.forEach(P),m.forEach(P),I&&I.l(L),r=X(L,"g",{"clip-path":!0,class:!0});var ge=q(r);s=X(ge,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),q(s).forEach(P),f=X(ge,"g",{class:!0,fill:!0,stroke:!0});var Tn=q(f);for(let K=0;K<C.length;K+=1)C[K].l(Tn);Tn.forEach(P),c=X(ge,"g",{class:!0,fill:!0,stroke:!0});var Dn=q(c);for(let K=0;K<E.length;K+=1)E[K].l(Dn);Dn.forEach(P),p=X(ge,"g",{class:!0,fill:!0,stroke:!0});var $n=q(p);for(let K=0;K<D.length;K+=1)D[K].l($n);$n.forEach(P),_=X(ge,"g",{class:!0});var qn=q(_);T&&T.l(qn),qn.forEach(P),S=X(ge,"g",{class:!0});var Bn=q(S);for(let K=0;K<z.length;K+=1)z[K].l(Bn);Bn.forEach(P),y=X(ge,"g",{class:!0});var Fn=q(y);for(let K=0;K<O.length;K+=1)O[K].l(Fn);Fn.forEach(P),w=X(ge,"g",{class:!0});var jn=q(w);for(let K=0;K<J.length;K+=1)J[K].l(jn);jn.forEach(P),ge.forEach(P),L.forEach(P),B.forEach(P),M=we(d),Ke(N.$$.fragment,d),this.h()},h(){g(l,"id","sphere"),g(l,"d",n[12]({type:"Sphere"})),g(o,"href","#sphere"),g(a,"class","clip"),g(a,"id","clip"),g(s,"cx",h=n[1]/2),g(s,"cy",u=n[2]/2),g(s,"r",n[1]),g(s,"fill","#eeffff"),g(f,"class","marine svelte-ppdyav"),g(f,"fill","#e9f4ff"),g(f,"stroke","blue"),g(c,"class","world svelte-ppdyav"),g(c,"fill","white"),g(c,"stroke","none"),g(p,"class","contour svelte-ppdyav"),g(p,"fill","none"),g(p,"stroke","none"),g(_,"class","svelte-ppdyav"),g(S,"class","svelte-ppdyav"),g(y,"class","spoua svelte-ppdyav"),g(w,"class","nemo svelte-ppdyav"),g(r,"clip-path","url(#clip)"),g(r,"class","svelte-ppdyav"),g(t,"viewBox",k="0 0 "+n[1]+" "+n[2]),Re(t,"width","100%"),Re(t,"height","100vh"),g(e,"class","svelte-ppdyav"),At(()=>n[16].call(e))},m(d,B){H(d,e,B),$(e,t),$(t,i),$(i,l),$(i,a),$(a,o),I&&I.m(t,null),$(t,r),$(r,s),$(r,f);for(let L=0;L<C.length;L+=1)C[L]&&C[L].m(f,null);$(r,c);for(let L=0;L<E.length;L+=1)E[L]&&E[L].m(c,null);$(r,p);for(let L=0;L<D.length;L+=1)D[L]&&D[L].m(p,null);$(r,_),T&&T.m(_,null),$(r,S);for(let L=0;L<z.length;L+=1)z[L]&&z[L].m(S,null);$(r,y);for(let L=0;L<O.length;L+=1)O[L]&&O[L].m(y,null);$(r,w);for(let L=0;L<J.length;L+=1)J[L]&&J[L].m(w,null);R=Lt(e,n[16].bind(e)),H(d,M,B),xe(N,d,B),A=!0},p(d,B){if(d[0].length>1?I?I.p(d,B):(I=vt(d),I.c(),I.m(t,r)):I&&(I.d(1),I=null),(!A||B[0]&2&&h!==(h=d[1]/2))&&g(s,"cx",h),(!A||B[0]&4&&u!==(u=d[2]/2))&&g(s,"cy",u),(!A||B[0]&2)&&g(s,"r",d[1]),B[0]&4128){b=ie(d[5]);let m;for(m=0;m<b.length;m+=1){const V=dt(d,b,m);C[m]?C[m].p(V,B):(C[m]=mt(V),C[m].c(),C[m].m(f,null))}for(;m<C.length;m+=1)C[m].d(1);C.length=b.length}if(B[0]&4112){F=ie(d[4]);let m;for(m=0;m<F.length;m+=1){const V=gt(d,F,m);E[m]?E[m].p(V,B):(E[m]=Et(V),E[m].c(),E[m].m(c,null))}for(;m<E.length;m+=1)E[m].d(1);E.length=F.length}if(B[0]&4160){Z=ie(d[6]);let m;for(m=0;m<Z.length;m+=1){const V=_t(d,Z,m);D[m]?D[m].p(V,B):(D[m]=yt(V),D[m].c(),D[m].m(p,null))}for(;m<D.length;m+=1)D[m].d(1);D.length=Z.length}if(d[0].length>1?T?T.p(d,B):(T=St(d),T.c(),T.m(_,null)):T&&(T.d(1),T=null),B[0]&1){v=ie(d[0]);let m;for(m=0;m<v.length;m+=1){const V=ht(d,v,m);z[m]?z[m].p(V,B):(z[m]=Mt(V),z[m].c(),z[m].m(S,null))}for(;m<z.length;m+=1)z[m].d(1);z.length=v.length}if(B[0]&4224){G=ie(d[7]);let m;for(m=0;m<G.length;m+=1){const V=ct(d,G,m);O[m]?O[m].p(V,B):(O[m]=It(V),O[m].c(),O[m].m(y,null))}for(;m<O.length;m+=1)O[m].d(1);O.length=G.length}if(B[0]&8){ee=ie(d[3]);let m;for(m=0;m<ee.length;m+=1){const V=ft(d,ee,m);J[m]?J[m].p(V,B):(J[m]=Rt(V),J[m].c(),J[m].m(w,null))}for(;m<J.length;m+=1)J[m].d(1);J.length=ee.length}(!A||B[0]&6&&k!==(k="0 0 "+d[1]+" "+d[2]))&&g(t,"viewBox",k);const L={};B[0]&256&&(L.points=d[8]),B[0]&2048&&(L.highlighted=d[11]),N.$set(L)},i(d){A||(ye(N.$$.fragment,d),A=!0)},o(d){Ee(N.$$.fragment,d),A=!1},d(d){d&&(P(e),P(M)),I&&I.d(),me(C,d),me(E,d),me(D,d),T&&T.d(),me(z,d),me(O,d),me(J,d),R(),en(N,d)}}}function vt(n){var s,h;let e,t,i=((s=n[0][n[0].length-1])==null?void 0:s.name)+"",l,a,o=((h=n[0][n[0].length-1])==null?void 0:h.year)+"",r;return{c(){e=W("text"),t=W("textPath"),l=oe(i),a=oe(" — "),r=oe(o),this.h()},l(u){e=X(u,"text",{"text-anchor":!0,dy:!0,"font-size":!0,fill:!0});var f=q(e);t=X(f,"textPath",{href:!0,startOffset:!0});var c=q(t);l=ae(c,i),a=ae(c," — "),r=ae(c,o),c.forEach(P),f.forEach(P),this.h()},h(){g(t,"href","#sphere"),g(t,"startOffset","60%"),g(e,"text-anchor","left"),g(e,"dy","-5"),g(e,"font-size","36"),g(e,"fill","blue")},m(u,f){H(u,e,f),$(e,t),$(t,l),$(t,a),$(t,r)},p(u,f){var c,p;f[0]&1&&i!==(i=((c=u[0][u[0].length-1])==null?void 0:c.name)+"")&&Pe(l,i),f[0]&1&&o!==(o=((p=u[0][u[0].length-1])==null?void 0:p.year)+"")&&Pe(r,o)},d(u){u&&P(e)}}}function mt(n){let e,t;return{c(){e=W("path"),this.h()},l(i){e=X(i,"path",{d:!0,class:!0}),q(e).forEach(P),this.h()},h(){g(e,"d",t=n[12](n[25])),g(e,"class","marineBorders")},m(i,l){H(i,e,l)},p(i,l){l[0]&32&&t!==(t=i[12](i[25]))&&g(e,"d",t)},d(i){i&&P(e)}}}function Et(n){let e,t;return{c(){e=W("path"),this.h()},l(i){e=X(i,"path",{d:!0,class:!0}),q(e).forEach(P),this.h()},h(){g(e,"d",t=n[12](n[25])),g(e,"class","country")},m(i,l){H(i,e,l)},p(i,l){l[0]&16&&t!==(t=i[12](i[25]))&&g(e,"d",t)},d(i){i&&P(e)}}}function yt(n){let e,t;return{c(){e=W("path"),this.h()},l(i){e=X(i,"path",{d:!0,class:!0}),q(e).forEach(P),this.h()},h(){g(e,"d",t=n[12](n[25])),g(e,"class","contour svelte-ppdyav")},m(i,l){H(i,e,l)},p(i,l){l[0]&64&&t!==(t=i[12](i[25]))&&g(e,"d",t)},d(i){i&&P(e)}}}function St(n){let e,t=ie(n[0]),i=[];for(let l=0;l<t.length;l+=1)i[l]=Pt(pt(n,t,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ue()},l(l){for(let a=0;a<i.length;a+=1)i[a].l(l);e=ue()},m(l,a){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(l,a);H(l,e,a)},p(l,a){if(a[0]&1){t=ie(l[0]);let o;for(o=0;o<t.length;o+=1){const r=pt(l,t,o);i[o]?i[o].p(r,a):(i[o]=Pt(r),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(l){l&&P(e),me(i,l)}}}function wt(n){let e,t,i,l,a,o;return{c(){e=W("line"),this.h()},l(r){e=X(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),q(e).forEach(P),this.h()},h(){g(e,"x1",t=n[0][n[27]-1].cx),g(e,"y1",i=n[0][n[27]-1].cy),g(e,"x2",l=n[30].cx),g(e,"y2",a=n[30].cy),g(e,"class",o=Qe(n[27]===n[0].length-1?"line highlite":"line old")+" svelte-ppdyav")},m(r,s){H(r,e,s)},p(r,s){s[0]&1&&t!==(t=r[0][r[27]-1].cx)&&g(e,"x1",t),s[0]&1&&i!==(i=r[0][r[27]-1].cy)&&g(e,"y1",i),s[0]&1&&l!==(l=r[30].cx)&&g(e,"x2",l),s[0]&1&&a!==(a=r[30].cy)&&g(e,"y2",a),s[0]&1&&o!==(o=Qe(r[27]===r[0].length-1?"line highlite":"line old")+" svelte-ppdyav")&&g(e,"class",o)},d(r){r&&P(e)}}}function Pt(n){let e,t=n[27]>0&&n[0][n[27]].name===n[0][n[27]-1].name&&wt(n);return{c(){t&&t.c(),e=ue()},l(i){t&&t.l(i),e=ue()},m(i,l){t&&t.m(i,l),H(i,e,l)},p(i,l){i[27]>0&&i[0][i[27]].name===i[0][i[27]-1].name?t?t.p(i,l):(t=wt(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&P(e),t&&t.d(i)}}}function nl(n){let e,t,i,l;return{c(){e=W("circle"),this.h()},l(a){e=X(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),q(e).forEach(P),this.h()},h(){g(e,"cx",t=n[20]),g(e,"cy",i=n[21]),g(e,"r",l=n[28]),g(e,"fill","blue"),g(e,"class","highlite svelte-ppdyav")},m(a,o){H(a,e,o)},p(a,o){o[0]&1&&t!==(t=a[20])&&g(e,"cx",t),o[0]&1&&i!==(i=a[21])&&g(e,"cy",i),o[0]&1&&l!==(l=a[28])&&g(e,"r",l)},d(a){a&&P(e)}}}function tl(n){let e,t,i,l,a;return{c(){e=W("circle"),this.h()},l(o){e=X(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),q(e).forEach(P),this.h()},h(){g(e,"cx",t=n[20]),g(e,"cy",i=n[21]),g(e,"r",l=n[28]),g(e,"fill","blue"),g(e,"class",a=Qe(n[27]===n[0].length-1?"dot highlite":"dot old")+" svelte-ppdyav")},m(o,r){H(o,e,r)},p(o,r){r[0]&1&&t!==(t=o[20])&&g(e,"cx",t),r[0]&1&&i!==(i=o[21])&&g(e,"cy",i),r[0]&1&&l!==(l=o[28])&&g(e,"r",l),r[0]&1&&a!==(a=Qe(o[27]===o[0].length-1?"dot highlite":"dot old")+" svelte-ppdyav")&&g(e,"class",a)},d(o){o&&P(e)}}}function kt(n){let e,t=n[22]+"",i,l,a;return{c(){e=W("text"),i=oe(t),this.h()},l(o){e=X(o,"text",{x:!0,y:!0,class:!0,"font-size":!0});var r=q(e);i=ae(r,t),r.forEach(P),this.h()},h(){g(e,"x",l=n[28]+n[20]+8),g(e,"y",a=n[21]+2),g(e,"class","satellite-name svelte-ppdyav"),g(e,"font-size","8")},m(o,r){H(o,e,r),$(e,i)},p(o,r){r[0]&1&&t!==(t=o[22]+"")&&Pe(i,t),r[0]&1&&l!==(l=o[28]+o[20]+8)&&g(e,"x",l),r[0]&1&&a!==(a=o[21]+2)&&g(e,"y",a)},d(o){o&&P(e)}}}function Mt(n){let e,t;function i(r,s){if(r[27]>0&&r[0][r[27]].name===r[0][r[27]-1].name)return tl;if(r[27]===r[0].length-1)return nl}let l=i(n),a=l&&l(n),o=n[27]===n[0].length-1&&kt(n);return{c(){a&&a.c(),e=ue(),o&&o.c(),t=ue()},l(r){a&&a.l(r),e=ue(),o&&o.l(r),t=ue()},m(r,s){a&&a.m(r,s),H(r,e,s),o&&o.m(r,s),H(r,t,s)},p(r,s){l===(l=i(r))&&a?a.p(r,s):(a&&a.d(1),a=l&&l(r),a&&(a.c(),a.m(e.parentNode,e))),r[27]===r[0].length-1?o?o.p(r,s):(o=kt(r),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(r){r&&(P(e),P(t)),a&&a.d(r),o&&o.d(r)}}}function It(n){let e,t;return{c(){e=W("path"),this.h()},l(i){e=X(i,"path",{d:!0,class:!0}),q(e).forEach(P),this.h()},h(){g(e,"d",t=n[12](n[25])),g(e,"class","spoua svelte-ppdyav")},m(i,l){H(i,e,l)},p(i,l){l[0]&128&&t!==(t=i[12](i[25]))&&g(e,"d",t)},d(i){i&&P(e)}}}function Nt(n){let e,t,i,l,a=n[22]+"",o,r,s;return{c(){e=W("circle"),l=W("text"),o=oe(a),this.h()},l(h){e=X(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),q(e).forEach(P),l=X(h,"text",{x:!0,y:!0,"font-size":!0,class:!0});var u=q(l);o=ae(u,a),u.forEach(P),this.h()},h(){g(e,"cx",t=n[20]),g(e,"cy",i=n[21]),g(e,"r",1),g(e,"fill","black"),g(e,"class","svelte-ppdyav"),g(l,"x",r=n[20]+4),g(l,"y",s=n[21]+2),g(l,"font-size","8"),g(l,"class","svelte-ppdyav")},m(h,u){H(h,e,u),H(h,l,u),$(l,o)},p(h,u){u[0]&8&&t!==(t=h[20])&&g(e,"cx",t),u[0]&8&&i!==(i=h[21])&&g(e,"cy",i),u[0]&8&&a!==(a=h[22]+"")&&Pe(o,a),u[0]&8&&r!==(r=h[20]+4)&&g(l,"x",r),u[0]&8&&s!==(s=h[21]+2)&&g(l,"y",s)},d(h){h&&(P(e),P(l))}}}function Rt(n){let e,t=n[20]&&n[21]&&Nt(n);return{c(){t&&t.c(),e=ue()},l(i){t&&t.l(i),e=ue()},m(i,l){t&&t.m(i,l),H(i,e,l)},p(i,l){i[20]&&i[21]?t?t.p(i,l):(t=Nt(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&P(e),t&&t.d(i)}}}function il(n){let e,t,i,l,a,o,r,s,h;t=new Yi({props:{currentPoint:n[9]}}),l=new Ui({props:{index:n[10],points:n[8]}}),l.$on("updateIndex",n[13]);const u=[el,xi],f=[];function c(p,_){return p[0].length>1?0:1}return r=c(n),s=f[r]=u[r](n),{c(){e=ne("section"),Je(t.$$.fragment),i=Se(),Je(l.$$.fragment),a=Se(),o=ne("article"),s.c(),this.h()},l(p){e=te(p,"SECTION",{});var _=q(e);Ke(t.$$.fragment,_),i=we(_),Ke(l.$$.fragment,_),_.forEach(P),a=we(p),o=te(p,"ARTICLE",{class:!0});var S=q(o);s.l(S),S.forEach(P),this.h()},h(){g(o,"class","svelte-ppdyav")},m(p,_){H(p,e,_),xe(t,e,null),$(e,i),xe(l,e,null),H(p,a,_),H(p,o,_),f[r].m(o,null),h=!0},p(p,_){const S={};_[0]&512&&(S.currentPoint=p[9]),t.$set(S);const y={};_[0]&1024&&(y.index=p[10]),_[0]&256&&(y.points=p[8]),l.$set(y);let w=r;r=c(p),r===w?f[r].p(p,_):(bt(),Ee(f[w],1,1,()=>{f[w]=null}),Tt(),s=f[r],s?s.p(p,_):(s=f[r]=u[r](p),s.c()),ye(s,1),s.m(o,null))},i(p){h||(ye(t.$$.fragment,p),ye(l.$$.fragment,p),ye(s),h=!0)},o(p){Ee(t.$$.fragment,p),Ee(l.$$.fragment,p),Ee(s),h=!1},d(p){p&&(P(e),P(a),P(o)),en(t),en(l),f[r].d()}}}function ll(n,e,t){let i,l=window.innerWidth,a=window.innerHeight-10,{data:o}=e;const r=Vi().rotate([123,48]).scale(230).precision(1).clipAngle(100).translate([l/3,a/2]),s=zi().projection(r);let h=[{lon:-126.3622344,lat:-72.9741938,name:"Maher Island"},{lon:-109.452777777778,lat:-27.2013888888889,name:"Easter Island"},{lon:-124.787888,lat:-24.6807263,name:"Ducie Island"},{lon:-123.3933333,lat:-48.8766667,name:"Point Nemo"}],u=[],f=[],c=[],p=[],_=[],S=[],y=null,w=0,k;Ct(async()=>{try{const I=await fetch("world.json").then(E=>E.json()),b=await fetch("EEZ_land_v2_201410.json").then(E=>E.json()),C=await fetch("contour.json").then(E=>E.json()),F=await fetch("spoua.json").then(E=>E.json());t(4,u=We(I,I.objects.land).features),t(5,f=We(b,b.objects.EEZ_land_v2_201410).features),t(6,c=We(C,C.objects.collection).features),t(7,p=We(F,F.objects.spoua).features),t(8,_=o.map(E=>{const[Z,D]=r([E.lon,E.lat]);return{cx:Z,cy:D,name:E.satellite_name,year:E.satellite_decay,r:E.rcs}}).filter(E=>!isNaN(E.cx)&&!isNaN(E.cy))),t(3,h=h.map(E=>{const[Z,D]=r([E.lon,E.lat]);return{cx:Z,cy:D,name:E.name}})),R()}catch(I){console.error("Error loading or processing data:",I)}});const R=()=>{k&&clearInterval(k),t(10,w=0),t(0,S=[]),k=setInterval(()=>{w<_.length?(t(0,S=[...S,_[w]]),t(9,y=_[w]),t(10,w+=1)):clearInterval(k)},500)},M=I=>{t(10,w=I.detail),t(0,S=_.slice(0,w+1)),t(9,y=S[S.length-1]),t(11,i=_[w+1])},N=I=>{t(10,w=_.findIndex(b=>b.name==I.detail.name&&b.year==I.detail.year)),t(0,S=_.slice(0,w+1))};function A(){l=this.clientWidth,a=this.clientHeight,t(1,l),t(2,a)}return n.$$set=I=>{"data"in I&&t(15,o=I.data)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(11,i=S.slice(-1)[0])},[S,l,a,h,u,f,c,p,_,y,w,i,s,M,N,o,A]}let rl=class extends He{constructor(e){super(),Ve(this,e,ll,il,Oe,{data:15},null,[-1,-1])}};function ol(n){let e,t,i,l;return t=new rl({props:{data:n[0]}}),{c(){e=ne("article"),Je(t.$$.fragment),this.h()},l(a){e=te(a,"ARTICLE",{class:!0});var o=q(e);Ke(t.$$.fragment,o),o.forEach(P),this.h()},h(){g(e,"class","svelte-15rfg81"),At(()=>n[3].call(e))},m(a,o){H(a,e,o),xe(t,e,null),i=Lt(e,n[3].bind(e)),l=!0},p(a,o){const r={};o&1&&(r.data=a[0]),t.$set(r)},i(a){l||(ye(t.$$.fragment,a),l=!0)},o(a){Ee(t.$$.fragment,a),l=!1},d(a){a&&P(e),en(t),i()}}}function al(n){let e,t="Loading...";return{c(){e=ne("p"),e.textContent=t,this.h()},l(i){e=te(i,"P",{class:!0,"data-svelte-h":!0}),Cn(e)!=="svelte-qdsr2u"&&(e.textContent=t),this.h()},h(){g(e,"class","svelte-15rfg81")},m(i,l){H(i,e,l)},p:ce,i:ce,o:ce,d(i){i&&P(e)}}}function ul(n){let e,t,i,l;const a=[al,ol],o=[];function r(s,h){return s[0].length===0?0:1}return e=r(n),t=o[e]=a[e](n),{c(){t.c(),i=ue()},l(s){t.l(s),i=ue()},m(s,h){o[e].m(s,h),H(s,i,h),l=!0},p(s,[h]){let u=e;e=r(s),e===u?o[e].p(s,h):(bt(),Ee(o[u],1,1,()=>{o[u]=null}),Tt(),t=o[e],t?t.p(s,h):(t=o[e]=a[e](s),t.c()),ye(t,1),t.m(i.parentNode,i))},i(s){l||(ye(t),l=!0)},o(s){Ee(t),l=!1},d(s){s&&P(i),o[e].d(s)}}}function sl(n,e,t){let i=[],l,a;Ct(async()=>{const s=await(await fetch("data.json")).json(),h=Math.min(...s.map(f=>f.rcs)),u=Math.max(...s.map(f=>f.rcs));t(0,i=s.map(f=>({...f,rcs:1+(f.rcs-h)*19/(u-h)})))});function o(){l=this.clientWidth,a=this.clientHeight,t(1,l),t(2,a)}return[i,l,a,o]}class pl extends He{constructor(e){super(),Ve(this,e,sl,ul,Oe,{})}}export{pl as component};
